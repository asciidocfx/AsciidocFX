(function(a){function b(a,b,c){var d=function(){},e=d.prototype=new a.constructor;b.$$scope=e,b.$$base_module=a.base,e.base=b,e.constructor=d,e.constants=[],c&&(b.$$orig_scope=a,a[c]=a.constructor[c]=b,a.constants.push(c))}function c(a,b){var c=i(null,b,a);return d(a,c)}function d(a,b){function c(){}var d=function(){};d.prototype=a.constructor.prototype,c.prototype=new d;var f=new c;return e(f,c,a,b.prototype),f.$$alloc=b,f.$$proto.$$class=f,f}function e(a,b,c,d){a.$$id=y.uid(),a.$$proto=d,a.constructor=b,a.$$is_class=!0,a.$$super=c,a.$$parent=c,a.$$methods=[],a.$$inc=[]}function f(){function a(){}var b=function(){};b.prototype=H.constructor.prototype,a.prototype=new b;var c=new a,d={};return e(c,a,H,d),c.$$is_mod=!0,c.$$dep=[],c}function g(a){var b=new y.Class.$$alloc;return b.$$class=y.Class,b.$$proto=a.constructor.prototype,b.$$is_singleton=!0,b.$$inc=[],b.$$methods=[],b.$$scope=a.$$scope,a.$$meta=b}function h(a){var b=a.$$class,c="#<Class:#<"+b.$$name+":"+b.$$id+">>",d=function(){},e=y.boot(b,d);return e.$$name=c,e.$$proto=a,e.$$class=b.$$class,e.$$scope=b.$$scope,e.$$parent=b,a.$$meta=e}function i(a,b,c){if(c){var d=function(){};d.prototype=c.$$proto||c.prototype,a&&(d.displayName=a),b.prototype=new d}return b.prototype.constructor=b,b}function j(a,b,c){var d=function(){};d.prototype=c.prototype;var f=function(){};f.prototype=new d,f.displayName="#<Class:"+a+">";var g=new f;return e(g,f,c,b.prototype),g.$$alloc=b,g.$$name=a,b.prototype.$$class=g,y[a]=g,y.constants.push(a),g}function k(c,e,f){var g=d(G,e);g.$$name=c,f=f===a?y:f.$$scope,b(f,g,c),z.push(g);for(var h=F.$$methods.concat(G.$$methods),i=0,j=h.length;j>i;i++){var k=h[i];e.prototype[k]=G.$$proto[k]}return m(e.prototype),g}function l(a,b){for(var c=a.$$scope.constants,d=b.$$scope,e=d.constants,f=0,g=c.length;g>f;f++)e.push(c[f]),d[c[f]]=a.$$scope[c[f]]}function m(a){y.stub_subscribers.push(a)}function n(a,b){var c=o(b);a[b]=c}function o(a){function b(){return this.$method_missing.$$p=b.$$p,b.$$p=null,this.$method_missing.apply(this,[a.slice(1)].concat(C.call(arguments)))}return b.$$stub=!0,b}function p(a,b,c){var d=a.$$meta||a.$$class;for(b="$"+b;d&&d.$$proto[b]!==c;)d=d.$$parent;if(!d)throw new Error("could not find current class for super()");for(d=d.$$parent;d;){var e=d.$$proto[b];if(e&&e!==c)break;d=d.$$parent}return d.$$proto}function q(a,b,c){var d=a.$$methods,e=a.$$dep;if(a.$$methods=d.concat(b),e)for(var f=0,g=e.length;g>f;f++){for(var h=e[f],i=h.$$proto,j=0,k=b.length;k>j;j++){var l=b[j];i[l]=a.$$proto[l],i[l].$$donated=!0}h.$$dep&&q(h,b,!0)}}function r(a,b,c){a.$$proto[b]=c,c.$$owner=a,a.$$methods.push(b),a.$$module_function&&(a[b]=c);var d=a.$$dep;if(d)for(var e=0,f=d.length;f>e;e++){var g=d[e],h=g.$$proto,i=h[b];if(!h.hasOwnProperty(b)||i.$$donated||i.$$stub)if(h.hasOwnProperty(b)&&!i.$$stub){for(var j=g.$$inc,k=0,l=j.length;l>k;k++){if(j[k]===i.$$owner)var m=k;if(j[k]===a)var n=k}n>=m&&(h[b]=c,h[b].$$donated=!0)}else h[b]=c,h[b].$$donated=!0;else;g.$$dep&&q(g,[b],!0)}}function s(a,b){F.$$methods.push(a);for(var c=0,d=z.length;d>c;c++)z[c].$$proto[a]=b}function t(){}function u(){}function v(){}function w(){}function x(){}if("undefined"!=typeof this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var y=this.Opal={},z=y.bridged_classes=[],A=function(){};A.prototype=y,y.constructor=A,y.constants=[],y.global=this;var B=y.hasOwnProperty,C=y.slice=Array.prototype.slice,D=4,E=D;y.uid=function(){return E+=2},y.cvars={},y.gvars={},y.exit=function(a){y.gvars.DEBUG&&console.log("Exited with status "+a)},y.get=function(a){var b=this[a];return null==b?this.base.$const_missing(a):b},y.create_scope=b,y.klass=function(a,d,e,f){a.$$is_class||(a=a.$$class),null===d&&(d=G);var g=a.$$scope[e];if(B.call(a.$$scope,e)&&g.$$orig_scope===a.$$scope){if(!g.$$is_class)throw y.TypeError.$new(e+" is not a class");if(d!==g.$$super&&d!==G)throw y.TypeError.$new("superclass mismatch for class "+e)}else{if("function"==typeof d)return k(e,d,a);g=c(d,f),g.$$name=e,b(a.$$scope,g,e),a[e]=a.$$scope[e]=g,d!==G&&d!==F&&l(d,g),d.$inherited&&d.$inherited(g)}return g},y.boot=c,y.module=function(a,c){var d;if(a.$$is_class||(a=a.$$class),B.call(a.$$scope,c)){if(d=a.$$scope[c],!d.$$is_mod&&d!==G)throw y.TypeError.$new(c+" is not a module")}else d=f(),d.$$name=c,b(a.$$scope,d,c),a[c]=a.$$scope[c]=d;return d},y.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.$$is_class?g(a):h(a)},y.append_features=function(a,b){for(var c=b.$$inc,d=0,e=c.length;e>d;d++)if(c[d]===a)return;c.push(a),a.$$dep.push(b);var f={$$name:a.$$name,$$proto:a.$$proto,$$parent:b.$$parent,$$module:a,$$iclass:!0};b.$$parent=f;for(var g=a.$$proto,h=b.$$proto,i=a.$$methods,j=0,k=i.length;k>j;j++){var m,n=i[j];(!h.hasOwnProperty(n)||(m=h[n]).$$donated||m.$$stub)&&(h[n]=g[n],h[n].$$donated=!0)}b.$$dep&&q(b,i.slice(),!0),l(a,b)},y.casgn=function(a,b,c){var d=a.$$scope;return c.$$is_class&&c.$$name===J&&(c.$$name=b),c.$$is_class&&(c.$$base_module=a),d.constants.push(b),d[b]=c},y.cdecl=function(a,b,c){return a.constants.push(b),a[b]=c},y.add_stubs=function(a){for(var b,c=y.stub_subscribers,d=0,e=a.length;e>d;d++)for(var f=a[d],g=o(f),h=0;h<c.length;h++)b=c[h],f in b||(b[f]=g)},y.stub_subscribers=[t.prototype],y.add_stub_for=n,y.ac=function(a,b,c,d){var e=(c.$$is_class?c.$$name+".":c.$$class.$$name+"#")+d,f="["+e+"] wrong number of arguments("+a+" for "+b+")";throw y.ArgumentError.$new(f)},y.find_super_dispatcher=function(a,b,c,d,e){var f;return f=e?a.$$is_class?e.$$super:a.$$class.$$proto:a.$$is_class?a.$$super:p(a,b,c),f=f["$"+b],f.$$p=d,f},y.find_iter_super_dispatcher=function(a,b,c,d,e){return c.$$def?y.find_super_dispatcher(a,c.$$jsid,c,d,e):y.find_super_dispatcher(a,b,c,d,e)},y.ret=function(a){throw y.returner.$v=a,y.returner},y.yield1=function(a,b){if("function"!=typeof a)throw y.LocalJumpError.$new("no block given");return a.length>1&&b.$$is_array?a.apply(null,b):a(b)},y.yieldX=function(a,b){if("function"!=typeof a)throw y.LocalJumpError.$new("no block given");return a.length>1&&1==b.length&&b[0].$$is_array?a.apply(null,b[0]):(b.$$is_array||(b=C.call(b)),a.apply(null,b))},y.rescue=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.$$is_array){var e=y.rescue(a,d);if(e)return e}else if(d["$==="](a))return d}return null},y.is_a=function(a,b){if(a.$$meta===b)return!0;for(var c=a.$$class;c;){if(c===b)return!0;for(var d=0,e=c.$$inc.length;e>d;d++)if(c.$$inc[d]==b)return!0;c=c.$$super}return!1},y.to_ary=function(a){return a.$$is_array?a:a.$to_ary&&!a.$to_ary.$$stub?a.$to_ary():[a]},y.kwrestargs=function(a,b){var c=[],d={},e=null,f=a.smap;for(e in f)b[e]||(c.push(e),d[e]=f[e]);return y.hash2(c,d)},y.send=function(a,b){var c=C.call(arguments,2),d=a["$"+b];return d?d.apply(a,c):a.$method_missing.apply(a,[b].concat(c))},y.block_send=function(a,b,c){var d=C.call(arguments,3),e=a["$"+b];return e?(e.$$p=c,e.apply(a,d)):a.$method_missing.apply(a,[b].concat(d))},y.defn=function(a,b,c){return a.$$is_mod?r(a,b,c):a.$$is_class?(a.$$proto[b]=c,a===F?s(b,c):a===G&&q(a,[b])):a[b]=c,J},y.defs=function(a,b,c){a.$$is_class||a.$$is_mod?a.constructor.prototype[b]=c:a[b]=c},y.undef=function(a,b){delete a.$$proto[b]},y.hash=function(){if(1==arguments.length&&arguments[0].$$class==y.Hash)return arguments[0];var a,b,c,d,e,f=new y.Hash.$$alloc,g=[],h={},i={};if(f.map=h,f.smap=i,f.keys=g,1==arguments.length)if(arguments[0].$$is_array)for(var j=arguments[0],k=0,l=j.length;l>k;k++){var m=j[k];if(2!==m.length)throw y.ArgumentError.$new("value not of length 2: "+m.$inspect());a=m[0],b=m[1],a.$$is_string?(d=a,e=i):(d=a.$hash(),e=h),null==e[d]&&g.push(a),e[d]=b}else{b=arguments[0];for(a in b)d=a.$hash(),i[d]=b[d],g.push(a)}else{if(c=arguments.length,c%2!==0)throw y.ArgumentError.$new("odd number of arguments for Hash");for(var n=0;c>n;n++)a=arguments[n],b=arguments[++n],a.$$is_string?(d=a,e=i):(d=a.$hash(),e=h),null==e[d]&&g.push(a),e[d]=b}return f},y.hash2=function(a,b){var c=new y.Hash.$$alloc;return c.keys=a,c.map={},c.smap=b,c},y.range=function(a,b,c){var d=new y.Range.$$alloc;return d.begin=a,d.end=b,d.exclude=c,d},function(a){function b(a){return g[a]?!1:(f.push(a),g[a]=!0,!0)}function c(a){var b,c,d=[],e="/";"."!==i&&(a=i.replace(/\/*$/,"/")+a),a=a.replace(/\.(rb|opal|js)$/,""),b=a.split(e);for(var f=0,g=b.length;g>f;f++)c=b[f],""!=c&&(".."===c?d.pop():d.push(c));return d.join(e)}function d(c){b(c);var d=h[c];if(d)d(a);else{var e=a.dynamic_require_severity||"warning",f="cannot load such file -- "+c;"error"===e?a.LoadError?a.LoadError.$new(f):function(){throw f}():"warning"===e&&console.warn("WARNING: LoadError: "+f)}return!0}function e(a){return g[a]?!1:d(a)}var f=["corelib/runtime"],g={"corelib/runtime":!0},h={},i=".";a.modules=h,a.loaded_features=f,a.normalize_loadable_path=c,a.mark_as_loaded=b,a.load=d,a.require=e}(y);var F,G,H,I;i("BasicObject",t),i("Object",u,t),i("Module",w,u),i("Class",v,w),F=j("BasicObject",t,v),G=j("Object",u,F.constructor),H=j("Module",w,G.constructor),I=j("Class",v,H.constructor),F.$$class=I,G.$$class=I,H.$$class=I,I.$$class=I,F.$$super=null,G.$$super=F,H.$$super=G,I.$$super=H,F.$$parent=null,G.$$parent=F,H.$$parent=G,I.$$parent=H,G.$$dep=z,y.base=G,F.$$scope=G.$$scope=y,F.$$orig_scope=G.$$orig_scope=y,y.Kernel=G,H.$$scope=G.$$scope,H.$$orig_scope=G.$$orig_scope,I.$$scope=G.$$scope,I.$$orig_scope=G.$$orig_scope,G.$$proto.toString=function(){return this.$to_s()},G.$$proto.$require=y.require,y.top=new G.$$alloc,y.klass(G,G,"NilClass",x);var J=y.nil=new x;J.$$id=D,J.call=J.apply=function(){throw y.LocalJumpError.$new("no block given")},y.breaker=new Error("unexpected break"),y.returner=new Error("unexpected return"),k("Array",Array),k("Boolean",Boolean),k("Numeric",Number),k("String",String),k("Proc",Function),k("Exception",Error),k("Regexp",RegExp),k("Time",Date),TypeError.$$super=Error}).call(this),"undefined"!=typeof global&&(global.Opal=this.Opal,Opal.global=global),"undefined"!=typeof window&&(window.Opal=this.Opal,Opal.global=window),Opal.modules["corelib/helpers"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module;return a.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$inspect"]),function(b){var f=e(b,"Opal"),g=(f.$$proto,f.$$scope);a.defs(f,"$type_error",function(a,b,d,e){var f,h;return null==d&&(d=c),null==e&&(e=c),(f=(h=d!==!1&&d!==c)?e:h)===c||f.$$is_boolean&&1!=f?g.get("TypeError").$new("no implicit conversion of "+a.$class()+" into "+b):g.get("TypeError").$new("can't convert "+a.$class()+" into "+b+" ("+a.$class()+"#"+d+" gives "+e.$class())}),a.defs(f,"$coerce_to",function(a,b,d){var e,f=this;return(e=b["$==="](a))===c||e.$$is_boolean&&1!=e?(((e=a["$respond_to?"](d))===c||e.$$is_boolean&&1!=e)&&f.$raise(f.$type_error(a,b)),a.$__send__(d)):a}),a.defs(f,"$coerce_to!",function(a,b,d){var e,f=this,g=c;return g=f.$coerce_to(a,b,d),((e=b["$==="](g))===c||e.$$is_boolean&&1!=e)&&f.$raise(f.$type_error(a,b,d,g)),g}),a.defs(f,"$coerce_to?",function(a,b,d){var e,f=this,g=c;return(e=a["$respond_to?"](d))===c||e.$$is_boolean&&1!=e?c:(g=f.$coerce_to(a,b,d),(e=g["$nil?"]())===c||e.$$is_boolean&&1!=e?(((e=b["$==="](g))===c||e.$$is_boolean&&1!=e)&&f.$raise(f.$type_error(a,b,d,g)),g):c)}),a.defs(f,"$try_convert",function(a,b,d){var e;return(e=b["$==="](a))===c||e.$$is_boolean&&1!=e?(e=a["$respond_to?"](d))===c||e.$$is_boolean&&1!=e?c:a.$__send__(d):a}),a.defs(f,"$compare",function(a,b){var d,e=this,f=c;return f=a["$<=>"](b),(d=f===c)===c||d.$$is_boolean&&1!=d||e.$raise(g.get("ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed"),f}),a.defs(f,"$destructure",function(a){return 1==a.length?a[0]:a.$$is_array?a:d.call(a)}),a.defs(f,"$respond_to?",function(a,b){return null!=a&&a.$$class?a["$respond_to?"](b):!1}),a.defs(f,"$inspect",function(a){return void 0===a?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()})}(b)},Opal.modules["corelib/module"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass;return a.add_stubs(["$attr_reader","$attr_writer","$coerce_to!","$raise","$=~","$[]","$!","$==","$inject","$const_get","$split","$const_missing","$to_str","$===","$to_proc","$lambda","$bind","$call","$class","$append_features","$included","$name","$new","$to_s","$__id__"]),function(b,f){function g(){}var h,i,j,k,l=g=e(b,f,"Module",g),m=l.$$proto,n=l.$$scope;return a.defs(l,"$new",h=function(){function b(){}var d=h.$$p,e=d||c;h.$$p=null;var f=a.boot(a.Module,b);if(f.$$name=c,f.$$class=a.Module,f.$$dep=[],f.$$is_mod=!0,f.$$proto={},a.create_scope(a.Module.$$scope,f),e!==c){var g=e.$$s;e.$$s=null,e.call(f),e.$$s=g}return f}),m["$==="]=function(b){var d,e=this;return(d=null==b)===c||d.$$is_boolean&&1!=d?a.is_a(b,e):!1},m["$<"]=function(a){for(var b=this,c=b;c;){if(c===a)return!0;c=c.$$parent}return!1},m.$alias_method=function(b,c){var d=this,e="$"+b,f=d.$$proto["$"+c];return d.$$is_singleton?d.$$proto[e]=f:a.defn(d,e,f),d},m.$alias_native=function(a,b){var c=this;return null==b&&(b=a),c.$$proto["$"+a]=c.$$proto[b]},m.$ancestors=function(){for(var a=this,b=a,c=[];b;)c.push(b),c=c.concat(b.$$inc),b=b.$$super;return c},m.$append_features=function(b){var c=this;return a.append_features(c,b),c},m.$attr_accessor=function(a){var b,c,e=this;return a=d.call(arguments,0),(b=e).$attr_reader.apply(b,[].concat(a)),(c=e).$attr_writer.apply(c,[].concat(a))},a.defn(l,"$attr",m.$attr_accessor),m.$attr_reader=function(b){var e=this;b=d.call(arguments,0);for(var f=e.$$proto,g=b.length-1;g>=0;g--){var h=b[g],i="$"+h,j=function(a){return function(){return this[a]}}(h);f[h]=c,e.$$is_singleton?f.constructor.prototype[i]=j:a.defn(e,i,j)}return c},m.$attr_writer=function(b){var e=this;b=d.call(arguments,0);for(var f=e.$$proto,g=b.length-1;g>=0;g--){var h=b[g],i="$"+h+"=",j=function(a){return function(b){return this[a]=b}}(h);f[h]=c,e.$$is_singleton?f.constructor.prototype[i]=j:a.defn(e,i,j)}return c},m.$autoload=function(a,b){var d,e=this;return(d=e.$$autoload)||(d=e.$$autoload={}),d[a]=b,c},m.$class_variable_get=function(b){var d,e=this;b=n.get("Opal")["$coerce_to!"](b,n.get("String"),"to_str"),(d=b.length<3||"@@"!==b.slice(0,2))===c||d.$$is_boolean&&1!=d||e.$raise(n.get("NameError"),"class vars should start with @@");var f=a.cvars[b.slice(2)];return function(){return(d=null==f)===c||d.$$is_boolean&&1!=d?c:e.$raise(n.get("NameError"),"uninitialized class variable @@a in")}(),f},m.$class_variable_set=function(b,d){var e,f=this;return b=n.get("Opal")["$coerce_to!"](b,n.get("String"),"to_str"),(e=b.length<3||"@@"!==b.slice(0,2))===c||e.$$is_boolean&&1!=e||f.$raise(n.get("NameError")),a.cvars[b.slice(2)]=d,d},m.$constants=function(){var a=this;return a.$$scope.constants},m["$const_defined?"]=function(b,d){var e,f=this;null==d&&(d=!0),((e=b["$=~"](/^[A-Z]\w*$/))===c||e.$$is_boolean&&1!=e)&&f.$raise(n.get("NameError"),"wrong constant name "+b);var g=[f.$$scope];if(d||f===a.Object)for(var h=f.$$super;h!==a.BasicObject;)g.push(h.$$scope),h=h.$$super;for(var i=0,j=g.length;j>i;i++)if(g[i].hasOwnProperty(b))return!0;return!1},m.$const_get=function(b,d){var e,f,g,h=this;if(null==d&&(d=!0),f=b["$[]"]("::"),(e=f!==!1&&f!==c?b["$=="]("::")["$!"]():f)!==c&&(!e.$$is_boolean||1==e))return(e=(f=b.$split("::")).$inject,e.$$p=(g=function(a,b){g.$$s||this;return null==a&&(a=c),null==b&&(b=c),a.$const_get(b)},g.$$s=h,g),e).call(f,h);((e=b["$=~"](/^[A-Z]\w*$/))===c||e.$$is_boolean&&1!=e)&&h.$raise(n.get("NameError"),"wrong constant name "+b);var i=[h.$$scope];if(d||h==a.Object)for(var j=h.$$super;j!==a.BasicObject;)i.push(j.$$scope),j=j.$$super;for(var k=0,l=i.length;l>k;k++)if(i[k].hasOwnProperty(b))return i[k][b];return h.$const_missing(b)},m.$const_missing=function(a){var b=this;if(b.$$autoload){var c=b.$$autoload[a];if(c)return b.$require(c),b.$const_get(a)}return b.$raise(n.get("NameError"),"uninitialized constant "+b+"::"+a)},m.$const_set=function(b,d){var e,f=this;((e=b["$=~"](/^[A-Z]\w*$/))===c||e.$$is_boolean&&1!=e)&&f.$raise(n.get("NameError"),"wrong constant name "+b);try{b=b.$to_str()}catch(g){f.$raise(n.get("TypeError"),"conversion with #to_str failed")}return a.casgn(f,b,d),d},m.$define_method=i=function(b,e){var f,g,h,j,k=this,l=i.$$p,m=l||c,o=c;i.$$p=null,(f=void 0===e&&!(m!==c))===c||f.$$is_boolean&&1!=f||k.$raise(n.get("ArgumentError"),"tried to create a Proc object without a block"),(f=m)!==!1&&f!==c?f:m=function(){return o=e,n.get("Proc")["$==="](o)?e:n.get("Method")["$==="](o)?e.$to_proc():n.get("UnboundMethod")["$==="](o)?(g=(h=k).$lambda,g.$$p=(j=function(a){var b,f=j.$$s||this,g=c;return a=d.call(arguments,0),g=e.$bind(f),(b=g).$call.apply(b,[].concat(a))},j.$$s=k,j),g).call(h):k.$raise(n.get("TypeError"),"wrong argument type "+m.$class()+" (expected Proc/Method)")}();var p="$"+b;return m.$$jsid=b,m.$$s=null,m.$$def=m,k.$$is_singleton?k.$$proto[p]=m:a.defn(k,p,m),b},m.$remove_method=function(b){var c=this;return a.undef(c,"$"+b),c},m.$include=function(a){var b=this;a=d.call(arguments,0);for(var c=a.length-1;c>=0;c--){var e=a[c];e!==b&&(e.$append_features(b),e.$included(b))}return b},m["$include?"]=function(a){for(var b=this,c=b;c;c=c.$$super)for(var d=0;d!=c.$$inc.length;d++){var e=c.$$inc[d];if(a===e)return!0}return!1},m.$instance_method=function(a){var b=this,c=b.$$proto["$"+a];return(!c||c.$$stub)&&b.$raise(n.get("NameError"),"undefined method `"+a+"' for class `"+b.$name()+"'"),n.get("UnboundMethod").$new(b,c,a)},m.$instance_methods=function(b){var c=this;null==b&&(b=!0);var d=[],e=c.$$proto;for(var f in e)if("$"===f.charAt(0)&&"function"==typeof e[f]&&!e[f].$$stub){if(!c.$$is_mod){if(c!==a.BasicObject&&e[f]===a.BasicObject.$$proto[f])continue;if(!b&&!e.hasOwnProperty(f))continue;if(!b&&e[f].$$donated)continue}d.push(f.substr(1))}return d},m.$included=function(a){return c},m.$extended=function(a){return c},m.$module_eval=j=function(){var a=this,b=j.$$p,d=b||c;j.$$p=null,d!==!1&&d!==c||a.$raise(n.get("ArgumentError"),"no block given");var e,f=d.$$s;return d.$$s=null,e=d.call(a),d.$$s=f,e},a.defn(l,"$class_eval",m.$module_eval),m.$module_exec=k=function(){var a=this,b=k.$$p,e=b||c;if(k.$$p=null,e===c)throw new Error("no block given");var f,g=e.$$s;return e.$$s=null,f=e.apply(a,d.call(arguments)),e.$$s=g,f},a.defn(l,"$class_exec",m.$module_exec),m["$method_defined?"]=function(a){var b=this,c=b.$$proto["$"+a];return!!c&&!c.$$stub},m.$module_function=function(a){var b=this;if(a=d.call(arguments,0),0===a.length)b.$$module_function=!0;else for(var c=0,e=a.length;e>c;c++){var f=a[c],g=b.$$proto["$"+f];b.constructor.prototype["$"+f]=g}return b},m.$name=function(){var b=this;if(b.$$full_name)return b.$$full_name;for(var d=[],e=b;e;){if(e.$$name===c)return 0===d.length?c:d.join("::");if(d.unshift(e.$$name),e=e.$$base_module,e===a.Object)break}return 0===d.length?c:b.$$full_name=d.join("::")},m.$public=function(a){var b=this;return a=d.call(arguments,0),0===a.length&&(b.$$module_function=!1),c},a.defn(l,"$private",m.$public),a.defn(l,"$protected",m.$public),a.defn(l,"$nesting",m.$public),m.$private_class_method=function(a){var b=this;return b["$"+a]||c},a.defn(l,"$public_class_method",m.$private_class_method),m["$private_method_defined?"]=function(a){return!1},m.$private_constant=function(){return c},a.defn(l,"$protected_method_defined?",m["$private_method_defined?"]),a.defn(l,"$public_instance_methods",m.$instance_methods),a.defn(l,"$public_method_defined?",m["$method_defined?"]),m.$remove_class_variable=function(){return c},m.$remove_const=function(a){var b=this,c=b.$$scope[a];return delete b.$$scope[a],c},m.$to_s=function(){var a,b=this;return(a=b.$$name)!==!1&&a!==c?a:"#<"+(b.$$is_mod?"Module":"Class")+":0x"+b.$__id__().$to_s(16)+">"},m.$undef_method=function(b){var c=this;return a.add_stub_for(c.$$proto,"$"+b),c},c&&"undef_method"}(b,null)},Opal.modules["corelib/class"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass;return a.add_stubs(["$require","$raise","$allocate"]),b.$require("corelib/module"),function(b,f){function g(){}var h,i,j=g=e(b,f,"Class",g),k=j.$$proto,l=j.$$scope;return a.defs(j,"$new",h=function(b){function d(){}var e=this,f=h.$$p,g=f||c;null==b&&(b=l.get("Object")),h.$$p=null,(!b.$$is_class||b.$$is_mod)&&e.$raise(l.get("TypeError"),"superclass must be a Class");var i=a.boot(b,d);if(i.$$name=c,i.$$parent=b,a.create_scope(b.$$scope,i),b.$inherited(i),g!==c){var j=g.$$s;g.$$s=null,g.call(i),g.$$s=j}return i}),k.$allocate=function(){var b=this,c=new b.$$alloc;return c.$$id=a.uid(),c},k.$inherited=function(a){return c},k.$new=i=function(a){var b=this,e=i.$$p,f=e||c;a=d.call(arguments,0),i.$$p=null;var g=b.$allocate();return g.$initialize.$$p=f,g.$initialize.apply(g,a),g},k.$superclass=function(){var a=this;return a.$$super||c},c&&"superclass"}(b,null)},Opal.modules["corelib/basic_object"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass;return a.add_stubs(["$raise","$inspect"]),function(b,f){function g(){}var h,i,j,k,l=g=e(b,f,"BasicObject",g),m=l.$$proto,n=l.$$scope;return a.defn(l,"$initialize",function(){return c}),a.defn(l,"$==",function(a){var b=this;return b===a}),a.defn(l,"$__id__",function(){var b=this;return b.$$id||(b.$$id=a.uid())}),a.defn(l,"$__send__",h=function(a,b){var e=this,f=h.$$p,g=f||c;b=d.call(arguments,1),h.$$p=null;var i=e["$"+a];return i?(g!==c&&(i.$$p=g),i.apply(e,b)):(g!==c&&(e.$method_missing.$$p=g),e.$method_missing.apply(e,[a].concat(b)))}),a.defn(l,"$!",function(){return!1}),a.defn(l,"$eql?",m["$=="]),a.defn(l,"$equal?",m["$=="]),a.defn(l,"$instance_eval",i=function(){var a=this,b=i.$$p,d=b||c;i.$$p=null,d!==!1&&d!==c||n.get("Kernel").$raise(n.get("ArgumentError"),"no block given");var e,f=d.$$s;return d.$$s=null,e=d.call(a,a),d.$$s=f,e}),a.defn(l,"$instance_exec",j=function(a){var b=this,e=j.$$p,f=e||c;a=d.call(arguments,0),j.$$p=null,f!==!1&&f!==c||n.get("Kernel").$raise(n.get("ArgumentError"),"no block given");var g,h=f.$$s;return f.$$s=null,g=f.apply(b,a),f.$$s=h,g}),a.defn(l,"$method_missing",k=function(a,b){var e,f=this;k.$$p;return b=d.call(arguments,1),k.$$p=null,n.get("Kernel").$raise(n.get("NoMethodError"),function(){return(e=f.$inspect&&!f.$inspect.$$stub)===c||e.$$is_boolean&&1!=e?"undefined method `"+a+"' for "+f.$$class:"undefined method `"+a+"' for "+f.$inspect()+":"+f.$$class}())}),c&&"method_missing"}(b,null)},Opal.modules["corelib/kernel"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}a.dynamic_require_severity="warning";var d=a.top,e=a.nil,f=a.breaker,g=a.slice,h=a.module,i=a.gvars,j=a.hash2;return a.add_stubs(["$raise","$inspect","$==","$object_id","$class","$new","$coerce_to?","$<<","$allocate","$copy_instance_variables","$initialize_clone","$initialize_copy","$singleton_class","$initialize_dup","$for","$to_proc","$each","$reverse","$append_features","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$coerce_to!","$===","$print","$format","$puts","$empty?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?"]),function(d){var k,l,m,n,o,p,q,r,s=h(d,"Kernel"),t=s.$$proto,u=s.$$scope;a.defn(s,"$method_missing",k=function(a,b){var c=this;k.$$p;return b=g.call(arguments,1),k.$$p=null,c.$raise(u.get("NoMethodError"),"undefined method `"+a+"' for "+c.$inspect())}),a.defn(s,"$=~",function(a){return!1}),a.defn(s,"$===",function(a){var b,c=this;return(b=c.$object_id()["$=="](a.$object_id()))!==!1&&b!==e?b:c["$=="](a)}),a.defn(s,"$<=>",function(a){var b=this,c=b["$=="](a);return c&&c!==e?0:e}),a.defn(s,"$method",function(a){var b=this,c=b["$"+a];return(!c||c.$$stub)&&b.$raise(u.get("NameError"),"undefined method `"+a+"' for class `"+b.$class()+"'"),u.get("Method").$new(b,c,a)}),a.defn(s,"$methods",function(b){var c=this;null==b&&(b=!0);var d=[];for(var f in c)if("$"==f[0]&&"function"==typeof c[f]){if((0==b||b===e)&&!a.hasOwnProperty.call(c,f))continue;void 0===c[f].$$stub&&d.push(f.substr(1))}return d}),a.defn(s,"$Array",function(a){var b;return a===e?[]:a.$$is_array?a:(b=u.get("Opal")["$coerce_to?"](a,u.get("Array"),"to_ary"),b!==e?b:(b=u.get("Opal")["$coerce_to?"](a,u.get("Array"),"to_a"),b!==e?b:[a]))}),a.defn(s,"$at_exit",l=function(){var a,b=l.$$p,c=b||e;return null==i.__at_exit__&&(i.__at_exit__=e),l.$$p=null,(a=i.__at_exit__)!==!1&&a!==e?a:i.__at_exit__=[],i.__at_exit__["$<<"](c)}),a.defn(s,"$caller",function(){return[]}),a.defn(s,"$class",function(){var a=this;return a.$$class}),a.defn(s,"$copy_instance_variables",function(a){var b=this;for(var c in a)"$"!==c.charAt(0)&&(b[c]=a[c])}),a.defn(s,"$clone",function(){var a=this,b=e;return b=a.$class().$allocate(),b.$copy_instance_variables(a),b.$initialize_clone(a),b}),a.defn(s,"$initialize_clone",function(a){var b=this;return b.$initialize_copy(a)}),a.defn(s,"$define_singleton_method",m=function(a,b){var c,d=this,f=m.$$p,g=f||e;null==b&&(b=e),m.$$p=null,(c=b)!==!1&&c!==e?c:b=g,b!==!1&&b!==e||d.$raise(u.get("ArgumentError"),"tried to create Proc object without a block");var h="$"+a;return b.$$jsid=a,b.$$s=null,b.$$def=b,d.$singleton_class().$$proto[h]=b,d}),a.defn(s,"$dup",function(){var a=this,b=e;return b=a.$class().$allocate(),b.$copy_instance_variables(a),b.$initialize_dup(a),b}),a.defn(s,"$initialize_dup",function(a){var b=this;return b.$initialize_copy(a)}),a.defn(s,"$enum_for",n=function(a,b){var c,d,f=this,h=n.$$p,i=h||e;return b=g.call(arguments,1),null==a&&(a="each"),n.$$p=null,(c=(d=u.get("Enumerator")).$for,c.$$p=i.$to_proc(),c).apply(d,[f,a].concat(b))}),a.defn(s,"$to_enum",t.$enum_for),a.defn(s,"$equal?",function(a){var b=this;return b===a}),a.defn(s,"$exit",function(b){var c,d;return null==i.__at_exit__&&(i.__at_exit__=e),null==b&&(b=!0),(c=i.__at_exit__)===e||c.$$is_boolean&&1!=c||(c=(d=i.__at_exit__.$reverse()).$each,c.$$p="call".$to_proc(),c).call(d),(c=b===!0)===e||c.$$is_boolean&&1!=c||(b=0),a.exit(b),e}),a.defn(s,"$extend",function(a){var b=this;a=g.call(arguments,0);for(var c=b.$singleton_class(),d=a.length-1;d>=0;d--){var e=a[d];e.$append_features(c),e.$extended(b)}return b}),a.defn(s,"$format",function(a,b){function c(){H&T&&p.$raise(u.get("ArgumentError"),"flag after width"),H&V&&p.$raise(u.get("ArgumentError"),"flag after precision")}function d(){H&T&&p.$raise(u.get("ArgumentError"),"width given twice"),H&V&&p.$raise(u.get("ArgumentError"),"width after precision")}function f(a){return a>=b.length&&p.$raise(u.get("ArgumentError"),"too few arguments"),b[a]}function h(){switch(M){case-1:p.$raise(u.get("ArgumentError"),"unnumbered("+L+") mixed with numbered");case-2:p.$raise(u.get("ArgumentError"),"unnumbered("+L+") mixed with named")}return M=L++,f(M-1)}function j(a){return M>0&&p.$raise(u.get("ArgumentError"),"numbered("+a+") after unnumbered("+M+")"),-2===M&&p.$raise(u.get("ArgumentError"),"numbered("+a+") after named"),1>a&&p.$raise(u.get("ArgumentError"),"invalid index - "+a+"$"),M=-1,f(a-1)}function k(){return void 0===G?h():G}function l(b){for(var c,d="";;s++){if(s===K&&p.$raise(u.get("ArgumentError"),"malformed format string - %*[0-9]"),a.charCodeAt(s)<48||a.charCodeAt(s)>57)return s--,c=parseInt(d)||0,c>2147483647&&p.$raise(u.get("ArgumentError"),""+b+" too big"),c;d+=a.charAt(s)}}function m(b){var c,d=l(b);return"$"===a.charAt(s+1)?(s++,c=j(d)):c=h(),c.$to_int()}var n,o,p=this,q=e;null==i.DEBUG&&(i.DEBUG=e),b=g.call(arguments,1),(n=(o=b.$length()["$=="](1))?b["$[]"](0)["$respond_to?"]("to_ary"):o)===e||n.$$is_boolean&&1!=n||(q=u.get("Opal")["$coerce_to?"](b["$[]"](0),u.get("Array"),"to_ary"),((n=q["$nil?"]())===e||n.$$is_boolean&&1!=n)&&(b=q.$to_a()));var r,s,t,v,w,x,y,z,A,B,C,D,E,F,G,H,I="",J=0,K=a.length,L=1,M=0,N=0,O=1,P=2,Q=4,R=8,S=16,T=32,U=64,V=128;for(s=a.indexOf("%");-1!==s;s=a.indexOf("%",s)){switch(v=void 0,H=N,x=-1,y=-1,G=void 0,r=s,s++,a.charAt(s)){case"%":J=s;case"":case"\n":case"\x00":s++;continue}a:for(;K>s;s++)switch(a.charAt(s)){case" ":c(),H|=S;continue a;case"#":c(),H|=O;continue a;case"+":c(),H|=Q;continue a;case"-":c(),H|=P;continue a;case"0":c(),H|=R;continue a;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(z=l("width"),"$"===a.charAt(s+1)){if(s+2===K){v="%",s++;break a}void 0!==G&&p.$raise(u.get("ArgumentError"),"value given twice - %"+z+"$"),G=j(z),s++}else d(),H|=T,x=z;continue a;case"<":case"{":for(B="<"===a.charAt(s)?">":"}",A="",s++;;s++){if(s===K&&p.$raise(u.get("ArgumentError"),"malformed name - unmatched parenthesis"),a.charAt(s)===B){if(M>0&&p.$raise(u.get("ArgumentError"),"named "+A+" after unnumbered("+M+")"),-1===M&&p.$raise(u.get("ArgumentError"),"named "+A+" after numbered"),M=-2,void 0!==b[0]&&b[0].$$is_hash||p.$raise(u.get("ArgumentError"),"one hash required"),G=b[0].$fetch(A),">"===B)continue a;if(v=G.toString(),-1!==y&&(v=v.slice(0,y)),H&P)for(;v.length<x;)v+=" ";else for(;v.length<x;)v=" "+v;break a}A+=a.charAt(s)}case"*":s++,d(),H|=T,x=m("width"),0>x&&(H|=P,x=-x);continue a;case".":if(H&V&&p.$raise(u.get("ArgumentError"),"precision given twice"),H|=U|V,y=0,s++,"*"===a.charAt(s)){s++,y=m("precision"),0>y&&(H&=~U);continue a}y=l("precision");continue a;case"d":case"i":case"u":if(t=p.$Integer(k()),t>=0){for(v=t.toString();v.length<y;)v="0"+v;if(H&P)for((H&Q||H&S)&&(v=(H&Q?"+":" ")+v);v.length<x;)v+=" ";else if(H&R&&-1===y){for(;v.length<x-(H&Q||H&S?1:0);)v="0"+v;(H&Q||H&S)&&(v=(H&Q?"+":" ")+v)}else for((H&Q||H&S)&&(v=(H&Q?"+":" ")+v);v.length<x;)v=" "+v}else{for(v=(-t).toString();v.length<y;)v="0"+v;if(H&P)for(v="-"+v;v.length<x;)v+=" ";else if(H&R&&-1===y){for(;v.length<x-1;)v="0"+v;v="-"+v}else for(v="-"+v;v.length<x;)v=" "+v}break a;case"b":case"B":case"o":case"x":case"X":switch(a.charAt(s)){case"b":case"B":C=2,D="0b",E=/^1+/,F="1";break;case"o":C=8,D="0",E=/^3?7+/,F="7";break;case"x":case"X":C=16,D="0x",E=/^f+/,F="f"}if(t=p.$Integer(k()),t>=0){for(v=t.toString(C);v.length<y;)v="0"+v;if(H&P)for((H&Q||H&S)&&(v=(H&Q?"+":" ")+v),H&O&&0!==t&&(v=D+v);v.length<x;)v+=" ";else if(H&R&&-1===y){for(;v.length<x-(H&Q||H&S?1:0)-(H&O&&0!==t?D.length:0);)v="0"+v;H&O&&0!==t&&(v=D+v),(H&Q||H&S)&&(v=(H&Q?"+":" ")+v)}else for(H&O&&0!==t&&(v=D+v),(H&Q||H&S)&&(v=(H&Q?"+":" ")+v);v.length<x;)v=" "+v}else if(H&Q||H&S){for(v=(-t).toString(C);v.length<y;)v="0"+v;if(H&P)for(H&O&&(v=D+v),v="-"+v;v.length<x;)v+=" ";else if(H&R&&-1===y){for(;v.length<x-1-(H&O?2:0);)v="0"+v;H&O&&(v=D+v),v="-"+v}else for(H&O&&(v=D+v),v="-"+v;v.length<x;)v=" "+v}else{for(v=(t>>>0).toString(C).replace(E,F);v.length<y-2;)v=F+v;if(H&P)for(v=".."+v,H&O&&(v=D+v);v.length<x;)v+=" ";else if(H&R&&-1===y){for(;v.length<x-2-(H&O?D.length:0);)v=F+v;v=".."+v,H&O&&(v=D+v)}else for(v=".."+v,H&O&&(v=D+v);v.length<x;)v=" "+v}a.charAt(s)===a.charAt(s).toUpperCase()&&(v=v.toUpperCase());break a;case"f":case"e":case"E":case"g":case"G":if(t=p.$Float(k()),t>=0||isNaN(t)){if(t===1/0)v="Inf";else switch(a.charAt(s)){case"f":v=t.toFixed(-1===y?6:y);break;case"e":case"E":v=t.toExponential(-1===y?6:y);break;case"g":case"G":v=t.toExponential(),w=parseInt(v.split("e")[1]),-4>w||w>=(-1===y?6:y)||(v=t.toPrecision(-1===y?H&O?6:void 0:y))}if(H&P)for((H&Q||H&S)&&(v=(H&Q?"+":" ")+v);v.length<x;)v+=" ";else if(H&R&&t!==1/0&&!isNaN(t)){for(;v.length<x-(H&Q||H&S?1:0);)v="0"+v;(H&Q||H&S)&&(v=(H&Q?"+":" ")+v)}else for((H&Q||H&S)&&(v=(H&Q?"+":" ")+v);v.length<x;)v=" "+v}else{if(t===-(1/0))v="Inf";else switch(a.charAt(s)){case"f":v=(-t).toFixed(-1===y?6:y);break;case"e":case"E":v=(-t).toExponential(-1===y?6:y);break;case"g":case"G":v=(-t).toExponential(),w=parseInt(v.split("e")[1]),-4>w||w>=(-1===y?6:y)||(v=(-t).toPrecision(-1===y?H&O?6:void 0:y))}if(H&P)for(v="-"+v;v.length<x;)v+=" ";else if(H&R&&t!==-(1/0)){for(;v.length<x-1;)v="0"+v;v="-"+v}else for(v="-"+v;v.length<x;)v=" "+v}a.charAt(s)!==a.charAt(s).toUpperCase()||t===1/0||t===-(1/0)||isNaN(t)||(v=v.toUpperCase()),v=v.replace(/([eE][-+]?)([0-9])$/,"$10$2");
break a;case"a":case"A":p.$raise(u.get("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(t=k(),t["$respond_to?"]("to_ary")&&(t=t.$to_ary()[0]),v=t["$respond_to?"]("to_str")?t.$to_str():String.fromCharCode(u.get("Opal").$coerce_to(t,u.get("Integer"),"to_int")),1!==v.length&&p.$raise(u.get("ArgumentError"),"%c requires a character"),H&P)for(;v.length<x;)v+=" ";else for(;v.length<x;)v=" "+v;break a;case"p":if(v=k().$inspect(),-1!==y&&(v=v.slice(0,y)),H&P)for(;v.length<x;)v+=" ";else for(;v.length<x;)v=" "+v;break a;case"s":if(v=k().$to_s(),-1!==y&&(v=v.slice(0,y)),H&P)for(;v.length<x;)v+=" ";else for(;v.length<x;)v=" "+v;break a;default:p.$raise(u.get("ArgumentError"),"malformed format string - %"+a.charAt(s))}void 0===v&&p.$raise(u.get("ArgumentError"),"malformed format string - %"),I+=a.slice(J,r)+v,J=s+1}return i.DEBUG&&M>=0&&L<b.length&&p.$raise(u.get("ArgumentError"),"too many arguments for format string"),I+a.slice(J)}),a.defn(s,"$freeze",function(){var a=this;return a.___frozen___=!0,a}),a.defn(s,"$frozen?",function(){var a,b=this;return null==b.___frozen___&&(b.___frozen___=e),(a=b.___frozen___)!==!1&&a!==e?a:!1}),a.defn(s,"$hash",function(){var a=this;return""+a.$class()+":"+a.$class().$__id__()+":"+a.$__id__()}),a.defn(s,"$initialize_copy",function(a){return e}),a.defn(s,"$inspect",function(){var a=this;return a.$to_s()}),a.defn(s,"$instance_of?",function(a){var b=this;return b.$$class===a}),a.defn(s,"$instance_variable_defined?",function(b){var c=this;return a.hasOwnProperty.call(c,b.substr(1))}),a.defn(s,"$instance_variable_get",function(a){var b=this,c=b[a.substr(1)];return null==c?e:c}),a.defn(s,"$instance_variable_set",function(a,b){var c=this;return c[a.substr(1)]=b}),a.defn(s,"$instance_variables",function(){var a=this,b=[];for(var c in a)"$"!==c.charAt(0)&&"$$class"!==c&&"$$id"!==c&&b.push("@"+c);return b}),a.defn(s,"$Integer",function(a,b){var c,d,f,g=this;return a.$$is_string?(void 0===b?b=0:(b=u.get("Opal").$coerce_to(b,u.get("Integer"),"to_int"),(1===b||0>b||b>36)&&g.$raise(u.get("ArgumentError"),"invalid radix "+b)),d=a.toLowerCase(),d=d.replace(/(\d)_(?=\d)/g,"$1"),d=d.replace(/^(\s*[+-]?)(0[bodx]?)/,function(c,d,e){switch(e){case"0b":if(0===b||2===b)return b=2,d;case"0":case"0o":if(0===b||8===b)return b=8,d;case"0d":if(0===b||10===b)return b=10,d;case"0x":if(0===b||16===b)return b=16,d}g.$raise(u.get("ArgumentError"),'invalid value for Integer(): "'+a+'"')}),b=0===b?10:b,f="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11))),new RegExp("^\\s*[+-]?["+f+"]+\\s*$").test(d)||g.$raise(u.get("ArgumentError"),'invalid value for Integer(): "'+a+'"'),c=parseInt(d,b),isNaN(c)&&g.$raise(u.get("ArgumentError"),'invalid value for Integer(): "'+a+'"'),c):(void 0!==b&&g.$raise(u.get("ArgumentError"),"base specified for non string value"),a===e&&g.$raise(u.get("TypeError"),"can't convert nil into Integer"),a.$$is_number?((a===1/0||a===-(1/0)||isNaN(a))&&g.$raise(u.get("FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(c=a.$to_int(),c!==e)?c:u.get("Opal")["$coerce_to!"](a,u.get("Integer"),"to_i"))}),a.defn(s,"$Float",function(a){var b,c=this;return a===e&&c.$raise(u.get("TypeError"),"can't convert nil into Float"),a.$$is_string?(b=a.toString(),b=b.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b)?c.$Integer(b):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||c.$raise(u.get("ArgumentError"),'invalid value for Float(): "'+a+'"'),parseFloat(b))):u.get("Opal")["$coerce_to!"](a,u.get("Float"),"to_f")}),a.defn(s,"$Hash",function(a){var b,c;return(b=(c=a["$nil?"]())!==!1&&c!==e?c:a["$=="]([]))===e||b.$$is_boolean&&1!=b?(b=u.get("Hash")["$==="](a))===e||b.$$is_boolean&&1!=b?u.get("Opal")["$coerce_to!"](a,u.get("Hash"),"to_hash"):a:j([],{})}),a.defn(s,"$is_a?",function(b){var c=this;return a.is_a(c,b)}),a.defn(s,"$kind_of?",t["$is_a?"]),a.defn(s,"$lambda",o=function(){var a=o.$$p,b=a||e;return o.$$p=null,b.$$is_lambda=!0,b}),a.defn(s,"$load",function(b){return b=u.get("Opal")["$coerce_to!"](b,u.get("String"),"to_str"),a.load(a.normalize_loadable_path(b))}),a.defn(s,"$loop",p=function(){var a=this,b=p.$$p,c=b||e;for(p.$$p=null;;)if(c()===f)return f.$v;return a}),a.defn(s,"$nil?",function(){return!1}),a.defn(s,"$object_id",t.$__id__),a.defn(s,"$printf",function(a){var c,d=this;return a=g.call(arguments,0),b(a.$length(),0)&&d.$print((c=d).$format.apply(c,[].concat(a))),e}),a.defn(s,"$private_methods",function(){return[]}),a.defn(s,"$private_instance_methods",t.$private_methods),a.defn(s,"$proc",q=function(){var a=this,b=q.$$p,c=b||e;return q.$$p=null,c!==!1&&c!==e||a.$raise(u.get("ArgumentError"),"tried to create Proc object without a block"),c.$$is_lambda=!1,c}),a.defn(s,"$puts",function(a){var b;return null==i.stdout&&(i.stdout=e),a=g.call(arguments,0),(b=i.stdout).$puts.apply(b,[].concat(a))}),a.defn(s,"$p",function(a){var b,d,f,h=this;return a=g.call(arguments,0),(b=(d=a).$each,b.$$p=(f=function(a){f.$$s||this;return null==i.stdout&&(i.stdout=e),null==a&&(a=e),i.stdout.$puts(a.$inspect())},f.$$s=h,f),b).call(d),c(a.$length(),1)?a["$[]"](0):a}),a.defn(s,"$print",function(a){var b;return null==i.stdout&&(i.stdout=e),a=g.call(arguments,0),(b=i.stdout).$print.apply(b,[].concat(a))}),a.defn(s,"$warn",function(a){var b,c;return null==i.VERBOSE&&(i.VERBOSE=e),null==i.stderr&&(i.stderr=e),a=g.call(arguments,0),(b=(c=i.VERBOSE["$nil?"]())!==!1&&c!==e?c:a["$empty?"]())===e||b.$$is_boolean&&1!=b?(b=i.stderr).$puts.apply(b,[].concat(a)):e}),a.defn(s,"$raise",function(a,b){if(null==i["!"]&&(i["!"]=e),null==a&&i["!"])throw i["!"];throw null==a?a=u.get("RuntimeError").$new():a.$$is_string?a=u.get("RuntimeError").$new(a):a.$$is_class&&(a=a.$new(b)),i["!"]=a,a}),a.defn(s,"$fail",t.$raise),a.defn(s,"$rand",function(a){var b=this;if(void 0===a)return Math.random();if(a.$$is_range){var c=a.$to_a();return c[b.$rand(c.length)]}return Math.floor(Math.random()*Math.abs(u.get("Opal").$coerce_to(a,u.get("Integer"),"to_int")))}),a.defn(s,"$respond_to?",function(a,b){var c,d=this;if(null==b&&(b=!1),(c=d["$respond_to_missing?"](a))!==e&&(!c.$$is_boolean||1==c))return!0;var f=d["$"+a];return"function"!=typeof f||f.$$stub?!1:!0}),a.defn(s,"$respond_to_missing?",function(a){return!1}),a.defn(s,"$require",function(b){return b=u.get("Opal")["$coerce_to!"](b,u.get("String"),"to_str"),a.require(a.normalize_loadable_path(b))}),a.defn(s,"$require_relative",function(b){return u.get("Opal")["$try_convert!"](b,u.get("String"),"to_str"),b=u.get("File").$expand_path(u.get("File").$join(a.current_file,"..",b)),a.require(a.normalize_loadable_path(b))}),a.defn(s,"$require_tree",function(b){b=u.get("File").$expand_path(b),b["$=="](".")&&(b="");for(var c in a.modules)c["$start_with?"](b)&&a.require(c);return e}),a.defn(s,"$send",t.$__send__),a.defn(s,"$public_send",t.$__send__),a.defn(s,"$singleton_class",function(){var b=this;return a.get_singleton_class(b)}),a.defn(s,"$sprintf",t.$format),a.defn(s,"$srand",t.$rand),a.defn(s,"$String",function(a){var b;return(b=u.get("Opal")["$coerce_to?"](a,u.get("String"),"to_str"))!==!1&&b!==e?b:u.get("Opal")["$coerce_to!"](a,u.get("String"),"to_s")}),a.defn(s,"$taint",function(){var a=this;return a}),a.defn(s,"$tainted?",function(){return!1}),a.defn(s,"$tap",r=function(){var b=this,c=r.$$p,d=c||e;return r.$$p=null,a.yield1(d,b)===f?f.$v:b}),a.defn(s,"$to_proc",function(){var a=this;return a}),a.defn(s,"$to_s",function(){var a=this;return"#<"+a.$class()+":0x"+a.$__id__().$to_s(16)+">"}),a.defn(s,"$untaint",t.$taint)}(d)},Opal.modules["corelib/nil_class"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass);return a.add_stubs(["$raise"]),function(b,c){function f(){}var g=f=e(b,c,"NilClass",f),h=g.$$proto,i=g.$$scope;return h["$!"]=function(){return!0},h["$&"]=function(a){return!1},h["$|"]=function(a){return a!==!1&&a!==d},h["$^"]=function(a){return a!==!1&&a!==d},h["$=="]=function(a){return a===d},h.$dup=function(){var a=this;return a.$raise(i.get("TypeError"))},h.$inspect=function(){return"nil"},h["$nil?"]=function(){return!0},h.$singleton_class=function(){return i.get("NilClass")},h.$to_a=function(){return[]},h.$to_h=function(){return a.hash()},h.$to_i=function(){return 0},a.defn(g,"$to_f",h.$to_i),h.$to_s=function(){return""},d&&"to_s"}(b,null),a.cdecl(c,"NIL",d)},Opal.modules["corelib/boolean"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass);return a.add_stubs(["$undef_method"]),function(b,c){function f(){}var g=f=e(b,c,"Boolean",f),h=g.$$proto;g.$$scope;return h.$$is_boolean=!0,h.$__id__=function(){var a=this;return a.valueOf()?2:0},a.defn(g,"$object_id",h.$__id__),function(a){a.$$scope,a.$$proto;return a.$undef_method("new")}(g.$singleton_class()),h["$!"]=function(){var a=this;return 1!=a},h["$&"]=function(a){var b=this;return 1==b?a!==!1&&a!==d:!1},h["$|"]=function(a){var b=this;return 1==b?!0:a!==!1&&a!==d},h["$^"]=function(a){var b=this;return 1==b?a===!1||a===d:a!==!1&&a!==d},h["$=="]=function(a){var b=this;return 1==b===a.valueOf()},a.defn(g,"$equal?",h["$=="]),a.defn(g,"$singleton_class",h.$class),h.$to_s=function(){var a=this;return 1==a?"true":"false"},d&&"to_s"}(b,null),a.cdecl(c,"TrueClass",c.get("Boolean")),a.cdecl(c,"FalseClass",c.get("Boolean")),a.cdecl(c,"TRUE",!0),a.cdecl(c,"FALSE",!1)},Opal.modules["corelib/error"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass),f=a.module;return a.add_stubs(["$attr_reader","$class"]),function(b,c){function f(){}var g=f=e(b,c,"Exception",f),h=g.$$proto;g.$$scope;return h.message=d,g.$attr_reader("message"),a.defs(g,"$new",function(a){var b=this;null==a&&(a="Exception");var c=new b.$$alloc(a);return Error.captureStackTrace&&Error.captureStackTrace(c),c.name=b.$$name,c.$initialize(a),c}),h.$initialize=function(a){var b=this;return b.message=a},h.$backtrace=function(){var a=this,b=a.stack;return"string"==typeof b?b.split("\n").slice(0,15):b?b.slice(0,15):[]},h.$inspect=function(){var a=this;return"#<"+a.$class()+": '"+a.message+"'>"},a.defn(g,"$to_s",h.$message)}(b,null),function(a,b){function c(){}var f=c=e(a,b,"ScriptError",c);f.$$proto,f.$$scope;return d}(b,c.get("Exception")),function(a,b){function c(){}var f=c=e(a,b,"SyntaxError",c);f.$$proto,f.$$scope;return d}(b,c.get("ScriptError")),function(a,b){function c(){}var f=c=e(a,b,"LoadError",c);f.$$proto,f.$$scope;return d}(b,c.get("ScriptError")),function(a,b){function c(){}var f=c=e(a,b,"NotImplementedError",c);f.$$proto,f.$$scope;return d}(b,c.get("ScriptError")),function(a,b){function c(){}var f=c=e(a,b,"SystemExit",c);f.$$proto,f.$$scope;return d}(b,c.get("Exception")),function(a,b){function c(){}var f=c=e(a,b,"NoMemoryError",c);f.$$proto,f.$$scope;return d}(b,c.get("Exception")),function(a,b){function c(){}var f=c=e(a,b,"SignalException",c);f.$$proto,f.$$scope;return d}(b,c.get("Exception")),function(a,b){function c(){}var f=c=e(a,b,"Interrupt",c);f.$$proto,f.$$scope;return d}(b,c.get("Exception")),function(a,b){function c(){}var f=c=e(a,b,"StandardError",c);f.$$proto,f.$$scope;return d}(b,c.get("Exception")),function(a,b){function c(){}var f=c=e(a,b,"NameError",c);f.$$proto,f.$$scope;return d}(b,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"NoMethodError",c);f.$$proto,f.$$scope;return d}(b,c.get("NameError")),function(a,b){function c(){}var f=c=e(a,b,"RuntimeError",c);f.$$proto,f.$$scope;return d}(b,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"LocalJumpError",c);f.$$proto,f.$$scope;return d}(b,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"TypeError",c);f.$$proto,f.$$scope;return d}(b,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"ArgumentError",c);f.$$proto,f.$$scope;return d}(b,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"IndexError",c);f.$$proto,f.$$scope;return d}(b,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"StopIteration",c);f.$$proto,f.$$scope;return d}(b,c.get("IndexError")),function(a,b){function c(){}var f=c=e(a,b,"KeyError",c);f.$$proto,f.$$scope;return d}(b,c.get("IndexError")),function(a,b){function c(){}var f=c=e(a,b,"RangeError",c);f.$$proto,f.$$scope;return d}(b,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"FloatDomainError",c);f.$$proto,f.$$scope;return d}(b,c.get("RangeError")),function(a,b){function c(){}var f=c=e(a,b,"IOError",c);f.$$proto,f.$$scope;return d}(b,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"SystemCallError",c);f.$$proto,f.$$scope;return d}(b,c.get("StandardError")),function(b){var c=f(b,"Errno"),g=(c.$$proto,c.$$scope);!function(b,c){function f(){}var g,h=f=e(b,c,"EINVAL",f);h.$$proto,h.$$scope;return a.defs(h,"$new",g=function(){var b=this;g.$$p;return g.$$p=null,a.find_super_dispatcher(b,"new",g,null,f).apply(b,["Invalid argument"])}),d&&"new"}(c,g.get("SystemCallError"))}(b)},Opal.modules["corelib/regexp"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice),f=a.klass,g=a.gvars;return a.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$!","$match","$begin","$coerce_to","$call","$=~"]),function(a,b){function c(){}var e=c=f(a,b,"RegexpError",c);e.$$proto,e.$$scope;return d}(b,c.get("StandardError")),function(b,c){function h(){}var i,j=h=f(b,c,"Regexp",h),k=j.$$proto,l=j.$$scope;return a.cdecl(l,"IGNORECASE",1),a.cdecl(l,"MULTILINE",4),k.$$is_regexp=!0,function(a){var b=a.$$scope;a.$$proto;return a.$$proto.$escape=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},a.$$proto.$last_match=function(a){var b;return null==g["~"]&&(g["~"]=d),null==a&&(a=d),(b=a["$nil?"]())===d||b.$$is_boolean&&1!=b?g["~"]["$[]"](a):g["~"]},a.$$proto.$quote=a.$$proto.$escape,a.$$proto.$union=function(a){var c=this;a=e.call(arguments,0);var d,f,g,h,i;if(0==a.length)return/(?!)/;d=a[0].$$is_array,a.length>1&&d&&c.$raise(b.get("TypeError"),"no implicit conversion of Array into String"),d&&(a=a[0]),h=void 0,f=[];for(var j=0;j<a.length;j++)g=a[j],g.$$is_string?f.push(c.$escape(g)):g.$$is_regexp?(i=g.$options(),void 0!=h&&h!=i&&c.$raise(b.get("TypeError"),"All expressions must use the same options"),h=i,f.push("("+g.source+")")):f.push(c.$escape(g.$to_str()));return c.$new(f.$join("|"),h)},a.$$proto.$new=function(a,c){var d=this;if(a.$$is_string&&"\\"==a.substr(a.length-1,1)&&d.$raise(b.get("RegexpError"),"too short escape sequence: /"+a+"/"),(void 0==c||c["$!"]())&&(c=void 0),void 0!=c)if(a.$$is_regexp)c=void 0;else if(c.$$is_number){var e="";b.get("IGNORECASE")&c&&(e+="i"),b.get("MULTILINE")&c&&(e+="m"),c=e}else c="i";return new RegExp(a,c)},d&&"new"}(j.$singleton_class()),k["$=="]=function(a){var b=this;return a.constructor==RegExp&&b.toString()===a.toString()},k["$==="]=function(a){var b=this;return b.$match(a)!==d},k["$=~"]=function(a){var b,c=this;return null==g["~"]&&(g["~"]=d),b=c.$match(a),b!==!1&&b!==d?g["~"].$begin(0):b},a.defn(j,"$eql?",k["$=="]),k.$inspect=function(){var a=this;return a.toString()},k.$match=i=function(a,b){var c=this,e=i.$$p,f=e||d;if(null==g["~"]&&(g["~"]=d),i.$$p=null,b=void 0===b?0:l.get("Opal").$coerce_to(b,l.get("Integer"),"to_int"),a===d)return g["~"]=d;if(a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str"),0>b&&(b+=a.length,0>b))return g["~"]=d;for(var h,j=new RegExp(c.source,"gm"+(c.ignoreCase?"i":""));;){if(h=j.exec(a),null===h)return g["~"]=d;if(h.index>=b)return g["~"]=l.get("MatchData").$new(j,h),f===d?g["~"]:f.$call(g["~"]);j.lastIndex=h.index+1}},k["$~"]=function(){var a=this;return null==g._&&(g._=d),a["$=~"](g._)},k.$source=function(){var a=this;return a.source},k.$options=function(){var a,b,c,d,e=this;if(a=e.toString(),"/(?:)/"==a&&e.$raise(l.get("TypeError"),"uninitialized Regexp"),b=a.replace(e.source,"").match(/\w+/),c=0,null==b)return c;b=b[0];for(var f=0;f<b.length;f++)switch(d=b[f]){case"i":c|=l.get("IGNORECASE");break;case"m":c|=l.get("MULTILINE");break;default:e.$raise("RegExp flag "+d+" does not have a match in Ruby")}return c},a.defn(j,"$to_s",k.$source)}(b,null)},Opal.modules["corelib/comparable"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="warning";var d=a.top,e=a.nil,f=(a.breaker,a.slice,a.module);return a.add_stubs(["$===","$equal?","$<=>","$normalize","$raise","$class"]),function(d){var g=f(d,"Comparable"),h=(g.$$proto,g.$$scope);a.defs(g,"$normalize",function(a){var d;return(d=h.get("Integer")["$==="](a))===e||d.$$is_boolean&&1!=d?b(a,0)?1:c(a,0)?-1:0:a}),a.defn(g,"$==",function(b){var c,d=this,f=e;try{return(c=d["$equal?"](b))===e||c.$$is_boolean&&1!=c?(c=f=d["$<=>"](b))===e||c.$$is_boolean&&1!=c?!1:0==h.get("Comparable").$normalize(f):!0}catch(g){if(a.rescue(g,[h.get("StandardError")]))return!1;throw g}}),a.defn(g,"$>",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)>0}),a.defn(g,"$>=",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)>=0}),a.defn(g,"$<",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)<0}),a.defn(g,"$<=",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)<=0}),a.defn(g,"$between?",function(a,d){var e=this;return c(e,a)?!1:b(e,d)?!1:!0})}(d)},Opal.modules["corelib/enumerable"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module;return a.add_stubs(["$raise","$enum_for","$flatten","$map","$==","$destructure","$nil?","$coerce_to!","$coerce_to","$===","$new","$<<","$[]","$[]=","$inspect","$__send__","$yield","$enumerator_size","$respond_to?","$size","$private","$compare","$<=>","$dup","$to_a","$lambda","$sort","$call","$first","$zip"]),function(b){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P=f(b,"Enumerable"),Q=P.$$proto,R=P.$$scope;a.defn(P,"$all?",g=function(){var b,e=this,f=g.$$p,h=f||c;g.$$p=null;var i=!0;return h!==c?e.$each.$$p=function(){var e=a.yieldX(h,arguments);return e===d?(i=d.$v,d):(b=e)===c||b.$$is_boolean&&0==b?(i=!1,d):void 0}:e.$each.$$p=function(a){return 1==arguments.length&&((b=a)===c||b.$$is_boolean&&0==b)?(i=!1,d):void 0},e.$each(),i}),a.defn(P,"$any?",h=function(){var b,e=this,f=h.$$p,g=f||c;h.$$p=null;var i=!1;return g!==c?e.$each.$$p=function(){var e=a.yieldX(g,arguments);return e===d?(i=d.$v,d):(b=e)===c||b.$$is_boolean&&1!=b?void 0:(i=!0,d)}:e.$each.$$p=function(a){return 1==arguments.length&&((b=a)===c||b.$$is_boolean&&1!=b)?void 0:(i=!0,d)},e.$each(),i}),a.defn(P,"$chunk",i=function(a){var b=this;i.$$p;return i.$$p=null,b.$raise(R.get("NotImplementedError"))}),a.defn(P,"$collect",j=function(){var b=this,e=j.$$p,f=e||c;if(j.$$p=null,f===c)return b.$enum_for("collect");var g=[];return b.$each.$$p=function(){var b=a.yieldX(f,arguments);return b===d?(g=d.$v,d):void g.push(b)},b.$each(),g}),a.defn(P,"$collect_concat",k=function(){var b,e,f,g=this,h=k.$$p,i=h||c;return k.$$p=null,i===c?g.$enum_for("collect_concat"):(b=(e=g).$map,b.$$p=(f=function(b){var e;f.$$s||this;return null==b&&(b=c),e=a.yield1(i,b),e===d?e:e},f.$$s=g,f),b).call(e).$flatten(1)}),a.defn(P,"$count",l=function(b){var e,f=this,g=l.$$p,h=g||c;l.$$p=null;var i=0;return null!=b?h=function(){return R.get("Opal").$destructure(arguments)["$=="](b)}:h===c&&(h=function(){return!0}),f.$each.$$p=function(){var b=a.yieldX(h,arguments);return b===d?(i=d.$v,d):void((e=b)===c||e.$$is_boolean&&1!=e||i++)},f.$each(),i}),a.defn(P,"$cycle",m=function(b){var e,f=this,g=m.$$p,h=g||c;if(null==b&&(b=c),m.$$p=null,h===!1||h===c)return f.$enum_for("cycle",b);if((e=b["$nil?"]())===c||e.$$is_boolean&&1!=e){if(b=R.get("Opal")["$coerce_to!"](b,R.get("Integer"),"to_int"),(e=0>=b)!==c&&(!e.$$is_boolean||1==e))return c}else;var i,j=[];if(f.$each.$$p=function(){var b=R.get("Opal").$destructure(arguments),c=a.yield1(h,b);return c===d?(i=d.$v,d):void j.push(b)},f.$each(),void 0!==i)return i;if(0===j.length)return c;if((e=b["$nil?"]())===c||e.$$is_boolean&&1!=e)for(;b>1;){for(var k=0,l=j.length;l>k;k++){var n=a.yield1(h,j[k]);if(n===d)return d.$v}b--}else for(;;)for(var k=0,l=j.length;l>k;k++){var n=a.yield1(h,j[k]);if(n===d)return d.$v}}),a.defn(P,"$detect",n=function(b){var e,f=this,g=n.$$p,h=g||c;if(n.$$p=null,h===c)return f.$enum_for("detect",b);var i=void 0;return f.$each.$$p=function(){var b=R.get("Opal").$destructure(arguments),f=a.yield1(h,b);return f===d?(i=d.$v,d):(e=f)===c||e.$$is_boolean&&1!=e?void 0:(i=b,d)},f.$each(),void 0===i&&void 0!==b&&(i="function"==typeof b?b():b),void 0===i?c:i}),a.defn(P,"$drop",function(a){var b,d=this;a=R.get("Opal").$coerce_to(a,R.get("Integer"),"to_int"),(b=0>a)===c||b.$$is_boolean&&1!=b||d.$raise(R.get("ArgumentError"),"attempt to drop negative size");var e=[],f=0;return d.$each.$$p=function(){f>=a&&e.push(R.get("Opal").$destructure(arguments)),f++},d.$each(),e}),a.defn(P,"$drop_while",o=function(){var b,e=this,f=o.$$p,g=f||c;if(o.$$p=null,g===c)return e.$enum_for("drop_while");var h=[],i=!0;return e.$each.$$p=function(){var e=R.get("Opal").$destructure(arguments);if(i){var f=a.yield1(g,e);if(f===d)return h=d.$v,d;((b=f)===c||b.$$is_boolean&&0==b)&&(i=!1,h.push(e))}else h.push(e)},e.$each(),h}),a.defn(P,"$each_cons",p=function(a){var b=this;p.$$p;return p.$$p=null,b.$raise(R.get("NotImplementedError"))}),a.defn(P,"$each_entry",q=function(){var a=this;q.$$p;return q.$$p=null,a.$raise(R.get("NotImplementedError"))}),a.defn(P,"$each_slice",r=function(b){var e,f=this,g=r.$$p,h=g||c;if(r.$$p=null,b=R.get("Opal").$coerce_to(b,R.get("Integer"),"to_int"),(e=0>=b)===c||e.$$is_boolean&&1!=e||f.$raise(R.get("ArgumentError"),"invalid slice size"),h===c)return f.$enum_for("each_slice",b);var i,j=[];return f.$each.$$p=function(){var c=R.get("Opal").$destructure(arguments);if(j.push(c),j.length===b){if(a.yield1(h,j)===d)return i=d.$v,d;j=[]}},f.$each(),void 0!==i?i:j.length>0&&a.yield1(h,j)===d?d.$v:c}),a.defn(P,"$each_with_index",s=function(a){var b,f=this,g=s.$$p,h=g||c;if(a=e.call(arguments,0),s.$$p=null,h===c)return(b=f).$enum_for.apply(b,["each_with_index"].concat(a));var i,j=0;return f.$each.$$p=function(){var a=R.get("Opal").$destructure(arguments),b=h(a,j);return b===d?(i=d.$v,d):void j++},f.$each.apply(f,a),void 0!==i?i:f}),a.defn(P,"$each_with_object",t=function(a){var b=this,e=t.$$p,f=e||c;if(t.$$p=null,f===c)return b.$enum_for("each_with_object",a);var g;return b.$each.$$p=function(){var b=R.get("Opal").$destructure(arguments),c=f(b,a);return c===d?(g=d.$v,d):void 0},b.$each(),void 0!==g?g:a}),a.defn(P,"$entries",function(a){var b=this;a=e.call(arguments,0);var c=[];return b.$each.$$p=function(){c.push(R.get("Opal").$destructure(arguments))},b.$each.apply(b,a),c}),a.defn(P,"$find",Q.$detect),a.defn(P,"$find_all",u=function(){var b,e=this,f=u.$$p,g=f||c;if(u.$$p=null,g===c)return e.$enum_for("find_all");var h=[];return e.$each.$$p=function(){var e=R.get("Opal").$destructure(arguments),f=a.yield1(g,e);return f===d?(h=d.$v,d):void((b=f)===c||b.$$is_boolean&&1!=b||h.push(e))},e.$each(),h}),a.defn(P,"$find_index",v=function(b){var e,f=this,g=v.$$p,h=g||c;if(v.$$p=null,(e=void 0===b&&h===c)!==c&&(!e.$$is_boolean||1==e))return f.$enum_for("find_index");var i=c,j=0;return null!=b?f.$each.$$p=function(){var a=R.get("Opal").$destructure(arguments);return a["$=="](b)?(i=j,d):void(j+=1)}:h!==c&&(f.$each.$$p=function(){var b=a.yieldX(h,arguments);return b===d?(i=d.$v,d):(e=b)===c||e.$$is_boolean&&1!=e?void(j+=1):(i=j,d)}),f.$each(),i}),a.defn(P,"$first",function(a){var b,e=this,f=c;if((b=void 0===a)===c||b.$$is_boolean&&1!=b){if(f=[],a=R.get("Opal").$coerce_to(a,R.get("Integer"),"to_int"),(b=0>a)===c||b.$$is_boolean&&1!=b||e.$raise(R.get("ArgumentError"),"attempt to take negative size"),(b=0==a)!==c&&(!b.$$is_boolean||1==b))return[];var g=0,a=R.get("Opal").$coerce_to(a,R.get("Integer"),"to_int");e.$each.$$p=function(){return f.push(R.get("Opal").$destructure(arguments)),a<=++g?d:void 0},e.$each()}else f=c,e.$each.$$p=function(){return f=R.get("Opal").$destructure(arguments),d},e.$each();return f}),a.defn(P,"$flat_map",Q.$collect_concat),a.defn(P,"$grep",w=function(b){var e,f=this,g=w.$$p,h=g||c;w.$$p=null;var i=[];return h!==c?f.$each.$$p=function(){var f=R.get("Opal").$destructure(arguments),g=b["$==="](f);if((e=g)!==c&&(!e.$$is_boolean||1==e)){if(g=a.yield1(h,f),g===d)return i=d.$v,d;i.push(g)}}:f.$each.$$p=function(){var a=R.get("Opal").$destructure(arguments),d=b["$==="](a);(e=d)===c||e.$$is_boolean&&1!=e||i.push(a)},f.$each(),i}),a.defn(P,"$group_by",x=function(){var b,e,f,g=this,h=x.$$p,i=h||c,j=c;if(x.$$p=null,i===c)return g.$enum_for("group_by");j=R.get("Hash").$new();var k;return g.$each.$$p=function(){var g=R.get("Opal").$destructure(arguments),h=a.yield1(i,g);return h===d?(k=d.$v,d):void(b=h,e=j,(f=e["$[]"](b))!==!1&&f!==c?f:e["$[]="](b,[]))["$<<"](g)},g.$each(),void 0!==k?k:j}),a.defn(P,"$include?",function(a){var b=this,c=!1;return b.$each.$$p=function(){var b=R.get("Opal").$destructure(arguments);return b["$=="](a)?(c=!0,d):void 0},b.$each(),c}),a.defn(P,"$inject",y=function(b,e){var f=this,g=y.$$p,h=g||c;y.$$p=null;var i=b;return h!==c&&void 0===e?f.$each.$$p=function(){var b=R.get("Opal").$destructure(arguments);return void 0===i?void(i=b):(b=a.yieldX(h,[i,b]),b===d?(i=d.$v,d):void(i=b))}:(void 0===e&&(R.get("Symbol")["$==="](b)||f.$raise(R.get("TypeError"),""+b.$inspect()+" is not a Symbol"),e=b,i=void 0),f.$each.$$p=function(){var a=R.get("Opal").$destructure(arguments);return void 0===i?void(i=a):void(i=i.$__send__(e,a))}),f.$each(),void 0==i?c:i}),a.defn(P,"$lazy",function(){var a,b,d,f=this;return(a=(b=R.get("Enumerator").$$scope.get("Lazy")).$new,a.$$p=(d=function(a,b){var f;d.$$s||this;return null==a&&(a=c),b=e.call(arguments,1),(f=a).$yield.apply(f,[].concat(b))},d.$$s=f,d),a).call(b,f,f.$enumerator_size())}),a.defn(P,"$enumerator_size",function(){var a,b=this;return(a=b["$respond_to?"]("size"))===c||a.$$is_boolean&&1!=a?c:b.$size()}),P.$private("enumerator_size"),a.defn(P,"$map",Q.$collect),a.defn(P,"$max",z=function(){var a=this,b=z.$$p,e=b||c;z.$$p=null;var f;return e!==c?a.$each.$$p=function(){var b=R.get("Opal").$destructure(arguments);if(void 0===f)return void(f=b);var g=e(b,f);return g===d?(f=d.$v,d):(g===c&&a.$raise(R.get("ArgumentError"),"comparison failed"),void(g>0&&(f=b)))}:a.$each.$$p=function(){var a=R.get("Opal").$destructure(arguments);return void 0===f?void(f=a):void(R.get("Opal").$compare(a,f)>0&&(f=a))},a.$each(),void 0===f?c:f}),a.defn(P,"$max_by",A=function(){var b=this,e=A.$$p,f=e||c;if(A.$$p=null,f===!1||f===c)return b.$enum_for("max_by");var g,h;return b.$each.$$p=function(){var b=R.get("Opal").$destructure(arguments),c=a.yield1(f,b);return void 0===g?(g=b,void(h=c)):c===d?(g=d.$v,d):void(c["$<=>"](h)>0&&(g=b,h=c))},b.$each(),void 0===g?c:g}),a.defn(P,"$member?",Q["$include?"]),a.defn(P,"$min",B=function(){var a=this,b=B.$$p,e=b||c;B.$$p=null;var f;return e!==c?a.$each.$$p=function(){var b=R.get("Opal").$destructure(arguments);if(void 0===f)return void(f=b);var g=e(b,f);return g===d?(f=d.$v,d):(g===c&&a.$raise(R.get("ArgumentError"),"comparison failed"),void(0>g&&(f=b)))}:a.$each.$$p=function(){var a=R.get("Opal").$destructure(arguments);return void 0===f?void(f=a):void(R.get("Opal").$compare(a,f)<0&&(f=a))},a.$each(),void 0===f?c:f}),a.defn(P,"$min_by",C=function(){var b=this,e=C.$$p,f=e||c;if(C.$$p=null,f===!1||f===c)return b.$enum_for("min_by");var g,h;return b.$each.$$p=function(){var b=R.get("Opal").$destructure(arguments),c=a.yield1(f,b);return void 0===g?(g=b,void(h=c)):c===d?(g=d.$v,d):void(c["$<=>"](h)<0&&(g=b,h=c))},b.$each(),void 0===g?c:g}),a.defn(P,"$minmax",D=function(){var a=this;D.$$p;return D.$$p=null,a.$raise(R.get("NotImplementedError"))}),a.defn(P,"$minmax_by",E=function(){var a=this;E.$$p;return E.$$p=null,a.$raise(R.get("NotImplementedError"))}),a.defn(P,"$none?",F=function(){var b,e=this,f=F.$$p,g=f||c;F.$$p=null;var h=!0;return g!==c?e.$each.$$p=function(){var e=a.yieldX(g,arguments);return e===d?(h=d.$v,d):(b=e)===c||b.$$is_boolean&&1!=b?void 0:(h=!1,d)}:e.$each.$$p=function(){var a=R.get("Opal").$destructure(arguments);return(b=a)===c||b.$$is_boolean&&1!=b?void 0:(h=!1,d)},e.$each(),h}),a.defn(P,"$one?",G=function(){var b,e=this,f=G.$$p,g=f||c;G.$$p=null;var h=!1;return g!==c?e.$each.$$p=function(){var e=a.yieldX(g,arguments);if(e===d)return h=d.$v,d;if((b=e)!==c&&(!b.$$is_boolean||1==b)){if(h===!0)return h=!1,d;h=!0}}:e.$each.$$p=function(){var a=R.get("Opal").$destructure(arguments);if((b=a)!==c&&(!b.$$is_boolean||1==b)){if(h===!0)return h=!1,d;h=!0}},e.$each(),h}),a.defn(P,"$partition",H=function(){var b,e=this,f=H.$$p,g=f||c;if(H.$$p=null,g===c)return e.$enum_for("partition");var h,i=[],j=[];return e.$each.$$p=function(){var e=R.get("Opal").$destructure(arguments),f=a.yield1(g,e);return f===d?(h=d.$v,d):void((b=f)===c||b.$$is_boolean&&1!=b?j.push(e):i.push(e))},e.$each(),[i,j]}),a.defn(P,"$reduce",Q.$inject),a.defn(P,"$reject",I=function(){var b,e=this,f=I.$$p,g=f||c;if(I.$$p=null,g===c)return e.$enum_for("reject");var h=[];return e.$each.$$p=function(){var e=R.get("Opal").$destructure(arguments),f=a.yield1(g,e);return f===d?(h=d.$v,d):void(((b=f)===c||b.$$is_boolean&&0==b)&&h.push(e))},e.$each(),h}),a.defn(P,"$reverse_each",J=function(){var b=this,d=J.$$p,e=d||c;if(J.$$p=null,e===c)return b.$enum_for("reverse_each");var f=[];b.$each.$$p=function(){f.push(arguments)},b.$each();for(var g=f.length-1;g>=0;g--)a.yieldX(e,f[g]);return f}),a.defn(P,"$select",Q.$find_all),a.defn(P,"$slice_before",K=function(b){var d,e,f,g=this,h=K.$$p,i=h||c;return K.$$p=null,(d=void 0===b&&i===c||arguments.length>1)===c||d.$$is_boolean&&1!=d||g.$raise(R.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),(d=(e=R.get("Enumerator")).$new,d.$$p=(f=function(d){var e,g=f.$$s||this;null==d&&(d=c);var h=[];i!==c?void 0===b?g.$each.$$p=function(){var b=R.get("Opal").$destructure(arguments),f=a.yield1(i,b);(e=f)!==c&&(!e.$$is_boolean||1==e)&&h.length>0&&(d["$<<"](h),h=[]),h.push(b)}:g.$each.$$p=function(){var a=R.get("Opal").$destructure(arguments),f=i(a,b.$dup());(e=f)!==c&&(!e.$$is_boolean||1==e)&&h.length>0&&(d["$<<"](h),h=[]),h.push(a)}:g.$each.$$p=function(){var a=R.get("Opal").$destructure(arguments),f=b["$==="](a);(e=f)!==c&&(!e.$$is_boolean||1==e)&&h.length>0&&(d["$<<"](h),h=[]),h.push(a)},g.$each(),h.length>0&&d["$<<"](h)},f.$$s=g,f),d).call(e)}),a.defn(P,"$sort",L=function(){var a,b,d,e=this,f=L.$$p,g=f||c,h=c;return L.$$p=null,h=e.$to_a(),g!==c||(g=(a=(b=e).$lambda,a.$$p=(d=function(a,b){d.$$s||this;return null==a&&(a=c),null==b&&(b=c),a["$<=>"](b)},d.$$s=e,d),a).call(b)),h.sort(g)}),a.defn(P,"$sort_by",M=function(){var a,b,d,e,f,g,h,i,j,k=this,l=M.$$p,m=l||c;return M.$$p=null,m===c?k.$enum_for("sort_by"):(a=(b=(e=(f=(h=(i=k).$map,h.$$p=(j=function(){var a=(j.$$s||this,c);return a=R.get("Opal").$destructure(arguments),[m.$call(a),a]},j.$$s=k,j),h).call(i)).$sort,e.$$p=(g=function(a,b){g.$$s||this;return null==a&&(a=c),null==b&&(b=c),a["$[]"](0)["$<=>"](b["$[]"](0))},g.$$s=k,g),e).call(f)).$map,a.$$p=(d=function(a){d.$$s||this;return null==a&&(a=c),a[1]},d.$$s=k,d),a).call(b)}),a.defn(P,"$take",function(a){var b=this;return b.$first(a)}),a.defn(P,"$take_while",N=function(){var b,e=this,f=N.$$p,g=f||c;
if(N.$$p=null,g===!1||g===c)return e.$enum_for("take_while");var h=[];return e.$each.$$p=function(){var e=R.get("Opal").$destructure(arguments),f=a.yield1(g,e);return f===d?(h=d.$v,d):(b=f)===c||b.$$is_boolean&&0==b?d:void h.push(e)},e.$each(),h}),a.defn(P,"$to_a",Q.$entries),a.defn(P,"$zip",O=function(a){var b,c=this;O.$$p;return a=e.call(arguments,0),O.$$p=null,(b=c.$to_a()).$zip.apply(b,[].concat(a))})}(b)},Opal.modules["corelib/enumerator"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="warning";var d=a.top,e=a.nil,f=a.breaker,g=a.slice,h=a.klass;return a.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$class","$__send__","$===","$call","$enum_for","$destructure","$inspect","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$for"]),d.$require("corelib/enumerable"),function(d,i){function j(){}var k,l,m,n,o=j=h(d,i,"Enumerator",j),p=o.$$proto,q=o.$$scope;return p.size=p.args=p.object=p.method=e,o.$include(q.get("Enumerable")),a.defs(o,"$for",k=function(a,b,c){var d=this,f=k.$$p,h=f||e;c=g.call(arguments,2),null==b&&(b="each"),k.$$p=null;var i=d.$allocate();return i.object=a,i.size=h,i.method=b,i.args=c,i}),p.$initialize=l=function(){var a,b,c=this,d=l.$$p,f=d||e;return l.$$p=null,f!==!1&&f!==e?(c.object=(a=(b=q.get("Generator")).$new,a.$$p=f.$to_proc(),a).call(b),c.method="each",c.args=[],c.size=arguments[0]||e,(a=c.size)===e||a.$$is_boolean&&1!=a?e:c.size=q.get("Opal").$coerce_to(c.size,q.get("Integer"),"to_int")):(c.object=arguments[0],c.method=arguments[1]||"each",c.args=g.call(arguments,2),c.size=e)},p.$each=m=function(a){var c,d,f,h=this,i=m.$$p,j=i||e;return a=g.call(arguments,0),m.$$p=null,d=j["$nil?"](),(c=d!==!1&&d!==e?a["$empty?"]():d)===e||c.$$is_boolean&&1!=c?(a=b(h.args,a),(c=j["$nil?"]())===e||c.$$is_boolean&&1!=c?(d=(f=h.object).$__send__,d.$$p=j.$to_proc(),d).apply(f,[h.method].concat(a)):(c=h.$class()).$new.apply(c,[h.object,h.method].concat(a))):h},p.$size=function(){var a,b=this;return(a=q.get("Proc")["$==="](b.size))===e||a.$$is_boolean&&1!=a?b.size:(a=b.size).$call.apply(a,[].concat(b.args))},p.$with_index=n=function(a){var b=this,c=n.$$p,d=c||e;if(null==a&&(a=0),n.$$p=null,a=a!==!1&&a!==e?q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int"):0,d===!1||d===e)return b.$enum_for("with_index",a);var g,h=a;return b.$each.$$p=function(){var a=q.get("Opal").$destructure(arguments),b=d(a,h);return b===f?(g=f.$v,f):void h++},b.$each(),void 0!==g?g:b.object},a.defn(o,"$with_object",p.$each_with_object),p.$inspect=function(){var a,c=this,d=e;return d="#<"+c.$class()+": "+c.object.$inspect()+":"+c.method,((a=c.args["$empty?"]())===e||a.$$is_boolean&&1!=a)&&(d=b(d,"("+c.args.$inspect()["$[]"](q.get("Range").$new(1,-2))+")")),b(d,">")},function(b,c){function d(){}var i,j,k=d=h(b,c,"Generator",d),l=k.$$proto,m=k.$$scope;return l.block=e,k.$include(m.get("Enumerable")),l.$initialize=i=function(){var a=this,b=i.$$p,c=b||e;return i.$$p=null,c!==!1&&c!==e||a.$raise(m.get("LocalJumpError"),"no block given"),a.block=c},l.$each=j=function(b){var c,d,h=this,i=j.$$p,k=i||e,l=e;b=g.call(arguments,0),j.$$p=null,l=(c=(d=m.get("Yielder")).$new,c.$$p=k.$to_proc(),c).call(d);try{if(b.unshift(l),a.yieldX(h.block,b)===f)return f.$v}catch(n){if(n===f)return f.$v;throw n}return h},e&&"each"}(o,null),function(b,c){function d(){}var i,j=d=h(b,c,"Yielder",d),k=j.$$proto;j.$$scope;return k.block=e,k.$initialize=i=function(){var a=this,b=i.$$p,c=b||e;return i.$$p=null,a.block=c},k.$yield=function(b){var c=this;b=g.call(arguments,0);var d=a.yieldX(c.block,b);if(d===f)throw f;return d},k["$<<"]=function(a){var b,c=this;return a=g.call(arguments,0),(b=c).$yield.apply(b,[].concat(a)),c},e&&"<<"}(o,null),function(d,i){function j(){}var k,l,m,n,o,p,q,r,s,t=j=h(d,i,"Lazy",j),u=t.$$proto,v=t.$$scope;return u.enumerator=e,function(a,b){function c(){}var d=c=h(a,b,"StopLazyError",c);d.$$proto,d.$$scope;return e}(t,v.get("Exception")),u.$initialize=k=function(b,c){var d,h=this,i=k.$$p,j=i||e;return null==c&&(c=e),k.$$p=null,j!==e||h.$raise(v.get("ArgumentError"),"tried to call lazy new without a block"),h.enumerator=b,a.find_super_dispatcher(h,"initialize",k,(d=function(c,h){var i,k,l,m=d.$$s||this;null==c&&(c=e),h=g.call(arguments,1);try{return(i=(k=b).$each,i.$$p=(l=function(b){l.$$s||this;return b=g.call(arguments,0),b.unshift(c),a.yieldX(j,b)===f?f:void 0},l.$$s=m,l),i).apply(k,[].concat(h))}catch(n){if(a.rescue(n,[v.get("Exception")]))return e;throw n}},d.$$s=h,d)).apply(h,[c])},a.defn(t,"$force",u.$to_a),u.$lazy=function(){var a=this;return a},u.$collect=l=function(){var b,c,d,h=this,i=l.$$p,j=i||e;return l.$$p=null,j!==!1&&j!==e||h.$raise(v.get("ArgumentError"),"tried to call lazy map without a block"),(b=(c=v.get("Lazy")).$new,b.$$p=(d=function(b,c){d.$$s||this;null==b&&(b=e),c=g.call(arguments,1);var h=a.yieldX(j,c);return h===f?f:void b.$yield(h)},d.$$s=h,d),b).call(c,h,h.$enumerator_size())},u.$collect_concat=m=function(){var b,c,d,h=this,i=m.$$p,j=i||e;return m.$$p=null,j!==!1&&j!==e||h.$raise(v.get("ArgumentError"),"tried to call lazy map without a block"),(b=(c=v.get("Lazy")).$new,b.$$p=(d=function(b,c){var h,i,k,l,m,n=d.$$s||this;null==b&&(b=e),c=g.call(arguments,1);var o=a.yieldX(j,c);if(o===f)return f;if(o["$respond_to?"]("force")&&o["$respond_to?"]("each"))(h=(i=o).$each,h.$$p=(k=function(a){k.$$s||this;return null==a&&(a=e),b.$yield(a)},k.$$s=n,k),h).call(i);else{var p=v.get("Opal").$try_convert(o,v.get("Array"),"to_ary");p===e?b.$yield(o):(h=(l=o).$each,h.$$p=(m=function(a){m.$$s||this;return null==a&&(a=e),b.$yield(a)},m.$$s=n,m),h).call(l)}},d.$$s=h,d),b).call(c,h,e)},u.$drop=function(a){var d,f,h,i=this,j=e,k=e,l=e;return a=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int"),c(a,0)&&i.$raise(v.get("ArgumentError"),"attempt to drop negative size"),j=i.$enumerator_size(),k=function(){return(d=v.get("Integer")["$==="](j))===e||d.$$is_boolean&&1!=d?j:c(a,j)?a:j}(),l=0,(d=(f=v.get("Lazy")).$new,d.$$p=(h=function(d,f){var i;h.$$s||this;return null==d&&(d=e),f=g.call(arguments,1),c(l,a)?l=b(l,1):(i=d).$yield.apply(i,[].concat(f))},h.$$s=i,h),d).call(f,i,k)},u.$drop_while=n=function(){var b,c,d,h=this,i=n.$$p,j=i||e,k=e;return n.$$p=null,j!==!1&&j!==e||h.$raise(v.get("ArgumentError"),"tried to call lazy drop_while without a block"),k=!0,(b=(c=v.get("Lazy")).$new,b.$$p=(d=function(b,c){var h,i;d.$$s||this;if(null==b&&(b=e),c=g.call(arguments,1),k===!1||k===e)return(i=b).$yield.apply(i,[].concat(c));var l=a.yieldX(j,c);return l===f?f:void(((h=l)===e||h.$$is_boolean&&0==h)&&(k=!1,(h=b).$yield.apply(h,[].concat(c))))},d.$$s=h,d),b).call(c,h,e)},u.$enum_for=o=function(a,b){var c,d,f=this,h=o.$$p,i=h||e;return b=g.call(arguments,1),null==a&&(a="each"),o.$$p=null,(c=(d=f.$class()).$for,c.$$p=i.$to_proc(),c).apply(d,[f,a].concat(b))},u.$find_all=p=function(){var b,c,d,h=this,i=p.$$p,j=i||e;return p.$$p=null,j!==!1&&j!==e||h.$raise(v.get("ArgumentError"),"tried to call lazy select without a block"),(b=(c=v.get("Lazy")).$new,b.$$p=(d=function(b,c){var h;d.$$s||this;null==b&&(b=e),c=g.call(arguments,1);var i=a.yieldX(j,c);return i===f?f:void((h=i)===e||h.$$is_boolean&&1!=h||(h=b).$yield.apply(h,[].concat(c)))},d.$$s=h,d),b).call(c,h,e)},a.defn(t,"$flat_map",u.$collect_concat),u.$grep=q=function(b){var c,d,h,i,j,k=this,l=q.$$p,m=l||e;return q.$$p=null,m!==!1&&m!==e?(c=(d=v.get("Lazy")).$new,c.$$p=(h=function(c,d){var i;h.$$s||this;null==c&&(c=e),d=g.call(arguments,1);var j=v.get("Opal").$destructure(d),k=b["$==="](j);if((i=k)!==e&&(!i.$$is_boolean||1==i)){if(k=a.yield1(m,j),k===f)return f;c.$yield(a.yield1(m,j))}},h.$$s=k,h),c).call(d,k,e):(c=(i=v.get("Lazy")).$new,c.$$p=(j=function(a,c){var d;j.$$s||this;null==a&&(a=e),c=g.call(arguments,1);var f=v.get("Opal").$destructure(c),h=b["$==="](f);(d=h)===e||d.$$is_boolean&&1!=d||a.$yield(f)},j.$$s=k,j),c).call(i,k,e)},a.defn(t,"$map",u.$collect),a.defn(t,"$select",u.$find_all),u.$reject=r=function(){var b,c,d,h=this,i=r.$$p,j=i||e;return r.$$p=null,j!==!1&&j!==e||h.$raise(v.get("ArgumentError"),"tried to call lazy reject without a block"),(b=(c=v.get("Lazy")).$new,b.$$p=(d=function(b,c){var h;d.$$s||this;null==b&&(b=e),c=g.call(arguments,1);var i=a.yieldX(j,c);return i===f?f:void(((h=i)===e||h.$$is_boolean&&0==h)&&(h=b).$yield.apply(h,[].concat(c)))},d.$$s=h,d),b).call(c,h,e)},u.$take=function(a){var d,f,h,i=this,j=e,k=e,l=e;return a=v.get("Opal").$coerce_to(a,v.get("Integer"),"to_int"),c(a,0)&&i.$raise(v.get("ArgumentError"),"attempt to take negative size"),j=i.$enumerator_size(),k=function(){return(d=v.get("Integer")["$==="](j))===e||d.$$is_boolean&&1!=d?j:c(a,j)?a:j}(),l=0,(d=(f=v.get("Lazy")).$new,d.$$p=(h=function(d,f){var i,j=h.$$s||this;return null==d&&(d=e),f=g.call(arguments,1),c(l,a)?((i=d).$yield.apply(i,[].concat(f)),l=b(l,1)):j.$raise(v.get("StopLazyError"))},h.$$s=i,h),d).call(f,i,k)},u.$take_while=s=function(){var b,c,d,h=this,i=s.$$p,j=i||e;return s.$$p=null,j!==!1&&j!==e||h.$raise(v.get("ArgumentError"),"tried to call lazy take_while without a block"),(b=(c=v.get("Lazy")).$new,b.$$p=(d=function(b,c){var h,i=d.$$s||this;null==b&&(b=e),c=g.call(arguments,1);var k=a.yieldX(j,c);return k===f?f:void((h=k)===e||h.$$is_boolean&&1!=h?i.$raise(v.get("StopLazyError")):(h=b).$yield.apply(h,[].concat(c)))},d.$$s=h,d),b).call(c,h,e)},a.defn(t,"$to_enum",u.$enum_for),u.$inspect=function(){var a=this;return"#<"+a.$class()+": "+a.enumerator.$inspect()+">"},e&&"inspect"}(o,o)}(d,null)},Opal.modules["corelib/array"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="warning";var d=a.top,e=a.nil,f=a.breaker,g=a.slice,h=a.klass,i=a.gvars,j=a.range,k=a.hash2;return a.add_stubs(["$require","$include","$new","$class","$raise","$===","$to_a","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$==","$to_str","$clone","$hash","$<=>","$object_id","$inspect","$enum_for","$empty?","$nil?","$coerce_to!","$initialize_clone","$initialize_dup","$replace","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$[]","$to_s","$join","$delete_if","$to_proc","$each","$reverse","$frozen?","$rotate","$!","$map","$rand","$keep_if","$shuffle!","$sort","$times","$[]=","$<<","$at","$kind_of?","$last","$first","$upto"]),d.$require("corelib/enumerable"),function(d,l){function m(){}var n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M=m=h(d,l,"Array",m),N=M.$$proto,O=M.$$scope;return N.length=e,M.$include(O.get("Enumerable")),N.$$is_array=!0,a.defs(M,"$[]",function(a){return a=g.call(arguments,0)}),N.$initialize=function(a){var b,c=this;return a=g.call(arguments,0),(b=c.$class()).$new.apply(b,[].concat(a))},a.defs(M,"$new",n=function(a,b){var c,d=this,g=n.$$p,h=g||e;if(null==a&&(a=e),null==b&&(b=e),n.$$p=null,(c=arguments.length>2)===e||c.$$is_boolean&&1!=c||d.$raise(O.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),(c=0===arguments.length)!==e&&(!c.$$is_boolean||1==c))return[];if((c=1===arguments.length)!==e&&(!c.$$is_boolean||1==c)){if(!((c=O.get("Array")["$==="](a))===e||c.$$is_boolean&&1!=c))return a.$to_a();if((c=a["$respond_to?"]("to_ary"))!==e&&(!c.$$is_boolean||1==c))return a.$to_ary()}a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int"),(c=0>a)===e||c.$$is_boolean&&1!=c||d.$raise(O.get("ArgumentError"),"negative array size");var i=[];if(h===e)for(var j=0;a>j;j++)i.push(b);else for(var k,j=0;a>j;j++){if(k=h(j),k===f)return f.$v;i[j]=k}return i}),a.defs(M,"$try_convert",function(a){return O.get("Opal")["$coerce_to?"](a,O.get("Array"),"to_ary")}),N["$&"]=function(a){var b,c=this;a=(b=O.get("Array")["$==="](a))===e||b.$$is_boolean&&1!=b?O.get("Opal").$coerce_to(a,O.get("Array"),"to_ary").$to_a():a.$to_a();for(var d=[],f={},g=0,h=c.length;h>g;g++){var i=c[g];if(!f[i])for(var j=0,k=a.length;k>j;j++){var l=a[j];!f[l]&&i["$=="](l)&&(f[i]=!0,d.push(i))}}return d},N["$|"]=function(a){var b,c=this;a=(b=O.get("Array")["$==="](a))===e||b.$$is_boolean&&1!=b?O.get("Opal").$coerce_to(a,O.get("Array"),"to_ary").$to_a():a.$to_a();for(var d=[],f={},g=0,h=c.length;h>g;g++){var i=c[g];f[i]||(f[i]=!0,d.push(i))}for(var g=0,h=a.length;h>g;g++){var i=a[g];f[i]||(f[i]=!0,d.push(i))}return d},N["$*"]=function(a){var b,c=this;if((b=a["$respond_to?"]("to_str"))!==e&&(!b.$$is_boolean||1==b))return c.join(a.$to_str());((b=a["$respond_to?"]("to_int"))===e||b.$$is_boolean&&1!=b)&&c.$raise(O.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"),a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int"),(b=0>a)===e||b.$$is_boolean&&1!=b||c.$raise(O.get("ArgumentError"),"negative argument");for(var d=[],f=0;a>f;f++)d=d.concat(c);return d},N["$+"]=function(a){var b,c=this;return a=(b=O.get("Array")["$==="](a))===e||b.$$is_boolean&&1!=b?O.get("Opal").$coerce_to(a,O.get("Array"),"to_ary").$to_a():a.$to_a(),c.concat(a)},N["$-"]=function(a){var b,c=this;if(a=(b=O.get("Array")["$==="](a))===e||b.$$is_boolean&&1!=b?O.get("Opal").$coerce_to(a,O.get("Array"),"to_ary").$to_a():a.$to_a(),(b=0===c.length)!==e&&(!b.$$is_boolean||1==b))return[];if((b=0===a.length)!==e&&(!b.$$is_boolean||1==b))return c.$clone();for(var d={},f=[],g=0,h=a.length;h>g;g++)d[a[g]]=!0;for(var g=0,h=c.length;h>g;g++){var i=c[g];d[i]||f.push(i)}return f},N["$<<"]=function(a){var b=this;return b.push(a),b},N["$<=>"]=function(a){var b,c=this;if((b=O.get("Array")["$==="](a))===e||b.$$is_boolean&&1!=b){if((b=a["$respond_to?"]("to_ary"))===e||b.$$is_boolean&&1!=b)return e;a=a.$to_ary().$to_a()}else a=a.$to_a();if(c.$hash()===a.$hash())return 0;if(c.length!=a.length)return c.length>a.length?1:-1;for(var d=0,f=c.length;f>d;d++){var g=c[d]["$<=>"](a[d]);if(0!==g)return g}return 0},N["$=="]=function(a){function b(a,c){var e,f,g,h;if(!c.$$is_array)return O.get("Opal")["$respond_to?"](c,"to_ary")?c["$=="](a):!1;if(c=c.$to_a(),a.length!==c.length)return!1;for(d[a.$object_id()]=!0,e=0,f=a.length;f>e;e++)if(g=a[e],h=c[e],g.$$is_array){if(h.$$is_array&&h.length!==g.length)return!1;if(!d.hasOwnProperty(g.$object_id())&&!b(g,h))return!1}else if(!g["$=="](h))return!1;return!0}var c=this,d={};return b(c,a)},N["$[]"]=function(a,b){var c,d=this;if((c=O.get("Range")["$==="](a))===e||c.$$is_boolean&&1!=c){a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int");var f=d.length;return 0>a&&(a+=f,0>a)?e:void 0===b?a>=f||0>a?e:d[a]:(b=O.get("Opal").$coerce_to(b,O.get("Integer"),"to_int"),0>b||a>f||0>a?e:d.slice(a,a+b))}var f=d.length,g=a.exclude,h=O.get("Opal").$coerce_to(a.begin,O.get("Integer"),"to_int"),i=O.get("Opal").$coerce_to(a.end,O.get("Integer"),"to_int");return 0>h&&(h+=f,0>h)?e:h>f?e:0>i&&(i+=f,0>i)?[]:(g||(i+=1),d.slice(h,i))},N["$[]="]=function(a,b,c){var d,f=this,g=e,h=e;if((d=O.get("Range")["$==="](a))===e||d.$$is_boolean&&1!=d){(d=void 0===c)===e||d.$$is_boolean&&1!=d?(h=b,b=c,g=(d=O.get("Array")["$==="](b))===e||d.$$is_boolean&&1!=d?(d=b["$respond_to?"]("to_ary"))===e||d.$$is_boolean&&1!=d?[b]:b.$to_ary().$to_a():b.$to_a()):h=1;var i,j=f.length,a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int"),h=O.get("Opal").$coerce_to(h,O.get("Integer"),"to_int");if(0>a&&(i=a,a+=j,0>a&&f.$raise(O.get("IndexError"),"index "+i+" too small for array; minimum "+-f.length)),0>h&&f.$raise(O.get("IndexError"),"negative length ("+h+")"),a>j)for(var k=j;a>k;k++)f[k]=e;return void 0===c?f[a]=b:f.splice.apply(f,[a,h].concat(g)),b}g=(d=O.get("Array")["$==="](b))===e||d.$$is_boolean&&1!=d?(d=b["$respond_to?"]("to_ary"))===e||d.$$is_boolean&&1!=d?[b]:b.$to_ary().$to_a():b.$to_a();var j=f.length,l=a.exclude,m=O.get("Opal").$coerce_to(a.begin,O.get("Integer"),"to_int"),n=O.get("Opal").$coerce_to(a.end,O.get("Integer"),"to_int");if(0>m&&(m+=j,0>m&&f.$raise(O.get("RangeError"),""+a.$inspect()+" out of range")),0>n&&(n+=j),l||(n+=1),m>j)for(var k=j;m>k;k++)f[k]=e;return 0>n?f.splice.apply(f,[m,0].concat(g)):f.splice.apply(f,[m,n-m].concat(g)),b},N.$assoc=function(a){for(var b,c=this,d=0,f=c.length;f>d;d++)if(b=c[d],b.length&&b[0]["$=="](a))return b;return e},N.$at=function(a){var b=this;return a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int"),0>a&&(a+=b.length),0>a||a>=b.length?e:b[a]},N.$bsearch=o=function(){var a=this,b=o.$$p,c=b||e;if(o.$$p=null,c===e)return a.$enum_for("bsearch");for(var d,g,h,i=0,j=a.length,k=!1,l=e;j>i;){if(d=i+Math.floor((j-i)/2),g=a[d],h=c(g),h===f)return f.$v;if(h===!0)l=g,k=!0;else if(h===!1||h===e)k=!1;else if(h.$$is_number){if(0===h)return g;k=0>h}else a.$raise(O.get("TypeError"),"wrong argument type "+h.$class()+" (must be numeric, true, false or nil)");k?j=d:i=d+1}return l},N.$cycle=p=function(b){var c,d,g=this,h=p.$$p,i=h||e;if(null==b&&(b=e),p.$$p=null,(c=(d=g["$empty?"]())!==!1&&d!==e?d:b["$=="](0))!==e&&(!c.$$is_boolean||1==c))return e;if(i===!1||i===e)return g.$enum_for("cycle",b);if((c=b["$nil?"]())===e||c.$$is_boolean&&1!=c){if(b=O.get("Opal")["$coerce_to!"](b,O.get("Integer"),"to_int"),0>=b)return g;for(;b>0;){for(var j=0,k=g.length;k>j;j++){var l=a.yield1(i,g[j]);if(l===f)return f.$v}b--}}else for(;;)for(var j=0,k=g.length;k>j;j++){var l=a.yield1(i,g[j]);if(l===f)return f.$v}return g},N.$clear=function(){var a=this;return a.splice(0,a.length),a},N.$clone=function(){var a=this,b=e;return b=[],b.$initialize_clone(a),b},N.$dup=function(){var a=this,b=e;return b=[],b.$initialize_dup(a),b},N.$initialize_copy=function(a){var b=this;return b.$replace(a)},N.$collect=q=function(){var b=this,c=q.$$p,d=c||e;if(q.$$p=null,d===e)return b.$enum_for("collect");for(var g=[],h=0,i=b.length;i>h;h++){var j=a.yield1(d,b[h]);if(j===f)return f.$v;g.push(j)}return g},N["$collect!"]=r=function(){var b=this,c=r.$$p,d=c||e;if(r.$$p=null,d===e)return b.$enum_for("collect!");for(var g=0,h=b.length;h>g;g++){var i=a.yield1(d,b[g]);if(i===f)return f.$v;b[g]=i}return b},N.$combination=s=function(b){var c,d=this,g=s.$$p,h=g||e,i=e;if(s.$$p=null,i=O.get("Opal")["$coerce_to!"](b,O.get("Integer"),"to_int"),h===e)return d.$enum_for("combination",i);var j,k,l,m,n,o,p;if(0===i)(c=a.yield1(h,[]))===f?f.$v:c;else if(1===i)for(j=0,k=d.length;k>j;j++)(c=a.yield1(h,[d[j]]))===f?f.$v:c;else if(i===d.length)(c=a.yield1(h,d.slice()))===f?f.$v:c;else if(i>=0&&i<d.length){for(l=[],j=0;i+1>=j;j++)l.push(0);for(m=[],n=0,o=!1,l[0]=-1;!o;){for(m[n]=d[l[n+1]];i-1>n;)n++,p=l[n+1]=l[n]+1,m[n]=d[p];(c=a.yield1(h,m.slice()))===f?f.$v:c,n++;do o=0===n,l[n]++,n--;while(l[n+1]+i===d.length+n+1)}}return d},N.$compact=function(){for(var a,b=this,c=[],d=0,f=b.length;f>d;d++)(a=b[d])!==e&&c.push(a);return c},N["$compact!"]=function(){for(var a=this,b=a.length,c=0,d=a.length;d>c;c++)a[c]===e&&(a.splice(c,1),d--,c--);return a.length===b?e:a},N.$concat=function(a){var b,c=this;a=(b=O.get("Array")["$==="](a))===e||b.$$is_boolean&&1!=b?O.get("Opal").$coerce_to(a,O.get("Array"),"to_ary").$to_a():a.$to_a();for(var d=0,f=a.length;f>d;d++)c.push(a[d]);return c},N.$delete=t=function(b){var c,d=this,g=t.$$p,h=g||e;t.$$p=null;for(var i=d.length,j=0,k=i;k>j;j++)d[j]["$=="](b)&&(d.splice(j,1),k--,j--);return d.length===i?h!==e?(c=a.yieldX(h,[]))===f?f.$v:c:e:b},N.$delete_at=function(a){var b=this;if(a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int"),0>a&&(a+=b.length),0>a||a>=b.length)return e;var c=b[a];return b.splice(a,1),c},N.$delete_if=u=function(){var a=this,b=u.$$p,c=b||e;if(u.$$p=null,c===e)return a.$enum_for("delete_if");for(var d,g=0,h=a.length;h>g;g++){if((d=c(a[g]))===f)return f.$v;d!==!1&&d!==e&&(a.splice(g,1),h--,g--)}return a},N.$drop=function(a){var b=this;return 0>a&&b.$raise(O.get("ArgumentError")),b.slice(a)},a.defn(M,"$dup",N.$clone),N.$each=v=function(){var b=this,c=v.$$p,d=c||e;if(v.$$p=null,d===e)return b.$enum_for("each");for(var g=0,h=b.length;h>g;g++){var i=a.yield1(d,b[g]);if(i==f)return f.$v}return b},N.$each_index=w=function(){var b=this,c=w.$$p,d=c||e;if(w.$$p=null,d===e)return b.$enum_for("each_index");for(var g=0,h=b.length;h>g;g++){var i=a.yield1(d,g);if(i===f)return f.$v}return b},N["$empty?"]=function(){var a=this;return 0===a.length},N["$eql?"]=function(a){function b(a,c){var e,f,g,h;if(!c.$$is_array)return!1;if(c=c.$to_a(),a.length!==c.length)return!1;for(d[a.$object_id()]=!0,e=0,f=a.length;f>e;e++)if(g=a[e],h=c[e],g.$$is_array){if(h.$$is_array&&h.length!==g.length)return!1;if(!d.hasOwnProperty(g.$object_id())&&!b(g,h))return!1}else if(!g["$eql?"](h))return!1;return!0}var c=this,d={};return b(c,a)},N.$fetch=x=function(a,b){var c=this,d=x.$$p,f=d||e;x.$$p=null;var g=a;return a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int"),0>a&&(a+=c.length),a>=0&&a<c.length?c[a]:f!==e?f(g):null!=b?b:void(0===c.length?c.$raise(O.get("IndexError"),"index "+g+" outside of array bounds: 0...0"):c.$raise(O.get("IndexError"),"index "+g+" outside of array bounds: -"+c.length+"..."+c.length))},N.$fill=y=function(b){var c,d=this,h=y.$$p,i=h||e,j=e,k=e,l=e,m=e,n=e;if(b=g.call(arguments,0),y.$$p=null,i!==!1&&i!==e?((c=b.length>2)===e||c.$$is_boolean&&1!=c||d.$raise(O.get("ArgumentError"),"wrong number of arguments ("+b.$length()+" for 0..2)"),c=a.to_ary(b),j=null==c[0]?e:c[0],k=null==c[1]?e:c[1]):((c=0==b.length)===e||c.$$is_boolean&&1!=c?(c=b.length>3)===e||c.$$is_boolean&&1!=c||d.$raise(O.get("ArgumentError"),"wrong number of arguments ("+b.$length()+" for 1..3)"):d.$raise(O.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),c=a.to_ary(b),l=null==c[0]?e:c[0],j=null==c[1]?e:c[1],k=null==c[2]?e:c[2]),(c=O.get("Range")["$==="](j))===e||c.$$is_boolean&&1!=c)if(j!==!1&&j!==e)if(m=O.get("Opal").$coerce_to(j,O.get("Integer"),"to_int"),(c=0>m)===e||c.$$is_boolean&&1!=c||(m+=d.length),(c=0>m)===e||c.$$is_boolean&&1!=c||(m=0),k!==!1&&k!==e){if(n=O.get("Opal").$coerce_to(k,O.get("Integer"),"to_int"),(c=0==n)!==e&&(!c.$$is_boolean||1==c))return d;n+=m}else n=d.length;else m=0,n=d.length;else if(k!==!1&&k!==e&&d.$raise(O.get("TypeError"),"length invalid with range"),m=O.get("Opal").$coerce_to(j.$begin(),O.get("Integer"),"to_int"),(c=0>m)===e||c.$$is_boolean&&1!=c||(m+=d.length),(c=0>m)===e||c.$$is_boolean&&1!=c||d.$raise(O.get("RangeError"),""+j.$inspect()+" out of range"),n=O.get("Opal").$coerce_to(j.$end(),O.get("Integer"),"to_int"),(c=0>n)===e||c.$$is_boolean&&1!=c||(n+=d.length),((c=j["$exclude_end?"]())===e||c.$$is_boolean&&1!=c)&&(n+=1),(c=m>=n)!==e&&(!c.$$is_boolean||1==c))return d;if((c=m>d.length)!==e&&(!c.$$is_boolean||1==c))for(var o=d.length;n>o;o++)d[o]=e;if((c=n>d.length)===e||c.$$is_boolean&&1!=c||(d.length=n),i!==!1&&i!==e){for(d.length;n>m;m++){var p=i(m);if(p===f)return f.$v;d[m]=p}}else{for(d.length;n>m;m++)d[m]=l}return d},N.$first=function(a){var b=this;return null==a?0===b.length?e:b[0]:(a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int"),0>a&&b.$raise(O.get("ArgumentError"),"negative array size"),b.slice(0,a))},N.$flatten=function(a){function b(a,f){var g,h,i,j,a=a.$to_a(),k=[];for(g=0,h=a.length;h>g;g++)if(i=a[g],O.get("Opal")["$respond_to?"](i,"to_ary"))if(j=i.$to_ary(),j!==e)switch(j.$$is_array||c.$raise(O.get("TypeError")),d===j.$object_id()&&c.$raise(O.get("ArgumentError")),f){case void 0:k.push.apply(k,b(j));break;case 0:k.push(j);break;default:k.push.apply(k,b(j,f-1))}else k.push(i);else k.push(i);return k}var c=this,d=c.$object_id();return void 0!==a&&(a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int")),b(c,a)},N["$flatten!"]=function(a){var b=this,c=b.$flatten(a);if(b.length==c.length){for(var d=0,f=b.length;f>d&&b[d]===c[d];d++);if(d==f)return e}return b.$replace(c),b},N.$hash=function(){for(var a,b=this,c=["A"],d=0,e=b.length;e>d;d++)a=b[d],a.$$is_array&&b["$eql?"](a)?c.push("self"):c.push(a.$hash());return c.join(",")},N["$include?"]=function(a){for(var b=this,c=0,d=b.length;d>c;c++)if(b[c]["$=="](a))return!0;return!1},N.$index=z=function(a){var b=this,c=z.$$p,d=c||e;if(z.$$p=null,null!=a){for(var g=0,h=b.length;h>g;g++)if(b[g]["$=="](a))return g}else{if(d===e)return b.$enum_for("index");for(var i,g=0,h=b.length;h>g;g++){if((i=d(b[g]))===f)return f.$v;if(i!==!1&&i!==e)return g}}return e},N.$insert=function(a,b){var c=this;if(b=g.call(arguments,1),a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int"),b.length>0){if(0>a&&(a+=c.length+1,0>a&&c.$raise(O.get("IndexError"),""+a+" is out of bounds")),a>c.length)for(var d=c.length;a>d;d++)c.push(e);c.splice.apply(c,[a,0].concat(b))}return c},N.$inspect=function(){for(var a=this,b=[],c=a.$__id__(),d=0,e=a.length;e>d;d++){var f=a["$[]"](d);f.$__id__()===c?b.push("[...]"):b.push(f.$inspect())}return"["+b.join(", ")+"]"},N.$join=function(a){var b,c=this;if(null==i[","]&&(i[","]=e),null==a&&(a=e),(b=0===c.length)!==e&&(!b.$$is_boolean||1==b))return"";(b=a===e)===e||b.$$is_boolean&&1!=b||(a=i[","]);for(var d=[],f=c.$object_id(),g=0,h=c.length;h>g;g++){var j=c[g];if(O.get("Opal")["$respond_to?"](j,"to_str")){var k=j.$to_str();if(k!==e){d.push(k.$to_s());continue}}if(O.get("Opal")["$respond_to?"](j,"to_ary")){var k=j.$to_ary();if(f===k.$object_id()&&c.$raise(O.get("ArgumentError")),k!==e){d.push(k.$join(a));continue}}if(O.get("Opal")["$respond_to?"](j,"to_s")){var k=j.$to_s();if(k!==e){d.push(k);continue}}c.$raise(O.get("NoMethodError"),""+O.get("Opal").$inspect(j)+" doesn't respond to #to_str, #to_ary or #to_s")}return a===e?d.join(""):d.join(O.get("Opal")["$coerce_to!"](a,O.get("String"),"to_str").$to_s())},N.$keep_if=A=function(){var a=this,b=A.$$p,c=b||e;if(A.$$p=null,c===e)return a.$enum_for("keep_if");for(var d,g=0,h=a.length;h>g;g++){if((d=c(a[g]))===f)return f.$v;(d===!1||d===e)&&(a.splice(g,1),h--,g--)}return a},N.$last=function(a){var b=this;return null==a?0===b.length?e:b[b.length-1]:(a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int"),0>a&&b.$raise(O.get("ArgumentError"),"negative array size"),a>b.length&&(a=b.length),b.slice(b.length-a,b.length))},N.$length=function(){var a=this;return a.length},a.defn(M,"$map",N.$collect),a.defn(M,"$map!",N["$collect!"]),N.$pop=function(a){var b,c=this;return(b=void 0===a)===e||b.$$is_boolean&&1!=b?(a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int"),(b=0>a)===e||b.$$is_boolean&&1!=b||c.$raise(O.get("ArgumentError"),"negative array size"),(b=0===c.length)===e||b.$$is_boolean&&1!=b?(b=a>c.length)===e||b.$$is_boolean&&1!=b?c.splice(c.length-a,c.length):c.splice(0,c.length):[]):(b=0===c.length)===e||b.$$is_boolean&&1!=b?c.pop():e},N.$product=B=function(b){var c,d=this,h=B.$$p,i=h||e;b=g.call(arguments,0),B.$$p=null;var j,k,l,m,n=i!==e?null:[],o=b.length+1,p=new Array(o),q=new Array(o),r=new Array(o),s=1;for(r[0]=d,j=1;o>j;j++)r[j]=O.get("Opal").$coerce_to(b[j-1],O.get("Array"),"to_ary");for(j=0;o>j;j++){if(m=r[j].length,0===m)return n||d;s*=m,s>2147483647&&d.$raise(O.get("RangeError"),"too big to product"),q[j]=m,p[j]=0}a:for(;;){for(l=[],j=0;o>j;j++)l.push(r[j][p[j]]);for(n?n.push(l):(c=a.yield1(i,l))===f?f.$v:c,k=o-1,p[k]++;p[k]===q[k];){if(p[k]=0,--k<0)break a;p[k]++}}return n||d},N.$push=function(a){var b=this;a=g.call(arguments,0);for(var c=0,d=a.length;d>c;c++)b.push(a[c]);return b},N.$rassoc=function(a){for(var b,c=this,d=0,f=c.length;f>d;d++)if(b=c[d],b.length&&void 0!==b[1]&&b[1]["$=="](a))return b;return e},N.$reject=C=function(){var a=this,b=C.$$p,c=b||e;if(C.$$p=null,c===e)return a.$enum_for("reject");for(var d,g=[],h=0,i=a.length;i>h;h++){if((d=c(a[h]))===f)return f.$v;(d===!1||d===e)&&g.push(a[h])}return g},N["$reject!"]=D=function(){var a,b,c=this,d=D.$$p,f=d||e,g=e;return D.$$p=null,f===e?c.$enum_for("reject!"):(g=c.$length(),(a=(b=c).$delete_if,a.$$p=f.$to_proc(),a).call(b),c.$length()["$=="](g)?e:c)},N.$replace=function(a){var b,c=this;return a=(b=O.get("Array")["$==="](a))===e||b.$$is_boolean&&1!=b?O.get("Opal").$coerce_to(a,O.get("Array"),"to_ary").$to_a():a.$to_a(),c.splice(0,c.length),c.push.apply(c,a),c},N.$reverse=function(){var a=this;return a.slice(0).reverse()},N["$reverse!"]=function(){var a=this;return a.reverse()},N.$reverse_each=E=function(){var a,b,c=this,d=E.$$p,f=d||e;return E.$$p=null,f===e?c.$enum_for("reverse_each"):((a=(b=c.$reverse()).$each,a.$$p=f.$to_proc(),a).call(b),c)},N.$rindex=F=function(a){var b=this,c=F.$$p,d=c||e;if(F.$$p=null,null!=a){for(var g=b.length-1;g>=0;g--)if(b[g]["$=="](a))return g}else if(d!==e)for(var h,g=b.length-1;g>=0;g--){if((h=d(b[g]))===f)return f.$v;if(h!==!1&&h!==e)return g}else if(null==a)return b.$enum_for("rindex");return e},N.$rotate=function(a){var b=this;null==a&&(a=1),a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int");var c,d,e,f;return 1===b.length?b.slice():0===b.length?[]:(c=b.slice(),d=a%c.length,e=c.slice(d),f=c.slice(0,d),e.concat(f))},N["$rotate!"]=function(a){var b,c=this,d=e;return null==a&&(a=1),(b=c["$frozen?"]())===e||b.$$is_boolean&&1!=b||c.$raise(O.get("RuntimeError"),"can't modify frozen Array"),0===c.length||1===c.length?c:(a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int"),d=c.$rotate(a),c.$replace(d))},N.$sample=function(a){var b,c,d,f=this;return null==a&&(a=e),c=a["$!"](),(b=c!==!1&&c!==e?f["$empty?"]():c)===e||b.$$is_boolean&&1!=b?(b=(c=a!==!1&&a!==e)?f["$empty?"]():c)===e||b.$$is_boolean&&1!=b?a!==!1&&a!==e?(b=(c=j(1,a,!1)).$map,b.$$p=(d=function(){var a=d.$$s||this;return a["$[]"](a.$rand(a.$length()))},d.$$s=f,d),b).call(c):f["$[]"](f.$rand(f.$length())):[]:e},N.$select=G=function(){var b=this,c=G.$$p,d=c||e;if(G.$$p=null,d===e)return b.$enum_for("select");for(var g,h,i=[],j=0,k=b.length;k>j;j++){if(g=b[j],(h=a.yield1(d,g))===f)return f.$v;h!==!1&&h!==e&&i.push(g)}return i},N["$select!"]=H=function(){var a,b,c=this,d=H.$$p,f=d||e;if(H.$$p=null,f===e)return c.$enum_for("select!");var g=c.length;return(a=(b=c).$keep_if,a.$$p=f.$to_proc(),a).call(b),c.length===g?e:c},N.$shift=function(a){var b,c=this;return(b=void 0===a)===e||b.$$is_boolean&&1!=b?(a=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int"),(b=0>a)===e||b.$$is_boolean&&1!=b||c.$raise(O.get("ArgumentError"),"negative array size"),(b=0===c.length)===e||b.$$is_boolean&&1!=b?c.splice(0,a):[]):(b=0===c.length)===e||b.$$is_boolean&&1!=b?c.shift():e},a.defn(M,"$size",N.$length),N.$shuffle=function(){var a=this;return a.$clone()["$shuffle!"]()},N["$shuffle!"]=function(){for(var a=this,b=a.length-1;b>0;b--){var c=a[b],d=Math.floor(Math.random()*(b+1));a[b]=a[d],a[d]=c}return a},a.defn(M,"$slice",N["$[]"]),N["$slice!"]=function(a,b){var c=this;return 0>a&&(a+=c.length),null!=b?c.splice(a,b):0>a||a>=c.length?e:c.splice(a,1)[0]},N.$sort=I=function(){var a,d=this,g=I.$$p,h=g||e;if(I.$$p=null,(a=d.length>1)===e||a.$$is_boolean&&1!=a)return d;h===e&&(h=function(a,b){return a["$<=>"](b)});try{return d.slice().sort(function(a,g){var i=h(a,g);if(i===f)throw f;return i===e&&d.$raise(O.get("ArgumentError"),"comparison of "+a.$inspect()+" with "+g.$inspect()+" failed"),b(i,0)?1:c(i,0)?-1:0})}catch(i){if(i===f)return f.$v;throw i}},N["$sort!"]=J=function(){var a,b,c=this,d=J.$$p,f=d||e;J.$$p=null;var g;g=f!==e?(a=(b=c.slice()).$sort,a.$$p=f.$to_proc(),a).call(b):c.slice().$sort(),c.length=0;for(var h=0,i=g.length;i>h;h++)c.push(g[h]);return c},N.$take=function(a){var b=this;return 0>a&&b.$raise(O.get("ArgumentError")),b.slice(0,a)},N.$take_while=K=function(){var a=this,b=K.$$p,c=b||e;K.$$p=null;for(var d,g,h=[],i=0,j=a.length;j>i;i++){if(d=a[i],(g=c(d))===f)return f.$v;if(g===!1||g===e)return h;h.push(d)}return h},N.$to_a=function(){var a=this;return a},a.defn(M,"$to_ary",N.$to_a),N.$to_h=function(){var a,b,c,d,e=this,f=e.length,g=k([],{});for(a=0;f>a;a++)b=O.get("Opal")["$coerce_to?"](e[a],O.get("Array"),"to_ary"),b.$$is_array||e.$raise(O.get("TypeError"),"wrong element type "+b.$class()+" at "+a+" (expected array)"),2!==b.length&&e.$raise(O.get("ArgumentError"),"wrong array length at "+a+" (expected 2, was "+b.$length()+")"),c=b[0],d=b[1],g.$store(c,d);return g},a.defn(M,"$to_s",N.$inspect),N.$transpose=function(){var a,b,c,d=this,f=e,g=e;return(a=d["$empty?"]())===e||a.$$is_boolean&&1!=a?(f=[],g=e,(a=(b=d).$each,a.$$p=(c=function(a){var b,d,h,i=c.$$s||this;return null==a&&(a=e),a=(b=O.get("Array")["$==="](a))===e||b.$$is_boolean&&1!=b?O.get("Opal").$coerce_to(a,O.get("Array"),"to_ary").$to_a():a.$to_a(),
(b=g)!==!1&&b!==e?b:g=a.length,(b=a.length["$=="](g)["$!"]())===e||b.$$is_boolean&&1!=b||i.$raise(O.get("IndexError"),"element size differs ("+a.length+" should be "+g),(b=(d=a.length).$times,b.$$p=(h=function(b){var c,d,g,i=(h.$$s||this,e);return null==b&&(b=e),c=b,d=f,i=(g=d["$[]"](c))!==!1&&g!==e?g:d["$[]="](c,[]),i["$<<"](a.$at(b))},h.$$s=i,h),b).call(d)},c.$$s=d,c),a).call(b),f):[]},N.$uniq=function(){for(var a,b,c=this,d=[],e={},f=0,g=c.length;g>f;f++)a=c[f],b=a,e[b]||(e[b]=!0,d.push(a));return d},N["$uniq!"]=function(){for(var a,b,c=this,d=c.length,f={},g=0,h=d;h>g;g++)a=c[g],b=a,f[b]?(c.splice(g,1),h--,g--):f[b]=!0;return c.length===d?e:c},N.$unshift=function(a){var b=this;a=g.call(arguments,0);for(var c=a.length-1;c>=0;c--)b.unshift(a[c]);return b},N.$values_at=function(a){var b,c,d,f=this,h=e;return a=g.call(arguments,0),h=[],(b=(c=a).$each,b.$$p=(d=function(a){var b,c,f,g=d.$$s||this,i=e,j=e,k=e;return null==a&&(a=e),(b=a["$kind_of?"](O.get("Range")))===e||b.$$is_boolean&&1!=b?(k=O.get("Opal").$coerce_to(a,O.get("Integer"),"to_int"),h["$<<"](g.$at(k))):(i=O.get("Opal").$coerce_to(a.$last(),O.get("Integer"),"to_int"),j=O.get("Opal").$coerce_to(a.$first(),O.get("Integer"),"to_int"),0>j?(j+=g.length,e):(0>i&&(i+=g.length),a["$exclude_end?"]()&&i--,j>i?e:(b=(c=j).$upto,b.$$p=(f=function(a){var b=f.$$s||this;return null==a&&(a=e),h["$<<"](b.$at(a))},f.$$s=g,f),b).call(c,i)))},d.$$s=f,d),b).call(c),h},N.$zip=L=function(a){var b,c=this,d=L.$$p,f=d||e;a=g.call(arguments,0),L.$$p=null;var h,i,j,k,l,m=[],n=c.length;for(k=0,l=a.length;l>k;k++)i=a[k],i.$$is_array||(a[k]=((b=O.get("Opal")["$coerce_to?"](i,O.get("Array"),"to_ary"))!==!1&&b!==e?b:O.get("Opal")["$coerce_to!"](i,O.get("Enumerator"),"each")).$to_a());for(j=0;n>j;j++){for(h=[c[j]],k=0,l=a.length;l>k;k++)i=a[k][j],null==i&&(i=e),h[k+1]=i;m[j]=h}if(f!==e){for(j=0;n>j;j++)f(m[j]);return e}return m},e&&"zip"}(d,null)},Opal.modules["corelib/array/inheritance"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var e=a.top,f=a,g=a.nil,h=(a.breaker,a.slice),i=a.klass;return a.add_stubs(["$new","$allocate","$initialize","$to_proc","$__send__","$clone","$respond_to?","$==","$eql?","$inspect","$hash","$class","$slice","$uniq","$flatten"]),function(b,c){function d(){}var e=d=i(b,c,"Array",d),f=(e.$$proto,e.$$scope);return a.defs(e,"$inherited",function(a){var b=g;b=f.get("Class").$new(f.get("Array").$$scope.get("Wrapper")),a.$$proto=b.$$proto,a.$$proto.$$class=a,a.$$alloc=b.$$alloc,a.$$parent=f.get("Array").$$scope.get("Wrapper"),a.$allocate=b.$allocate,a.$new=b.$new,a["$[]"]=b["$[]"]}),g&&"inherited"}(e,null),function(e,f){function j(){}var k,l,m,n,o,p=j=i(e,f,"Wrapper",j),q=p.$$proto,r=p.$$scope;return q.literal=g,q.$$is_array=!0,a.defs(p,"$allocate",k=function(b){var c=this,d=(k.$$p,g);return null==b&&(b=[]),k.$$p=null,d=a.find_super_dispatcher(c,"allocate",k,null,j).apply(c,[]),d.literal=b,d}),a.defs(p,"$new",l=function(a){var b,c,d=this,e=l.$$p,f=e||g,i=g;return a=h.call(arguments,0),l.$$p=null,i=d.$allocate(),(b=(c=i).$initialize,b.$$p=f.$to_proc(),b).apply(c,[].concat(a)),i}),a.defs(p,"$[]",function(a){var b=this;return a=h.call(arguments,0),b.$allocate(a)}),q.$initialize=m=function(a){var b,c,d=this,e=m.$$p,f=e||g;return a=h.call(arguments,0),m.$$p=null,d.literal=(b=(c=r.get("Array")).$new,b.$$p=f.$to_proc(),b).apply(c,[].concat(a))},q.$method_missing=n=function(a){var b,c,d=this,e=n.$$p,f=e||g,i=g;return a=h.call(arguments,0),n.$$p=null,i=(b=(c=d.literal).$__send__,b.$$p=f.$to_proc(),b).apply(c,[].concat(a)),(b=i===d.literal)===g||b.$$is_boolean&&1!=b?i:d},q.$initialize_copy=function(a){var b=this;return b.literal=a.literal.$clone()},q["$respond_to?"]=o=function(b){var c,d=h.call(arguments,0),e=this,f=o.$$p;return o.$$p=null,(c=a.find_super_dispatcher(e,"respond_to?",o,f).apply(e,d))!==!1&&c!==g?c:e.literal["$respond_to?"](b)},q["$=="]=function(a){var b=this;return b.literal["$=="](a)},q["$eql?"]=function(a){var b=this;return b.literal["$eql?"](a)},q.$to_a=function(){var a=this;return a.literal},q.$to_ary=function(){var a=this;return a},q.$inspect=function(){var a=this;return a.literal.$inspect()},q.$hash=function(){var a=this;return a.literal.$hash()},q["$*"]=function(a){var c=this,d=b(c.literal,a);return d.$$is_array?c.$class().$allocate(d):d},q["$[]"]=function(a,b){var c=this,d=c.literal.$slice(a,b);return d.$$is_array&&(a.$$is_range||void 0!==b)?c.$class().$allocate(d):d},a.defn(p,"$slice",q["$[]"]),q.$uniq=function(){var a=this;return a.$class().$allocate(a.literal.$uniq())},q.$flatten=function(a){var b=this;return b.$class().$allocate(b.literal.$flatten(a))},q["$-"]=function(a){var b=this;return c(b.literal,a)},q["$+"]=function(a){var b=this;return d(b.literal,a)},g&&"+"}(f.get("Array"),null)},Opal.modules["corelib/hash"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass;return a.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$!","$==","$call","$coerce_to!","$lambda?","$abs","$arity","$enum_for","$inspect","$flatten","$eql?","$===","$clone","$to_proc","$alias_method"]),b.$require("corelib/enumerable"),function(b,g){function h(){}var i,j,k,l,m,n,o,p,q,r,s,t,u,v=h=f(b,g,"Hash",h),w=v.$$proto,x=v.$$scope;w.proc=w.none=c,v.$include(x.get("Enumerable")),w.$$is_hash=!0,a.defs(v,"$[]",function(a){var b=this;a=e.call(arguments,0);var d,f,g=a.length;if(1===g){if(d=x.get("Opal")["$coerce_to?"](a["$[]"](0),x.get("Hash"),"to_hash"),d!==c)return b.$allocate()["$merge!"](d);for(a=x.get("Opal")["$coerce_to?"](a["$[]"](0),x.get("Array"),"to_ary"),a===c&&b.$raise(x.get("ArgumentError"),"odd number of arguments for Hash"),g=a.length,d=b.$allocate(),f=0;g>f;f++)if(a[f].$$is_array)switch(a[f].length){case 1:d.$store(a[f][0],c);break;case 2:d.$store(a[f][0],a[f][1]);break;default:b.$raise(x.get("ArgumentError"),"invalid number of elements ("+a[f].length+" for 1..2)")}return d}for(g%2!==0&&b.$raise(x.get("ArgumentError"),"odd number of arguments for Hash"),d=b.$allocate(),f=0;g>f;f+=2)d.$store(a[f],a[f+1]);return d}),a.defs(v,"$allocate",function(){var a=this,b=new a.$$alloc;return b.map={},b.smap={},b.keys=[],b.none=c,b.proc=c,b}),w.$initialize=i=function(a){var b=this,d=i.$$p,e=d||c;return i.$$p=null,b.none=void 0===a?c:a,b.proc=e,b},w["$=="]=function(a){var b=this;if(b===a)return!0;if(!a.keys||!a.smap||!a.map)return!1;if(b.keys.length!==a.keys.length)return!1;for(var c,d,e,f,g,h,i=b.map,j=b.smap,k=a.map,l=a.smap,m=0,n=b.keys.length;n>m;m++)if(e=b.keys[m],e.$$is_string?(f=e,c=j,d=l):(f=e.$hash(),c=i,d=k),g=c[f],void 0===g&&console.log("==",e,b),h=d[f],void 0===h||g["$=="](h)["$!"]())return!1;return!0},w["$[]"]=function(b){var d,e,f=this;if(b.$$is_string?(d=f.smap,e=b):(d=f.map,e=b.$hash()),void 0===d&&console.log(f,"[] --> key:",b,e,d),a.hasOwnProperty.call(d,e))return d[e];var g=f.proc;return g!==c?g.$call(f,b):f.none},w["$[]="]=function(b,c){var d,e,c,f=this;return b.$$is_string?(d=f.smap,e=b):(d=f.map,e=b.$hash()),a.hasOwnProperty.call(d,e)||f.keys.push(b),d[e]=c,c},w.$assoc=function(a){for(var b,d,e,f=this,g=f.keys,h=0,i=g.length;i>h;h++)if(d=g[h],d["$=="](a))return d.$$is_string?(b=f.smap,e=d):(b=f.map,e=d.$hash()),[d,b[e]];return c},w.$clear=function(){var a=this;return a.map={},a.smap={},a.keys=[],a},w.$clone=function(){for(var a,b,c,d,e,f=this,g={},h={},i=f.map,j=f.smap,k=[],l=0,m=f.keys.length;m>l;l++)c=f.keys[l],c.$$is_string?(d=c,a=h,b=j):(d=c.$hash(),a=g,b=i),e=b[d],k.push(c),a[d]=e;var n=new f.$$class.$$alloc;return n.map=g,n.smap=h,n.keys=k,n.none=f.none,n.proc=f.proc,n},w.$default=function(a){var b=this;return void 0!==a&&b.proc!==c?b.proc.$call(b,a):b.none},w["$default="]=function(a){var b=this;return b.proc=c,b.none=a},w.$default_proc=function(){var a=this;return a.proc},w["$default_proc="]=function(a){var b=this;return a!==c&&(a=x.get("Opal")["$coerce_to!"](a,x.get("Proc"),"to_proc"),a["$lambda?"]()&&2!=a.$arity().$abs()&&b.$raise(x.get("TypeError"),"default_proc takes two arguments")),b.none=c,b.proc=a},w.$delete=j=function(a){var b=this,d=j.$$p,e=d||c;j.$$p=null;var f,g,h;return a.$$is_string?(g=b.smap,h=a):(g=b.map,h=a.$hash()),f=g[h],null!=f?(delete g[h],b.keys.$delete(a),f):e!==c?e.$call(a):c},w.$delete_if=k=function(){var a=this,b=k.$$p,e=b||c;if(k.$$p=null,e===!1||e===c)return a.$enum_for("delete_if");for(var f,g,h,i,j,l=a.map,m=a.smap,n=a.keys,o=0,p=n.length;p>o;o++){if(g=n[o],g.$$is_string?(f=m,j=g):(f=l,j=g.$hash()),i=f[j],h=e(g,i),h===d)return d.$v;h!==!1&&h!==c&&(n.splice(o,1),delete f[j],p--,o--)}return a},a.defn(v,"$dup",w.$clone),w.$each=l=function(){var b=this,e=l.$$p,f=e||c;if(l.$$p=null,f===!1||f===c)return b.$enum_for("each");for(var g,h,i,j,k=b.map,m=b.smap,n=b.keys,o=0,p=n.length;p>o;o++)if(h=n[o],h.$$is_string?(g=m,i=h):(g=k,i=h.$hash()),j=a.yield1(f,[h,g[i]]),j===d)return d.$v;return b},w.$each_key=m=function(){var a=this,b=m.$$p,e=b||c;if(m.$$p=null,e===!1||e===c)return a.$enum_for("each_key");for(var f,g=a.keys,h=0,i=g.length;i>h;h++)if(f=g[h],e(f)===d)return d.$v;return a},a.defn(v,"$each_pair",w.$each),w.$each_value=n=function(){var a=this,b=n.$$p,e=b||c;if(n.$$p=null,e===!1||e===c)return a.$enum_for("each_value");for(var f,g,h,i=a.map,j=a.smap,k=a.keys,l=0,m=k.length;m>l;l++)if(f=k[l],f.$$is_string?(g=j,h=f):(g=i,h=f.$hash()),e(g[h])===d)return d.$v;return a},w["$empty?"]=function(){var a=this;return 0===a.keys.length},a.defn(v,"$eql?",w["$=="]),w.$fetch=o=function(a,b){var e=this,f=o.$$p,g=f||c;o.$$p=null;var h,i,j;if(a.$$is_string?(i=a,h=e.smap):(i=a.$hash(),h=e.map),j=h[i],null!=j)return j;if(g!==c){var j;return(j=g(a))===d?d.$v:j}return null!=b?b:void e.$raise(x.get("KeyError"),"key not found: "+a.$inspect())},w.$flatten=function(a){for(var b,c,d,e,f=this,g=f.map,h=f.smap,i=f.keys,j=[],k=0,l=i.length;l>k;k++)c=i[k],c.$$is_string?(d=c,b=h):(d=c.$hash(),b=g),e=b[d],j.push(c),e.$$is_array?null==a||1===a?j.push(e):j=j.concat(e.$flatten(a-1)):j.push(e);return j},w["$has_key?"]=function(b){var c,d,e=this,f=e.keys;if(b.$$is_string?(d=b,c=e.smap):(d=b.$hash(),c=e.map),a.hasOwnProperty.call(c,d))for(var g=0,h=f.length;h>g;g++)if(!b["$eql?"](f[g])["$!"]())return!0;return!1},w["$has_value?"]=function(a){for(var b,c,d,e=this,f=e.map,g=e.smap,h=e.keys,i=0,j=h.length;j>i;i++)if(b=h[i],b.$$is_string?(c=g,d=b):(c=f,d=b.$hash()),c[d]["$=="](a))return!0;return!1};var y=null;w.$hash=function(){var a=this,b=null===y;try{var c,d,e=["Hash"],f=a.keys,g=a.$object_id();if(b&&(y={}),y.hasOwnProperty(g))return"self";y[g]=!0;for(var h=0,i=f.length;i>h;h++)c=f[h],d=c.$$is_string?a.smap[c]:a.map[c.$hash()],c=c.$hash(),d="undefined"==typeof d?"":d.$hash(),e.push([c,d]);return e.sort().join()}finally{b&&(y=null)}},a.defn(v,"$include?",w["$has_key?"]),w.$index=function(a){for(var b,d,e,f=this,g=f.map,h=f.smap,i=f.keys,j=0,k=i.length;k>j;j++)if(e=i[j],e.$$is_string?(b=h,d=e):(b=g,d=e.$hash()),b[d]["$=="](a))return e;return c},w.$indexes=function(a){var b=this;a=e.call(arguments,0);for(var c,d,f,g,h=[],i=b.map,j=b.smap,k=0,l=a.length;l>k;k++)d=a[k],d.$$is_string?(f=d,c=j):(f=d.$hash(),c=i),g=c[f],null!=g?h.push(g):h.push(b.none);return h},a.defn(v,"$indices",w.$indexes);var z=null;return w.$inspect=function(){var a=this,b=null===z;try{var c,d,e=[],f=a.keys,g=a.$object_id();if(b&&(z={}),z.hasOwnProperty(g))return"{...}";z[g]=!0;for(var h=0,i=f.length;i>h;h++)c=f[h],d=c.$$is_string?a.smap[c]:a.map[c.$hash()],c=c.$inspect(),d=d.$inspect(),e.push(c+"=>"+d);return"{"+e.join(", ")+"}"}finally{b&&(z=null)}},w.$invert=function(){for(var b,c,d,e,f,g=this,h=a.hash(),i=g.keys,j=g.map,k=g.smap,l=h.keys,m=h.map,n=h.smap,o=0,p=i.length;p>o;o++)d=i[o],d.$$is_string?(b=k,e=d):(b=j,e=d.$hash()),f=b[e],l.push(f),f.$$is_string?(c=n,e=f):(c=m,e=f.$hash()),c[e]=d;return h},w.$keep_if=p=function(){var a=this,b=p.$$p,e=b||c;if(p.$$p=null,e===!1||e===c)return a.$enum_for("keep_if");for(var f,g,h,i,j,k=a.map,l=a.smap,m=a.keys,n=0,o=m.length;o>n;n++){if(g=m[n],g.$$is_string?(h=g,f=l):(h=g.$hash(),f=k),i=f[h],j=e(g,i),j===d)return d.$v;(j===!1||j===c)&&(m.splice(n,1),delete f[h],o--,n--)}return a},a.defn(v,"$key",w.$index),a.defn(v,"$key?",w["$has_key?"]),w.$keys=function(){var a=this;return a.keys.slice(0)},w.$length=function(){var a=this;return a.keys.length},a.defn(v,"$member?",w["$has_key?"]),w.$merge=q=function(a){var b,d,e=this,f=q.$$p,g=f||c,h=c;return q.$$p=null,((b=x.get("Hash")["$==="](a))===c||b.$$is_boolean&&1!=b)&&(a=x.get("Opal")["$coerce_to!"](a,x.get("Hash"),"to_hash")),h=e.$clone(),(b=(d=h)["$merge!"],b.$$p=g.$to_proc(),b).call(d,a),h},w["$merge!"]=r=function(a){var b=this,d=r.$$p,e=d||c;r.$$p=null,x.get("Hash")["$==="](a)||(a=x.get("Opal")["$coerce_to!"](a,x.get("Hash"),"to_hash"));var f,g,h,i,j,k,l=b.keys,m=b.map,n=b.smap,o=a.keys,p=a.map,q=a.smap;if(e===c)for(var s=0,t=o.length;t>s;s++)h=o[s],h.$$is_string?(i=h,f=n,g=q):(i=h.$hash(),f=m,g=p),null==f[i]&&l.push(h),f[i]=g[i];else for(var s=0,t=o.length;t>s;s++)h=o[s],h.$$is_string?(i=h,f=n,g=q):(i=h.$hash(),f=m,g=p),j=f[i],k=g[i],null==j?(l.push(h),f[i]=k):f[i]=e(h,j,k);return b},w.$rassoc=function(a){for(var b,d,e,f,g=this,h=g.keys,i=g.map,j=g.smap,k=0,l=h.length;l>k;k++)if(b=h[k],b.$$is_string?(d=b,f=j):(d=b.$hash(),f=i),e=f[d],e["$=="](a))return[b,e];return c},w.$reject=s=function(){var b=this,e=s.$$p,f=e||c;if(s.$$p=null,f===!1||f===c)return b.$enum_for("reject");for(var g,h,i,j,k,l,m=b.keys,n=b.map,o=b.smap,p=a.hash(),q=p.map,r=p.smap,t=p.keys,u=0,v=m.length;v>u;u++){if(i=m[u],i.$$is_string?(j=i,g=o,h=r):(j=i.$hash(),g=n,h=q),k=g[j],(l=f(i,k))===d)return d.$v;(l===!1||l===c)&&(t.push(i),h[j]=k)}return p},w.$replace=function(a){for(var b,c,d,e,f=this,g=f.keys=[],h=f.map={},i=f.smap={},j=a.map,k=a.smap,l=0,m=a.keys.length;m>l;l++)b=a.keys[l],b.$$is_string?(c=b,d=i,e=k):(c=b.$hash(),d=h,e=j),g.push(b),d[c]=e[c];return f},w.$select=t=function(){var b=this,e=t.$$p,f=e||c;if(t.$$p=null,f===!1||f===c)return b.$enum_for("select");for(var g,h,i,j,k,l,m=b.keys,n=b.map,o=b.smap,p=a.hash(),q=p.map,r=p.smap,s=p.keys,u=0,v=m.length;v>u;u++){if(i=m[u],i.$$is_string?(j=i,g=o,h=r):(j=i.$hash(),g=n,h=q),k=g[j],l=f(i,k),l===d)return d.$v;l!==!1&&l!==c&&(s.push(i),h[j]=k)}return p},w["$select!"]=u=function(){var a=this,b=u.$$p,e=b||c;if(u.$$p=null,e===!1||e===c)return a.$enum_for("select!");for(var f,g,h,i,j,k=a.map,l=a.smap,m=a.keys,n=c,o=0,p=m.length;p>o;o++){if(f=m[o],f.$$is_string?(g=f,j=l):(g=f.$hash(),j=k),h=j[g],i=e(f,h),i===d)return d.$v;(i===!1||i===c)&&(m.splice(o,1),delete j[g],p--,o--,n=a)}return n},w.$shift=function(){var a,b,d,e,f=this,g=f.keys,h=f.map,i=f.smap;return g.length?(b=g[0],b.$$is_string?(d=b,a=i):(d=b.$hash(),a=h),e=a[d],delete a[d],g.splice(0,1),[b,e]):c},a.defn(v,"$size",w.$length),v.$alias_method("store","[]="),w.$to_a=function(){for(var a,b,c,d=this,e=d.keys,f=d.map,g=d.smap,h=[],i=0,j=e.length;j>i;i++)b=e[i],b.$$is_string?(c=b,a=g):(c=b.$hash(),a=f),h.push([b,a[c]]);return h},w.$to_h=function(){var b=this;if(b.$$class===a.Hash)return b;var c=new a.Hash.$$alloc,d=b.$clone();return c.map=d.map,c.smap=d.smap,c.keys=d.keys,c.none=d.none,c.proc=d.proc,c},w.$to_hash=function(){var a=this;return a},a.defn(v,"$to_s",w.$inspect),a.defn(v,"$update",w["$merge!"]),a.defn(v,"$value?",w["$has_value?"]),a.defn(v,"$values_at",w.$indexes),w.$values=function(){for(var a,b,c,d=this,e=d.map,f=d.smap,g=d.keys,h=[],i=0,j=g.length;j>i;i++)c=g[i],c.$$is_string?(b=c,a=f):(b=c.$hash(),a=e),h.push(a[b]);return h},c&&"values"}(b,null)},Opal.modules["corelib/string"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var d=a.top,e=a,f=a.nil,g=a.breaker,h=a.slice,i=a.klass,j=a.gvars;return a.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$empty?","$ljust","$ceil","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$initialize_clone","$initialize_dup","$enum_for","$chomp","$[]","$to_i","$class","$each_line","$match","$captures","$proc","$shift","$__send__","$succ","$escape"]),d.$require("corelib/comparable"),function(d,e){function k(){}function l(a){function b(a){var b,c,d,e,f,g,h="",i=a.length;for(b=0;i>b;b++)if(c=a.charAt(b),"-"===c&&b>0&&i-1>b&&!d){for(e=a.charCodeAt(b-1),f=a.charCodeAt(b+1),e>f&&v.$raise(x.get("ArgumentError"),'invalid range "'+e+"-"+f+'" in string transliteration'),g=e+1;f+1>g;g++)h+=String.fromCharCode(g);d=!0,b++}else d="\\"===c,h+=c;return h}function c(a,b){if(0===a.length)return b;var c,d,e="",f=a.length;for(c=0;f>c;c++)d=a.charAt(c),-1!==b.indexOf(d)&&(e+=d);return e}var d,e,f,g,h,i,j="",k="";for(d=0,e=a.length;e>d;d++)f=x.get("Opal").$coerce_to(a[d],x.get("String"),"to_str"),g="^"===f.charAt(0)&&f.length>1,f=b(g?f.slice(1):f),g?k=c(k,f):j=c(j,f);if(j.length>0&&k.length>0){for(i="",d=0,e=j.length;e>d;d++)h=j.charAt(d),-1===k.indexOf(h)&&(i+=h);j=i,k=""}return j.length>0?"["+x.get("Regexp").$escape(j)+"]":k.length>0?"[^"+x.get("Regexp").$escape(k)+"]":null}var m,n,o,p,q,r,s,t,u,v=k=i(d,e,"String",k),w=v.$$proto,x=v.$$scope;w.length=f,v.$include(x.get("Comparable")),w.$$is_string=!0,w.$__id__=function(){var a=this;return a.toString()},a.defn(v,"$object_id",w.$__id__),a.defs(v,"$try_convert",function(a){return x.get("Opal")["$coerce_to?"](a,x.get("String"),"to_str")}),a.defs(v,"$new",function(a){return null==a&&(a=""),a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),new String(a)}),w.$initialize=function(a){var b=this;return void 0===a?b:b.$raise(x.get("NotImplementedError"),"Mutable strings are not supported in Opal.")},w["$%"]=function(a){var b,c=this;return(b=x.get("Array")["$==="](a))===f||b.$$is_boolean&&1!=b?c.$format(c,a):(b=c).$format.apply(b,[c].concat(a))},w["$*"]=function(a){var b=this;if(a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),0>a&&b.$raise(x.get("ArgumentError"),"negative argument"),0===a)return"";var c="",d=b.toString();for(d.length*a>=1<<28&&b.$raise(x.get("RangeError"),"multiply count must not overflow maximum string size");1===(1&a)&&(c+=d),a>>>=1,0!==a;)d+=d;return c},w["$+"]=function(a){var b=this;return a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),b+a.$to_s()},w["$<=>"]=function(a){var b,c=this;if((b=a["$respond_to?"]("to_str"))===f||b.$$is_boolean&&1!=b){var d=a["$<=>"](c);return d===f?f:d>0?-1:0>d?1:0}return a=a.$to_str().$to_s(),c>a?1:a>c?-1:0},w["$<<"]=function(a){var b=this;return b.$raise(x.get("NotImplementedError"),"#<< not supported. Mutable String methods are not supported in Opal.")},w["$=="]=function(a){var b=this;return a.$$is_string?b.toString()===a.toString():x.get("Opal")["$respond_to?"](a,"to_str")?a["$=="](b):!1},a.defn(v,"$eql?",w["$=="]),a.defn(v,"$===",w["$=="]),w["$=~"]=function(a){var b=this;return a.$$is_string&&b.$raise(x.get("TypeError"),"type mismatch: String given"),a["$=~"](b)},w["$[]"]=function(a,b){var c=this,d=c.length;if(a.$$is_range){var e=a.exclude,b=x.get("Opal").$coerce_to(a.end,x.get("Integer"),"to_int"),a=x.get("Opal").$coerce_to(a.begin,x.get("Integer"),"to_int");return Math.abs(a)>d?f:(0>a&&(a+=d),0>b&&(b+=d),e||(b+=1),b-=a,0>b&&(b=0),c.substr(a,b))}if(a.$$is_string)return null!=b&&c.$raise(x.get("TypeError")),-1!==c.indexOf(a)?a:f;if(a.$$is_regexp){var g=c.match(a);return null===g?(j["~"]=f,f):(j["~"]=x.get("MatchData").$new(a,g),null==b?g[0]:(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b&&-b<g.length?g[b+=g.length]:b>=0&&b<g.length?g[b]:f))}return a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),0>a&&(a+=d),null==b?a>=d||0>a?f:c.substr(a,1):(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b?f:a>d||0>a?f:c.substr(a,b))},w.$capitalize=function(){var a=this;return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()},a.defn(v,"$capitalize!",w["$<<"]),w.$casecmp=function(a){var b=this;a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s();var c=/^[\x00-\x7F]*$/;return c.test(b)&&c.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase()),b["$<=>"](a)},w.$center=function(a,d){var e,g=this;if(null==d&&(d=" "),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),d=x.get("Opal").$coerce_to(d,x.get("String"),"to_str").$to_s(),(e=d["$empty?"]())===f||e.$$is_boolean&&1!=e||g.$raise(x.get("ArgumentError"),"zero width padding"),(e=a<=g.length)!==f&&(!e.$$is_boolean||1==e))return g;var h=g.$ljust(b(c(a,g.length),2).$ceil(),d),i=g.$rjust(b(c(a,g.length),2).$floor(),d);return i+h.slice(g.length)},w.$chars=m=function(){var a,b,c=this,d=m.$$p,e=d||f;return m.$$p=null,e===!1||e===f?c.$each_char().$to_a():(a=(b=c).$each_char,a.$$p=e.$to_proc(),a).call(b)},w.$chomp=function(a){var b,c=this;if(null==j["/"]&&(j["/"]=f),null==a&&(a=j["/"]),(b=a===f||0===c.length)!==f&&(!b.$$is_boolean||1==b))return c;if(a=x.get("Opal")["$coerce_to!"](a,x.get("String"),"to_str").$to_s(),"\n"===a)return c.replace(/\r?\n?$/,"");if(""===a)return c.replace(/(\r?\n)+$/,"");if(c.length>a.length){var d=c.substr(c.length-a.length,a.length);if(d===a)return c.substr(0,c.length-a.length)}return c},a.defn(v,"$chomp!",w["$<<"]),w.$chop=function(){var a=this,b=a.length;return 1>=b?"":"\n"===a.charAt(b-1)&&"\r"===a.charAt(b-2)?a.substr(0,b-2):a.substr(0,b-1)},a.defn(v,"$chop!",w["$<<"]),w.$chr=function(){var a=this;return a.charAt(0)},w.$clone=function(){var a=this,b=f;return b=a.slice(),b.$initialize_clone(a),b},w.$dup=function(){var a=this,b=f;return b=a.slice(),b.$initialize_dup(a),b},w.$count=function(a){var b=this;a=h.call(arguments,0),0===a.length&&b.$raise(x.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var c=l(a);return null===c?0:b.length-b.replace(new RegExp(c,"g"),"").length},w.$delete=function(a){var b=this;a=h.call(arguments,0),0===a.length&&b.$raise(x.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var c=l(a);return null===c?b:b.replace(new RegExp(c,"g"),"")},a.defn(v,"$dup",w.$clone),w.$downcase=function(){var a=this;return a.toLowerCase()},a.defn(v,"$downcase!",w["$<<"]),w.$each_char=n=function(){var b,c=this,d=n.$$p,e=d||f;if(n.$$p=null,e===f)return c.$enum_for("each_char");for(var h=0,i=c.length;i>h;h++)(b=a.yield1(e,c.charAt(h)))===g?g.$v:b;return c},w.$each_line=o=function(b){var c,d=this,e=o.$$p,h=e||f;if(null==j["/"]&&(j["/"]=f),null==b&&(b=j["/"]),o.$$p=null,h===f)return d.$enum_for("each_line",b);if(b===f)return(c=a.yield1(h,d))===g?g.$v:c,d;if(b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str"),0===b.length){for(var i=d.split(/(\n{2,})/),k=0,l=i.length;l>k;k+=2)(i[k]||i[k+1])&&((c=a.yield1(h,(i[k]||"")+(i[k+1]||"")))===g?g.$v:c);return d}for(var m=d.$chomp(b),n=d.length!=m.length,p=m.split(b),k=0,q=p.length;q>k;k++)q-1>k||n?(c=a.yield1(h,p[k]+b))===g?g.$v:c:(c=a.yield1(h,p[k]))===g?g.$v:c;return d},w["$empty?"]=function(){var a=this;return 0===a.length},w["$end_with?"]=function(a){var b=this;a=h.call(arguments,0);for(var c=0,d=a.length;d>c;c++){var e=x.get("Opal").$coerce_to(a[c],x.get("String"),"to_str").$to_s();if(b.length>=e.length&&b.substr(b.length-e.length,e.length)==e)return!0}return!1},a.defn(v,"$eql?",w["$=="]),a.defn(v,"$equal?",w["$==="]),w.$gsub=p=function(a,b){var c=this,d=p.$$p,e=d||f;p.$$p=null;var g,h,i="",k=f,l=0;for(a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(g=a.exec(c),null===g){j["~"]=f,i+=c.slice(l);break}k=x.get("MatchData").$new(a,g),void 0===b?(e===f&&c.$raise(x.get("ArgumentError"),"wrong number of arguments (1 for 2)"),h=e(g[0])):b.$$is_hash?h=b["$[]"](g[0]).$to_s():(b.$$is_string||(b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str")),h=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,d){if(b.length%2===0)return a;switch(d){case"+":for(var e=g.length-1;e>0;e--)if(void 0!==g[e])return b.slice(1)+g[e];return"";case"&":return b.slice(1)+g[0];case"`":return b.slice(1)+c.slice(0,g.index);case"'":return b.slice(1)+c.slice(g.index+g[0].length);default:return b.slice(1)+(g[d]||"")}}).replace(/\\\\/g,"\\")),a.lastIndex===g.index?(i+=h+c.slice(l,g.index+1),a.lastIndex+=1):i+=c.slice(l,g.index)+h,l=a.lastIndex}return j["~"]=k,i},a.defn(v,"$gsub!",w["$<<"]),w.$hash=function(){var a=this;return a.toString()},w.$hex=function(){var a=this;return a.$to_i(16)},w["$include?"]=function(a){var b,c=this;return a.$$is_string?-1!==c.indexOf(a):(((b=a["$respond_to?"]("to_str"))===f||b.$$is_boolean&&1!=b)&&c.$raise(x.get("TypeError"),"no implicit conversion of "+a.$class()+" into String"),-1!==c.indexOf(a.$to_str()))},w.$index=function(a,b){var c,d,e,g=this;if(void 0===b)b=0;else if(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b&&(b+=g.length,0>b))return f;if(a.$$is_regexp)for(e=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){if(d=e.exec(g),null===d){j["~"]=f,c=-1;break}if(d.index>=b){j["~"]=x.get("MatchData").$new(e,d),c=d.index;break}e.lastIndex=d.index+1}else a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),c=0===a.length&&b>g.length?-1:g.indexOf(a,b);return-1===c?f:c},w.$inspect=function(){var a=this,b=/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"":"\\a","":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","":"\\v",'"':'\\"',"\\":"\\\\"},d=a.replace(b,function(a){return c[a]||"\\u"+("0000"+a.charCodeAt(0).toString(16).toUpperCase()).slice(-4)});return'"'+d.replace(/\#[\$\@\{]/g,"\\$&")+'"'},w.$intern=function(){var a=this;return a},w.$lines=q=function(a){var b,c,d=this,e=q.$$p,g=e||f,h=f;return null==j["/"]&&(j["/"]=f),null==a&&(a=j["/"]),q.$$p=null,h=(b=(c=d).$each_line,b.$$p=g.$to_proc(),b).call(c,a),g!==!1&&g!==f?d:h.$to_a()},w.$length=function(){var a=this;return a.length},w.$ljust=function(a,b){var c,d=this;if(null==b&&(b=" "),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),(c=b["$empty?"]())===f||c.$$is_boolean&&1!=c||d.$raise(x.get("ArgumentError"),"zero width padding"),(c=a<=d.length)!==f&&(!c.$$is_boolean||1==c))return d;var e=-1,g="";for(a-=d.length;++e<a;)g+=b;return d+g.slice(0,a)},w.$lstrip=function(){var a=this;return a.replace(/^\s*/,"")},a.defn(v,"$lstrip!",w["$<<"]),w.$match=r=function(a,b){var c,d,e=this,g=r.$$p,h=g||f;return r.$$p=null,(c=(d=x.get("String")["$==="](a))!==!1&&d!==f?d:a["$respond_to?"]("to_str"))===f||c.$$is_boolean&&1!=c||(a=x.get("Regexp").$new(a.$to_str())),((c=x.get("Regexp")["$==="](a))===f||c.$$is_boolean&&1!=c)&&e.$raise(x.get("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)"),(c=(d=a).$match,c.$$p=h.$to_proc(),c).call(d,e,b)},w.$next=function(){var a=this,b=a.length;if(0===b)return"";for(var c,d=a,e=a.search(/[a-zA-Z0-9]/),f=!1;b--;){if(c=a.charCodeAt(b),c>=48&&57>=c||c>=65&&90>=c||c>=97&&122>=c)switch(c){case 57:f=!0,c=48;break;case 90:f=!0,c=65;break;case 122:f=!0,c=97;break;default:f=!1,c+=1}else-1===e?255===c?(f=!0,c=0):(f=!1,c+=1):f=!0;if(d=d.slice(0,b)+String.fromCharCode(c)+d.slice(b+1),f&&(0===b||b===e)){switch(c){case 65:break;case 97:break;default:c+=1}d=0===b?String.fromCharCode(c)+d:d.slice(0,b)+String.fromCharCode(c)+d.slice(b),f=!1}if(!f)break}return d},a.defn(v,"$next!",w["$<<"]),w.$oct=function(){var a,b=this,c=b,d=8;return/^\s*_/.test(c)?0:(c=c.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,b,c,e){switch(e.charAt(0)){case"+":case"-":return a;case"0":if("x"===e.charAt(1)&&"0x"===c)return a}switch(c){case"0b":d=2;break;case"0":case"0o":d=8;break;case"0d":d=10;break;case"0x":d=16}return b+e}),a=parseInt(c.replace(/_(?!_)/g,""),d),isNaN(a)?0:a)},w.$ord=function(){var a=this;return a.charCodeAt(0)},w.$partition=function(a){var b,c,d=this;return a.$$is_regexp?(c=a.exec(d),null===c?b=-1:(x.get("MatchData").$new(a,c),a=c[0],b=c.index)):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),b=d.indexOf(a)),-1===b?[d,"",""]:[d.slice(0,b),d.slice(b,b+a.length),d.slice(b+a.length)]},w.$reverse=function(){var a=this;return a.split("").reverse().join("")},a.defn(v,"$reverse!",w["$<<"]),w.$rindex=function(a,b){var c,d,e,g,h=this;if(void 0===b)b=h.length;else if(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b&&(b+=h.length,0>b))return f;if(a.$$is_regexp){for(d=null,e=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){if(g=e.exec(h),null===g||g.index>b)break;d=g,e.lastIndex=d.index+1}null===d?(j["~"]=f,c=-1):(x.get("MatchData").$new(e,d),c=d.index)}else a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),c=h.lastIndexOf(a,b);return-1===c?f:c},w.$rjust=function(a,b){var c,d=this;if(null==b&&(b=" "),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),(c=b["$empty?"]())===f||c.$$is_boolean&&1!=c||d.$raise(x.get("ArgumentError"),"zero width padding"),(c=a<=d.length)!==f&&(!c.$$is_boolean||1==c))return d;var e=Math.floor(a-d.length),g=Math.floor(e/b.length),h=Array(g+1).join(b),i=e-h.length;return h+b.slice(0,i)+d},w.$rpartition=function(a){var b,c,d,e,f=this;if(a.$$is_regexp){for(c=null,d=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){if(e=d.exec(f),null===e)break;c=e,d.lastIndex=c.index+1}null===c?b=-1:(x.get("MatchData").$new(d,c),a=c[0],b=c.index)}else a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),b=f.lastIndexOf(a);return-1===b?["","",f]:[f.slice(0,b),f.slice(b,b+a.length),f.slice(b+a.length)]},w.$rstrip=function(){var a=this;return a.replace(/[\s\u0000]*$/,"")},w.$scan=s=function(a){var b=this,c=s.$$p,d=c||f;s.$$p=null;var e,g=[],h=f;for(a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(e=a.exec(b));)h=x.get("MatchData").$new(a,e),d===f?1==e.length?g.push(e[0]):g.push(h.$captures()):1==e.length?d(e[0]):d.call(b,h.$captures()),a.lastIndex===e.index&&(a.lastIndex+=1);return j["~"]=h,d!==f?b:g},a.defn(v,"$size",w.$length),a.defn(v,"$slice",w["$[]"]),a.defn(v,"$slice!",w["$<<"]),w.$split=function(a,b){var c,d=this;if(null==j[";"]&&(j[";"]=f),0===d.length)return[];if(void 0===b)b=0;else if(b=x.get("Opal")["$coerce_to!"](b,x.get("Integer"),"to_int"),1===b)return[d];(void 0===a||a===f)&&(a=(c=j[";"])!==!1&&c!==f?c:" ");var e,g,h=[],i=d.toString(),k=0;if(a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s()," "===a?(a=/\s+/gm,i=i.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),h=i.split(a),1===h.length&&h[0]===i)return h;for(;-1!==(g=h.indexOf(void 0));)h.splice(g,1);if(0===b){for(;""===h[h.length-1];)h.length-=1;return h}if(e=a.exec(i),0>b){if(null!==e&&""===e[0]&&-1===a.source.indexOf("(?="))for(g=0;g<e.length;g++)h.push("");return h}if(null!==e&&""===e[0])return h.splice(b-1,h.length-1,h.slice(b-1).join("")),h;for(g=0;null!==e&&(g++,k=a.lastIndex,g+1!==b);)e=a.exec(i);return h.splice(b-1,h.length-1,i.slice(k)),h},w.$squeeze=function(a){var b=this;if(a=h.call(arguments,0),0===a.length)return b.replace(/(.)\1+/g,"$1");var c=l(a);return null===c?b:b.replace(new RegExp("("+c+")\\1+","g"),"$1")},a.defn(v,"$squeeze!",w["$<<"]),w["$start_with?"]=function(a){var b=this;a=h.call(arguments,0);for(var c=0,d=a.length;d>c;c++){var e=x.get("Opal").$coerce_to(a[c],x.get("String"),"to_str").$to_s();if(0===b.indexOf(e))return!0}return!1},w.$strip=function(){var a=this;return a.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},a.defn(v,"$strip!",w["$<<"]),w.$sub=t=function(a,b){var c=this,d=t.$$p,e=d||f;t.$$p=null,a.$$is_regexp||(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var g=a.exec(c);return null===g?(j["~"]=f,c.toString()):(x.get("MatchData").$new(a,g),void 0===b?(e===f&&c.$raise(x.get("ArgumentError"),"wrong number of arguments (1 for 2)"),
c.slice(0,g.index)+e(g[0])+c.slice(g.index+g[0].length)):b.$$is_hash?c.slice(0,g.index)+b["$[]"](g[0]).$to_s()+c.slice(g.index+g[0].length):(b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str"),b=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,d){if(b.length%2===0)return a;switch(d){case"+":for(var e=g.length-1;e>0;e--)if(void 0!==g[e])return b.slice(1)+g[e];return"";case"&":return b.slice(1)+g[0];case"`":return b.slice(1)+c.slice(0,g.index);case"'":return b.slice(1)+c.slice(g.index+g[0].length);default:return b.slice(1)+(g[d]||"")}}).replace(/\\\\/g,"\\"),c.slice(0,g.index)+b+c.slice(g.index+g[0].length)))},a.defn(v,"$sub!",w["$<<"]),a.defn(v,"$succ",w.$next),a.defn(v,"$succ!",w["$<<"]),w.$sum=function(a){var b=this;null==a&&(a=16),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int");for(var c=0,d=b.length,e=0;d>e;e++)c+=b.charCodeAt(e);return 0>=a?c:c&Math.pow(2,a)-1},w.$swapcase=function(){var a=this,b=a.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return a.constructor===String?b:a.$class().$new(b)},a.defn(v,"$swapcase!",w["$<<"]),w.$to_f=function(){var a=this;if("_"===a.charAt(0))return 0;var b=parseFloat(a.replace(/_/g,""));return isNaN(b)||b==1/0||b==-(1/0)?0:b},w.$to_i=function(a){var b=this;null==a&&(a=10);var c,d=b.toLowerCase(),e=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int");return(1===e||0>e||e>36)&&b.$raise(x.get("ArgumentError"),"invalid radix "+e),/^\s*_/.test(d)?0:(d=d.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,c,d){switch(d.charAt(0)){case"+":case"-":return a;case"0":if("x"===d.charAt(1)&&"0x"===c&&(0===e||16===e))return a}switch(c){case"0b":if(0===e||2===e)return e=2,b+d;break;case"0":case"0o":if(0===e||8===e)return e=8,b+d;break;case"0d":if(0===e||10===e)return e=10,b+d;break;case"0x":if(0===e||16===e)return e=16,b+d}return a}),c=parseInt(d.replace(/_(?!_)/g,""),e),isNaN(c)?0:c)},w.$to_proc=function(){var a,b,c,d=this,e=f;return e=d,(a=(b=d).$proc,a.$$p=(c=function(a){var b,d,g,i=c.$$s||this,j=f;return a=h.call(arguments,0),b=c.$$p||f,c.$$p=null,(d=a["$empty?"]())===f||d.$$is_boolean&&1!=d||i.$raise(x.get("ArgumentError"),"no receiver given"),j=a.$shift(),(d=(g=j).$__send__,d.$$p=b.$to_proc(),d).apply(g,[e].concat(a))},c.$$s=d,c),a).call(b)},w.$to_s=function(){var a=this;return a.toString()},a.defn(v,"$to_str",w.$to_s),a.defn(v,"$to_sym",w.$intern),w.$tr=function(a,b){var c=this;if(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s(),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),0==a.length||a===b)return c;var d={},e=a.split(""),f=e.length,g=b.split(""),h=g.length,i=!1,j=null;"^"===e[0]&&e.length>1&&(i=!0,e.shift(),j=g[h-1],f-=1);for(var k=[],l=null,m=!1,n=0;f>n;n++){var o=e[n];if(null==l)l=o,k.push(o);else if("-"===o)"-"===l?(k.push("-"),k.push("-")):n==f-1?k.push("-"):m=!0;else if(m){var p=l.charCodeAt(0),q=o.charCodeAt(0);p>q&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(q)+'" in string transliteration');for(var r=p+1;q>r;r++)k.push(String.fromCharCode(r));k.push(o),m=null,l=null}else k.push(o)}if(e=k,f=e.length,i)for(var n=0;f>n;n++)d[e[n]]=!0;else{if(h>0){for(var s=[],t=null,m=!1,n=0;h>n;n++){var o=g[n];if(null==l)l=o,s.push(o);else if("-"===o)"-"===t?(s.push("-"),s.push("-")):n==h-1?s.push("-"):m=!0;else if(m){var p=l.charCodeAt(0),q=o.charCodeAt(0);p>q&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(q)+'" in string transliteration');for(var r=p+1;q>r;r++)s.push(String.fromCharCode(r));s.push(o),m=null,l=null}else s.push(o)}g=s,h=g.length}var u=f-h;if(u>0)for(var v=h>0?g[h-1]:"",n=0;u>n;n++)g.push(v);for(var n=0;f>n;n++)d[e[n]]=g[n]}for(var w="",n=0,y=c.length;y>n;n++){var o=c.charAt(n),z=d[o];w+=i?null==z?j:o:null!=z?z:o}return w},a.defn(v,"$tr!",w["$<<"]),w.$tr_s=function(a,b){var c=this;if(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s(),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),0==a.length)return c;var d={},e=a.split(""),f=e.length,g=b.split(""),h=g.length,i=!1,j=null;"^"===e[0]&&e.length>1&&(i=!0,e.shift(),j=g[h-1],f-=1);for(var k=[],l=null,m=!1,n=0;f>n;n++){var o=e[n];if(null==l)l=o,k.push(o);else if("-"===o)"-"===l?(k.push("-"),k.push("-")):n==f-1?k.push("-"):m=!0;else if(m){var p=l.charCodeAt(0),q=o.charCodeAt(0);p>q&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(q)+'" in string transliteration');for(var r=p+1;q>r;r++)k.push(String.fromCharCode(r));k.push(o),m=null,l=null}else k.push(o)}if(e=k,f=e.length,i)for(var n=0;f>n;n++)d[e[n]]=!0;else{if(h>0){for(var s=[],t=null,m=!1,n=0;h>n;n++){var o=g[n];if(null==l)l=o,s.push(o);else if("-"===o)"-"===t?(s.push("-"),s.push("-")):n==h-1?s.push("-"):m=!0;else if(m){var p=l.charCodeAt(0),q=o.charCodeAt(0);p>q&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(q)+'" in string transliteration');for(var r=p+1;q>r;r++)s.push(String.fromCharCode(r));s.push(o),m=null,l=null}else s.push(o)}g=s,h=g.length}var u=f-h;if(u>0)for(var v=h>0?g[h-1]:"",n=0;u>n;n++)g.push(v);for(var n=0;f>n;n++)d[e[n]]=g[n]}for(var w="",y=null,n=0,z=c.length;z>n;n++){var o=c.charAt(n),A=d[o];i?null==A?null==y&&(w+=j,y=!0):(w+=o,y=null):null!=A?(null==y||y!==A)&&(w+=A,y=A):(w+=o,y=null)}return w},a.defn(v,"$tr_s!",w["$<<"]),w.$upcase=function(){var a=this;return a.toUpperCase()},a.defn(v,"$upcase!",w["$<<"]),w.$freeze=function(){var a=this;return a},w["$frozen?"]=function(){return!0},w.$upto=u=function(a,b){var c=this,d=u.$$p,e=d||f;if(null==b&&(b=!1),u.$$p=null,e===f)return c.$enum_for("upto",a,b);a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str");var g,h,i=c.toString();if(1===i.length&&1===a.length)for(g=i.charCodeAt(0),h=a.charCodeAt(0);h>=g&&(!b||g!==h);)e(String.fromCharCode(g)),g+=1;else if(parseInt(i).toString()===i&&parseInt(a).toString()===a)for(g=parseInt(i),h=parseInt(a);h>=g&&(!b||g!==h);)e(g.toString()),g+=1;else for(;i.length<=a.length&&a>=i&&(!b||i!==a);)e(i),i=i.$succ();return c}}(d,null),a.cdecl(e,"Symbol",e.get("String"))},Opal.modules["corelib/string/inheritance"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="warning";var d=a.top,e=a,f=a.nil,g=a.breaker,h=a.slice,i=a.klass,j=a.gvars;return a.add_stubs(["$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$inspect","$map","$split","$enum_for","$each_line","$to_a","$%"]),function(b,c){function d(){}var e=d=i(b,c,"String",d),g=(e.$$proto,e.$$scope);return a.defs(e,"$inherited",function(a){var b=f;b=g.get("Class").$new(g.get("String").$$scope.get("Wrapper")),a.$$proto=b.$$proto,a.$$proto.$$class=a,a.$$alloc=b.$$alloc,a.$$parent=g.get("String").$$scope.get("Wrapper"),a.$allocate=b.$allocate,a.$new=b.$new}),f&&"inherited"}(d,null),function(d,e){function k(){}var l,m,n,o,p,q,r=k=i(d,e,"Wrapper",k),s=r.$$proto;r.$$scope;return s.literal=f,s.$$is_string=!0,a.defs(r,"$allocate",l=function(b){var c=this,d=(l.$$p,f);return null==b&&(b=""),l.$$p=null,d=a.find_super_dispatcher(c,"allocate",l,null,k).apply(c,[]),d.literal=b,d}),a.defs(r,"$new",m=function(a){var b,c,d=this,e=m.$$p,g=e||f,i=f;return a=h.call(arguments,0),m.$$p=null,i=d.$allocate(),(b=(c=i).$initialize,b.$$p=g.$to_proc(),b).apply(c,[].concat(a)),i}),a.defs(r,"$[]",function(a){var b=this;return a=h.call(arguments,0),b.$allocate(a)}),s.$initialize=function(a){var b=this;return null==a&&(a=""),b.literal=a},s.$method_missing=n=function(a){var b,c,d=this,e=n.$$p,g=e||f,i=f;return a=h.call(arguments,0),n.$$p=null,i=(b=(c=d.literal).$__send__,b.$$p=g.$to_proc(),b).apply(c,[].concat(a)),(b=null!=i.$$is_string)===f||b.$$is_boolean&&1!=b?i:(b=i==d.literal)===f||b.$$is_boolean&&1!=b?d.$class().$allocate(i):d},s.$initialize_copy=function(a){var b=this;return b.literal=a.literal.$clone()},s["$respond_to?"]=o=function(b){var c,d=h.call(arguments,0),e=this,g=o.$$p;return o.$$p=null,(c=a.find_super_dispatcher(e,"respond_to?",o,g).apply(e,d))!==!1&&c!==f?c:e.literal["$respond_to?"](b)},s["$=="]=function(a){var b=this;return b.literal["$=="](a)},a.defn(r,"$eql?",s["$=="]),a.defn(r,"$===",s["$=="]),s.$to_s=function(){var a=this;return a.literal},a.defn(r,"$to_str",s.$to_s),s.$inspect=function(){var a=this;return a.literal.$inspect()},s["$+"]=function(a){var c=this;return b(c.literal,a)},s["$*"]=function(a){var b=this,d=c(b.literal,a);return d.$$is_string?b.$class().$allocate(d):d},s.$split=function(a,b){var c,d,e,g=this;return(c=(d=g.literal.$split(a,b)).$map,c.$$p=(e=function(a){var b=e.$$s||this;return null==a&&(a=f),b.$class().$allocate(a)},e.$$s=g,e),c).call(d)},s.$replace=function(a){var b=this;return b.literal=a},s.$each_line=p=function(b){var c,d,e,h=this,i=p.$$p,k=i||f;return null==j["/"]&&(j["/"]=f),null==b&&(b=j["/"]),p.$$p=null,k===f?h.$enum_for("each_line",b):(c=(d=h.literal).$each_line,c.$$p=(e=function(b){var c,d=e.$$s||this;return null==b&&(b=f),c=a.yield1(k,d.$class().$allocate(b)),c===g?c:c},e.$$s=h,e),c).call(d,b)},s.$lines=q=function(a){var b,c,d=this,e=q.$$p,g=e||f,h=f;return null==j["/"]&&(j["/"]=f),null==a&&(a=j["/"]),q.$$p=null,h=(b=(c=d).$each_line,b.$$p=g.$to_proc(),b).call(c,a),g!==!1&&g!==f?d:h.$to_a()},s["$%"]=function(a){var b=this;return b.literal["$%"](a)},f&&"%"}(e.get("String"),null)},Opal.modules["corelib/match_data"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass,f=a.gvars;return a.add_stubs(["$attr_reader","$[]","$raise","$===","$inspect","$to_a","$coerce_to!"]),function(b,g){function h(){}var i=h=e(b,g,"MatchData",h),j=i.$$proto,k=i.$$scope;return j.matches=c,i.$attr_reader("post_match","pre_match","regexp","string"),j.$initialize=function(a,b){var d=this;f["~"]=d,d.regexp=a,d.begin=b.index,d.string=b.input,d.pre_match=b.input.slice(0,b.index),d.post_match=b.input.slice(b.index+b[0].length),d.matches=[];for(var e=0,g=b.length;g>e;e++){var h=b[e];null==h?d.matches.push(c):d.matches.push(h)}},j["$[]"]=function(a){var b,c=this;return a=d.call(arguments,0),(b=c.matches)["$[]"].apply(b,[].concat(a))},j.$offset=function(a){var b=this;return 0!==a&&b.$raise(k.get("ArgumentError"),"MatchData#offset only supports 0th element"),[b.begin,b.begin+b.matches[a].length]},j["$=="]=function(a){var b,d,e,f,g=this;return(b=k.get("MatchData")["$==="](a))===c||b.$$is_boolean&&1!=b?!1:(f=g.string==a.string,e=f!==!1&&f!==c?g.regexp.toString()==a.regexp.toString():f,d=e!==!1&&e!==c?g.pre_match==a.pre_match:e,b=d!==!1&&d!==c?g.post_match==a.post_match:d,b!==!1&&b!==c?g.begin==a.begin:b)},a.defn(i,"$eql?",j["$=="]),j.$begin=function(a){var b=this;return 0!==a&&b.$raise(k.get("ArgumentError"),"MatchData#begin only supports 0th element"),b.begin},j.$end=function(a){var b=this;return 0!==a&&b.$raise(k.get("ArgumentError"),"MatchData#end only supports 0th element"),b.begin+b.matches[a].length},j.$captures=function(){var a=this;return a.matches.slice(1)},j.$inspect=function(){for(var a=this,b="#<MatchData "+a.matches[0].$inspect(),c=1,d=a.matches.length;d>c;c++)b+=" "+c+":"+a.matches[c].$inspect();return b+">"},j.$length=function(){var a=this;return a.matches.length},a.defn(i,"$size",j.$length),j.$to_a=function(){var a=this;return a.matches},j.$to_s=function(){var a=this;return a.matches[0]},j.$values_at=function(a){var b=this;a=d.call(arguments,0);var e,f,g,h=[];for(e=0;e<a.length;e++)a[e].$$is_range&&(f=a[e].$to_a(),f.unshift(e,1),Array.prototype.splice.apply(a,f)),g=k.get("Opal")["$coerce_to!"](a[e],k.get("Integer"),"to_int"),0>g&&(g+=b.matches.length,0>g)?h.push(c):h.push(b.matches[g]);return h},c&&"values_at"}(b,null)},Opal.modules["corelib/numeric"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}a.dynamic_require_severity="warning";var f=a.top,g=a,h=a.nil,i=a.breaker,j=a.slice,k=a.klass;return a.add_stubs(["$require","$include","$coerce","$===","$raise","$class","$__send__","$send_coerced","$coerce_to!","$-@","$**","$respond_to?","$==","$enum_for","$gcd","$lcm","$floor","$%"]),f.$require("corelib/comparable"),function(f,g){function l(){}var m,n,o,p,q,r,s=l=k(f,g,"Numeric",l),t=s.$$proto,u=s.$$scope;return s.$include(u.get("Comparable")),t.$$is_number=!0,t.$__id__=function(){var a=this;return 2*a+1},a.defn(s,"$object_id",t.$__id__),t.$coerce=function(a,b){var c=this,d=h;null==b&&(b="operation");try{return a.$$is_number?[c,a]:a.$coerce(c)}catch(e){return function(){return d=b,"operation"["$==="](d)?c.$raise(u.get("TypeError"),""+a.$class()+" can't be coerced into Numeric"):"comparison"["$==="](d)?c.$raise(u.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"):h}()}},t.$send_coerced=function(b,c){var d,e=this,f=h,g=h,i=h,j=h;return f=function(){return g=b,"+"["$==="](g)||"-"["$==="](g)||"*"["$==="](g)||"/"["$==="](g)||"%"["$==="](g)||"&"["$==="](g)||"|"["$==="](g)||"^"["$==="](g)||"**"["$==="](g)?"operation":">"["$==="](g)||">="["$==="](g)||"<"["$==="](g)||"<="["$==="](g)||"<=>"["$==="](g)?"comparison":h}(),d=a.to_ary(e.$coerce(c,f)),i=null==d[0]?h:d[0],j=null==d[1]?h:d[1],i.$__send__(b,j)},t["$+"]=function(a){var b=this;return a.$$is_number?b+a:b.$send_coerced("+",a)},t["$-"]=function(a){var b=this;return a.$$is_number?b-a:b.$send_coerced("-",a)},t["$*"]=function(a){var b=this;return a.$$is_number?b*a:b.$send_coerced("*",a)},t["$/"]=function(a){var b=this;return a.$$is_number?b/a:b.$send_coerced("/",a)},t["$%"]=function(a){var b=this;return a.$$is_number?0>a||0>b?(b%a+a)%a:b%a:b.$send_coerced("%",a)},t["$&"]=function(a){var b=this;return a.$$is_number?b&a:b.$send_coerced("&",a)},t["$|"]=function(a){var b=this;return a.$$is_number?b|a:b.$send_coerced("|",a)},t["$^"]=function(a){var b=this;return a.$$is_number?b^a:b.$send_coerced("^",a)},t["$<"]=function(a){var b=this;return a.$$is_number?a>b:b.$send_coerced("<",a)},t["$<="]=function(a){var b=this;return a.$$is_number?a>=b:b.$send_coerced("<=",a)},t["$>"]=function(a){var b=this;return a.$$is_number?b>a:b.$send_coerced(">",a)},t["$>="]=function(a){var b=this;return a.$$is_number?b>=a:b.$send_coerced(">=",a)},t["$<=>"]=function(b){var c=this;try{return b.$$is_number?c>b?1:b>c?-1:0:c.$send_coerced("<=>",b)}catch(d){if(a.rescue(d,[u.get("ArgumentError")]))return h;throw d}},t["$<<"]=function(a){var b=this;return a=u.get("Opal")["$coerce_to!"](a,u.get("Integer"),"to_int"),a>0?b<<a:b>>-a},t["$>>"]=function(a){var b=this;return a=u.get("Opal")["$coerce_to!"](a,u.get("Integer"),"to_int"),a>0?b>>a:b<<-a},t["$[]"]=function(a){var c=this,d=h,e=h;return a=u.get("Opal")["$coerce_to!"](a,u.get("Integer"),"to_int"),d=2["$**"](30)["$-@"](),e=b(2["$**"](30),1),d>a||a>e?0:(c>>a)%2},t["$+@"]=function(){var a=this;return+a},t["$-@"]=function(){var a=this;return-a},t["$~"]=function(){var a=this;return~a},t["$**"]=function(a){var b=this;return a.$$is_number?Math.pow(b,a):b.$send_coerced("**",a)},t["$=="]=function(a){var b=this;return a.$$is_number?b==Number(a):a["$respond_to?"]("==")?a["$=="](b):!1},t.$abs=function(){var a=this;return Math.abs(a)},t.$ceil=function(){var a=this;return Math.ceil(a)},t.$chr=function(a){var b=this;return String.fromCharCode(b)},t.$conj=function(){var a=this;return a},a.defn(s,"$conjugate",t.$conj),t.$downto=m=function(a){var b=this,c=m.$$p,d=c||h;if(m.$$p=null,d===!1||d===h)return b.$enum_for("downto",a);a.$$is_number||b.$raise(u.get("ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");for(var e=b;e>=a;e--)if(d(e)===i)return i.$v;return b},a.defn(s,"$eql?",t["$=="]),t["$equal?"]=function(a){var b,c=this;return(b=c["$=="](a))!==!1&&b!==h?b:isNaN(c)&&isNaN(a)},t["$even?"]=function(){var a=this;return a%2===0},t.$floor=function(){var a=this;return Math.floor(a)},t.$gcd=function(a){var b,c=this;((b=u.get("Integer")["$==="](a))===h||b.$$is_boolean&&1!=b)&&c.$raise(u.get("TypeError"),"not an integer");for(var d=Math.abs(c),e=Math.abs(a);d>0;){var f=d;d=e%d,e=f}return e},t.$gcdlcm=function(a){var b=this;return[b.$gcd(),b.$lcm()]},t.$hash=function(){var a=this;return"Numeric:"+a.toString()},t["$integer?"]=function(){var a=this;return a%1===0},t["$is_a?"]=n=function(b){var c,d,e=j.call(arguments,0),f=this,g=n.$$p;return n.$$p=null,((c=(d=b["$=="](u.get("Fixnum")))?u.get("Integer")["$==="](f):d)===h||c.$$is_boolean&&1!=c)&&((c=(d=b["$=="](u.get("Integer")))?u.get("Integer")["$==="](f):d)===h||c.$$is_boolean&&1!=c)&&((c=(d=b["$=="](u.get("Float")))?u.get("Float")["$==="](f):d)===h||c.$$is_boolean&&1!=c)?a.find_super_dispatcher(f,"is_a?",n,g).apply(f,e):!0},a.defn(s,"$kind_of?",t["$is_a?"]),t["$instance_of?"]=o=function(b){var c,d,e=j.call(arguments,0),f=this,g=o.$$p;return o.$$p=null,((c=(d=b["$=="](u.get("Fixnum")))?u.get("Integer")["$==="](f):d)===h||c.$$is_boolean&&1!=c)&&((c=(d=b["$=="](u.get("Integer")))?u.get("Integer")["$==="](f):d)===h||c.$$is_boolean&&1!=c)&&((c=(d=b["$=="](u.get("Float")))?u.get("Float")["$==="](f):d)===h||c.$$is_boolean&&1!=c)?a.find_super_dispatcher(f,"instance_of?",o,g).apply(f,e):!0},t.$lcm=function(a){var b,c=this;return((b=u.get("Integer")["$==="](a))===h||b.$$is_boolean&&1!=b)&&c.$raise(u.get("TypeError"),"not an integer"),0==c||0==a?0:Math.abs(c*a/c.$gcd(a))},a.defn(s,"$magnitude",t.$abs),a.defn(s,"$modulo",t["$%"]),t.$next=function(){var a=this;return a+1},t["$nonzero?"]=function(){var a=this;return 0==a?h:a},t["$odd?"]=function(){var a=this;return a%2!==0},t.$ord=function(){var a=this;return a},t.$pred=function(){var a=this;return a-1},t.$round=function(a){var b=this;null==a&&(a=0);var c=Math.pow(10,a);return Math.round(b*c)/c},t.$step=p=function(a,b){var c,d=this,e=p.$$p,f=e||h;if(null==b&&(b=1),p.$$p=null,f===!1||f===h)return d.$enum_for("step",a,b);(c=0==b)===h||c.$$is_boolean&&1!=c||d.$raise(u.get("ArgumentError"),"step cannot be 0");var g=d;if(b>0)for(;a>=g;)f(g),g+=b;else for(;g>=a;)f(g),g+=b;return d},a.defn(s,"$succ",t.$next),t.$times=q=function(){var a=this,b=q.$$p,c=b||h;if(q.$$p=null,c===!1||c===h)return a.$enum_for("times");for(var d=0;a>d;d++)if(c(d)===i)return i.$v;return a},t.$to_f=function(){var a=this;return a},t.$to_i=function(){var a=this;return parseInt(a)},a.defn(s,"$to_int",t.$to_i),t.$to_s=function(a){var b,e,f=this;return null==a&&(a=10),(b=(e=c(a,2))!==!1&&e!==h?e:d(a,36))===h||b.$$is_boolean&&1!=b||f.$raise(u.get("ArgumentError"),"base must be between 2 and 36"),f.toString(a)},a.defn(s,"$inspect",t.$to_s),t.$divmod=function(a){var b=this,c=h,d=h;return c=e(b,a).$floor(),d=b["$%"](a),[c,d]},t.$upto=r=function(a){var b=this,c=r.$$p,d=c||h;if(r.$$p=null,d===!1||d===h)return b.$enum_for("upto",a);a.$$is_number||b.$raise(u.get("ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");for(var e=b;a>=e;e++)if(d(e)===i)return i.$v;return b},t["$zero?"]=function(){var a=this;return 0==a},t.$size=function(){return 4},t["$nan?"]=function(){var a=this;return isNaN(a)},t["$finite?"]=function(){var a=this;return a!=1/0&&a!=-(1/0)},t["$infinite?"]=function(){var a=this;return a==1/0?1:a==-(1/0)?-1:h},t["$positive?"]=function(){var a=this;return 1/a>0},t["$negative?"]=function(){var a=this;return 0>1/a},h&&"negative?"}(f,null),a.cdecl(g,"Fixnum",g.get("Numeric")),function(b,c){function d(){}var e=d=k(b,c,"Integer",d);e.$$proto,e.$$scope;return a.defs(e,"$===",function(a){return a.$$is_number?a%1===0:!1}),h&&"==="}(f,g.get("Numeric")),function(b,c){function d(){}var e,f=d=k(b,c,"Float",d),g=(f.$$proto,f.$$scope);return a.defs(f,"$===",function(a){return!!a.$$is_number}),a.cdecl(g,"INFINITY",1/0),a.cdecl(g,"NAN",NaN),(e="undefined"!=typeof Number.EPSILON)===h||e.$$is_boolean&&1!=e?a.cdecl(g,"EPSILON",2.220446049250313e-16):a.cdecl(g,"EPSILON",Number.EPSILON)}(f,g.get("Numeric"))},Opal.modules["corelib/complex"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass);return function(a,b){function c(){}var f=c=e(a,b,"Complex",c);f.$$proto,f.$$scope;return d}(b,c.get("Numeric"))},Opal.modules["corelib/rational"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass);return function(a,b){function c(){}var f=c=e(a,b,"Rational",c);f.$$proto,f.$$scope;return d}(b,c.get("Numeric"))},Opal.modules["corelib/proc"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass;return a.add_stubs(["$raise"]),function(b,g){function h(){}var i,j,k=h=f(b,g,"Proc",h),l=k.$$proto,m=k.$$scope;return l.$$is_proc=!0,l.$$is_lambda=!1,a.defs(k,"$new",i=function(){var a=this,b=i.$$p,d=b||c;return i.$$p=null,d!==!1&&d!==c||a.$raise(m.get("ArgumentError"),"tried to create a Proc object without a block"),d}),l.$call=j=function(b){var f=this,g=j.$$p,h=g||c;b=e.call(arguments,0),j.$$p=null,h!==c&&(f.$$p=h);var i;return i=f.$$is_lambda?f.apply(null,b):a.yieldX(f,b),i===d?d.$v:i},a.defn(k,"$[]",l.$call),l.$to_proc=function(){var a=this;return a},l["$lambda?"]=function(){var a=this;return!!a.$$is_lambda},l.$arity=function(){var a=this;return a.length},c&&"arity"}(b,null)},Opal.modules["corelib/method"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass;return a.add_stubs(["$attr_reader","$class","$arity","$new","$name"]),function(b,f){function g(){}var h,i=g=e(b,f,"Method",g),j=i.$$proto,k=i.$$scope;return j.method=j.receiver=j.owner=j.name=j.obj=c,i.$attr_reader("owner","receiver","name"),j.$initialize=function(a,b,c){var d=this;return d.receiver=a,d.owner=a.$class(),d.name=c,d.method=b},j.$arity=function(){var a=this;return a.method.$arity()},j.$call=h=function(a){var b=this,e=h.$$p,f=e||c;return a=d.call(arguments,0),h.$$p=null,b.method.$$p=f,b.method.apply(b.receiver,a)},a.defn(i,"$[]",j.$call),j.$unbind=function(){var a=this;return k.get("UnboundMethod").$new(a.owner,a.method,a.name)},j.$to_proc=function(){var a=this;return a.method},j.$inspect=function(){var a=this;return"#<Method: "+a.obj.$class()+"#"+a.name+"}>"},c&&"inspect"}(b,null),function(a,b){function d(){}var f=d=e(a,b,"UnboundMethod",d),g=f.$$proto,h=f.$$scope;return g.method=g.name=g.owner=c,f.$attr_reader("owner","name"),g.$initialize=function(a,b,c){var d=this;return d.owner=a,d.method=b,d.name=c},g.$arity=function(){var a=this;return a.method.$arity()},g.$bind=function(a){var b=this;return h.get("Method").$new(a,b.method,b.name)},g.$inspect=function(){var a=this;return"#<UnboundMethod: "+a.owner.$name()+"#"+a.name+">"},c&&"inspect"}(b,null)},Opal.modules["corelib/range"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="warning";var e=a.top,f=a.nil,g=a.breaker,h=a.slice,i=a.klass;return a.add_stubs(["$require","$include","$attr_reader","$<=>","$raise","$include?","$enum_for","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$abs","$to_i","$inspect"]),e.$require("corelib/enumerable"),function(e,j){function k(){}var l,m,n,o=k=i(e,j,"Range",k),p=o.$$proto,q=o.$$scope;return p.begin=p.exclude=p.end=f,o.$include(q.get("Enumerable")),p.$$is_range=!0,o.$attr_reader("begin","end"),p.$initialize=function(a,b,c){var d,e=this;return null==c&&(c=!1),((d=a["$<=>"](b))===f||d.$$is_boolean&&1!=d)&&e.$raise(q.get("ArgumentError")),e.begin=a,e.end=b,e.exclude=c},p["$=="]=function(a){var b=this;return a.$$is_range?b.exclude===a.exclude&&b.begin==a.begin&&b.end==a.end:!1},p["$==="]=function(a){var b=this;return b["$include?"](a)},p["$cover?"]=function(a){var d,e,g=this;return(d=b(g.begin,a))?function(){return(e=g.exclude)===f||e.$$is_boolean&&1!=e?b(a,g.end):c(a,g.end)}():d},p.$each=l=function(){var b,d,e=this,h=l.$$p,i=h||f,j=f,k=f;if(l.$$p=null,i===f)return e.$enum_for("each");for(j=e.begin,k=e.end;c(j,k);){if(a.yield1(i,j)===g)return g.$v;j=j.$succ()}return d=e.exclude["$!"](),(b=d!==!1&&d!==f?j["$=="](k):d)===f||b.$$is_boolean&&1!=b||a.yield1(i,j)!==g?e:g.$v},p["$eql?"]=function(a){var b,c,d=this;return(b=q.get("Range")["$==="](a))===f||b.$$is_boolean&&1!=b?!1:(c=d.exclude["$==="](a["$exclude_end?"]()),b=c!==!1&&c!==f?d.begin["$eql?"](a.$begin()):c,b!==!1&&b!==f?d.end["$eql?"](a.$end()):b)},p["$exclude_end?"]=function(){var a=this;return a.exclude},a.defn(o,"$first",p.$begin),a.defn(o,"$include?",p["$cover?"]),a.defn(o,"$last",p.$end),p.$max=m=function(){var b=h.call(arguments,0),c=this,d=m.$$p,e=d||f;return m.$$p=null,e!==f?a.find_super_dispatcher(c,"max",m,d).apply(c,b):c.exclude?c.end-1:c.end},a.defn(o,"$member?",p["$cover?"]),p.$min=n=function(){var b=h.call(arguments,0),c=this,d=n.$$p,e=d||f;return n.$$p=null,e!==f?a.find_super_dispatcher(c,"min",n,d).apply(c,b):c.begin},a.defn(o,"$member?",p["$include?"]),p.$size=function(){var a,b,e=this,g=f,h=f,i=f;return g=e.begin,h=e.end,(a=e.exclude)===f||a.$$is_boolean&&1!=a||(h=d(h,1)),b=q.get("Numeric")["$==="](g),(a=b!==!1&&b!==f?q.get("Numeric")["$==="](h):b)===f||a.$$is_boolean&&1!=a?f:c(h,g)?0:(i=q.get("Float").$$scope.get("INFINITY"),(a=(b=i["$=="](g.$abs()))!==!1&&b!==f?b:h.$abs()["$=="](i))===f||a.$$is_boolean&&1!=a?(Math.abs(h-g)+1).$to_i():i)},p.$step=function(a){var b=this;return null==a&&(a=1),b.$raise(q.get("NotImplementedError"))},p.$to_s=function(){var a=this;return a.begin.$inspect()+(a.exclude?"...":"..")+a.end.$inspect()},a.defn(o,"$inspect",p.$to_s)}(e,null)},Opal.modules["corelib/time"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var f=a.top,g=a.nil,h=(a.breaker,a.slice),i=a.klass,j=a.range;return a.add_stubs(["$require","$include","$kind_of?","$to_i","$coerce_to","$between?","$raise","$new","$compact","$nil?","$===","$<=>","$to_f","$strftime","$is_a?","$zero?","$wday","$utc?","$warn","$year","$mon","$day","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$month","$isdst","$private","$!","$==","$ceil"]),f.$require("corelib/comparable"),function(f,k){function l(){}var m=l=i(f,k,"Time",l),n=m.$$proto,o=m.$$scope;n.tz_offset=g,m.$include(o.get("Comparable"));var p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],q=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=["January","February","March","April","May","June","July","August","September","October","November","December"];return a.defs(m,"$at",function(a,b){return null==b&&(b=0),new Date(1e3*a+b)}),a.defs(m,"$new",function(a,b,c,d,e,f,g){switch(arguments.length){case 1:return new Date(a,0);case 2:return new Date(a,b-1);case 3:return new Date(a,b-1,c);case 4:return new Date(a,b-1,c,d);case 5:return new Date(a,b-1,c,d,e);case 6:return new Date(a,b-1,c,d,e,f);case 7:return new Date(a,b-1,c,d,e,f);default:return new Date}}),a.defs(m,"$local",function(a,b,c,d,e,f,i){var j,k=this;if(null==b&&(b=g),null==c&&(c=g),null==d&&(d=g),null==e&&(e=g),null==f&&(f=g),null==i&&(i=g),(j=10===arguments.length)!==g&&(!j.$$is_boolean||1==j)){var l=h.call(arguments).reverse();f=l[9],e=l[8],d=l[7],c=l[6],b=l[5],a=l[4]}return a=function(){return(j=a["$kind_of?"](o.get("String")))===g||j.$$is_boolean&&1!=j?o.get("Opal").$coerce_to(a,o.get("Integer"),"to_int"):a.$to_i()}(),b=function(){return(j=b["$kind_of?"](o.get("String")))===g||j.$$is_boolean&&1!=j?o.get("Opal").$coerce_to((j=b)!==!1&&j!==g?j:1,o.get("Integer"),"to_int"):b.$to_i()}(),((j=b["$between?"](1,12))===g||j.$$is_boolean&&1!=j)&&k.$raise(o.get("ArgumentError"),"month out of range: "+b),c=function(){return(j=c["$kind_of?"](o.get("String")))===g||j.$$is_boolean&&1!=j?o.get("Opal").$coerce_to((j=c)!==!1&&j!==g?j:1,o.get("Integer"),"to_int"):c.$to_i()}(),((j=c["$between?"](1,31))===g||j.$$is_boolean&&1!=j)&&k.$raise(o.get("ArgumentError"),"day out of range: "+c),d=function(){return(j=d["$kind_of?"](o.get("String")))===g||j.$$is_boolean&&1!=j?o.get("Opal").$coerce_to((j=d)!==!1&&j!==g?j:0,o.get("Integer"),"to_int"):d.$to_i()}(),((j=d["$between?"](0,24))===g||j.$$is_boolean&&1!=j)&&k.$raise(o.get("ArgumentError"),"hour out of range: "+d),e=function(){return(j=e["$kind_of?"](o.get("String")))===g||j.$$is_boolean&&1!=j?o.get("Opal").$coerce_to((j=e)!==!1&&j!==g?j:0,o.get("Integer"),"to_int"):e.$to_i()}(),((j=e["$between?"](0,59))===g||j.$$is_boolean&&1!=j)&&k.$raise(o.get("ArgumentError"),"minute out of range: "+e),f=function(){return(j=f["$kind_of?"](o.get("String")))===g||j.$$is_boolean&&1!=j?o.get("Opal").$coerce_to((j=f)!==!1&&j!==g?j:0,o.get("Integer"),"to_int"):f.$to_i()}(),((j=f["$between?"](0,59))===g||j.$$is_boolean&&1!=j)&&k.$raise(o.get("ArgumentError"),"second out of range: "+f),(j=k).$new.apply(j,[].concat([a,b,c,d,e,f].$compact()))}),a.defs(m,"$gm",function(a,b,c,d,e,f,h){var i,j=this;(i=a["$nil?"]())===g||i.$$is_boolean&&1!=i||j.$raise(o.get("TypeError"),"missing year (got nil)"),(b>12||c>31||d>24||e>59||f>59)&&j.$raise(o.get("ArgumentError"));var k=new Date(Date.UTC(a,(b||1)-1,c||1,d||0,e||0,f||0));return k.tz_offset=0,k}),function(a){a.$$scope,a.$$proto;return a.$$proto.$mktime=a.$$proto.$local,a.$$proto.$utc=a.$$proto.$gm}(m.$singleton_class()),a.defs(m,"$now",function(){return new Date}),n["$+"]=function(a){var b,c=this;(b=o.get("Time")["$==="](a))===g||b.$$is_boolean&&1!=b||c.$raise(o.get("TypeError"),"time + time?"),a=o.get("Opal").$coerce_to(a,o.get("Integer"),"to_int");var d=new Date(c.getTime()+1e3*a);return d.tz_offset=c.tz_offset,d},n["$-"]=function(a){var b,c=this;if((b=o.get("Time")["$==="](a))!==g&&(!b.$$is_boolean||1==b))return(c.getTime()-a.getTime())/1e3;a=o.get("Opal").$coerce_to(a,o.get("Integer"),"to_int");var d=new Date(c.getTime()-1e3*a);return d.tz_offset=c.tz_offset,d},n["$<=>"]=function(a){var b=this;return b.$to_f()["$<=>"](a.$to_f())},n["$=="]=function(a){var b=this;return b.$to_f()===a.$to_f()},n.$asctime=function(){var a=this;return a.$strftime("%a %b %e %H:%M:%S %Y")},a.defn(m,"$ctime",n.$asctime),n.$day=function(){var a=this;return 0===a.tz_offset?a.getUTCDate():a.getDate()},n.$yday=function(){var a=this,b=new Date(a.getFullYear(),0,1);return Math.ceil((a-b)/864e5)},n.$isdst=function(){var a=this;return a.$raise(o.get("NotImplementedError"))},n["$eql?"]=function(a){var b,c=this;return b=a["$is_a?"](o.get("Time")),b!==!1&&b!==g?c["$<=>"](a)["$zero?"]():b},n["$friday?"]=function(){var a=this;return 5==a.$wday()},n.$hour=function(){var a=this;return 0===a.tz_offset?a.getUTCHours():a.getHours()},n.$inspect=function(){var a,b=this;return(a=b["$utc?"]())===g||a.$$is_boolean&&1!=a?b.$strftime("%Y-%m-%d %H:%M:%S %z"):b.$strftime("%Y-%m-%d %H:%M:%S UTC")},a.defn(m,"$mday",n.$day),n.$min=function(){var a=this;return 0===a.tz_offset?a.getUTCMinutes():a.getMinutes()},n.$mon=function(){var a=this;return 0===a.tz_offset?a.getUTCMonth()+1:a.getMonth()+1},n["$monday?"]=function(){var a=this;return 1==a.$wday()},a.defn(m,"$month",n.$mon),n["$saturday?"]=function(){var a=this;return 6==a.$wday()},n.$sec=function(){var a=this;return 0===a.tz_offset?a.getUTCSeconds():a.getSeconds()},n.$usec=function(){var a=this;return a.$warn("Microseconds are not supported"),0},n.$zone=function(){var a,b=this,c=b.toString();return a=-1==c.indexOf("(")?c.match(/[A-Z]{3,4}/)[0]:c.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join(""),"GMT"==a&&/(GMT\W*\d{4})/.test(c)?RegExp.$1:a},n.$getgm=function(){var a=this,b=new Date(a.getTime());return b.tz_offset=0,b},n["$gmt?"]=function(){var a=this;return 0===a.tz_offset},n.$gmt_offset=function(){
var a=this;return 60*-a.getTimezoneOffset()},n.$strftime=function(a){var b=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,c,d,e,f){var g="",d=parseInt(d),h=-1!==c.indexOf("0"),i=-1===c.indexOf("-"),k=-1!==c.indexOf("_"),l=-1!==c.indexOf("^"),m=-1!==c.indexOf("#"),n=(c.match(":")||[]).length;switch(h&&k&&(c.indexOf("0")<c.indexOf("_")?h=!1:k=!1),f){case"Y":g+=b.$year();break;case"C":h=!k,g+=Math.round(b.$year()/100);break;case"y":h=!k,g+=b.$year()%100;break;case"m":h=!k,g+=b.$mon();break;case"B":g+=s[b.$mon()-1];break;case"b":case"h":k=!h,g+=r[b.$mon()-1];break;case"d":h=!k,g+=b.$day();break;case"e":k=!h,g+=b.$day();break;case"j":g+=b.$yday();break;case"H":h=!k,g+=b.$hour();break;case"k":k=!h,g+=b.$hour();break;case"I":h=!k,g+=b.$hour()%12||12;break;case"l":k=!h,g+=b.$hour()%12||12;break;case"P":g+=b.$hour()>=12?"pm":"am";break;case"p":g+=b.$hour()>=12?"PM":"AM";break;case"M":h=!k,g+=b.$min();break;case"S":h=!k,g+=b.$sec();break;case"L":h=!k,d=isNaN(d)?3:d,g+=b.getMilliseconds();break;case"N":d=isNaN(d)?9:d,g+=b.getMilliseconds().toString().$rjust(3,"0"),g=g.$ljust(d,"0");break;case"z":var o=b.getTimezoneOffset(),t=Math.floor(Math.abs(o)/60),u=Math.abs(o)%60;g+=0>o?"+":"-",g+=10>t?"0":"",g+=t,n>0&&(g+=":"),g+=10>u?"0":"",g+=u,n>1&&(g+=":00");break;case"Z":g+=b.$zone();break;case"A":g+=p[b.$wday()];break;case"a":g+=q[b.$wday()];break;case"u":g+=b.$wday()+1;break;case"w":g+=b.$wday();break;case"V":g+=b.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":g+=b.$cweek_cyear()["$[]"](1);break;case"g":g+=b.$cweek_cyear()["$[]"](1)["$[]"](j(-2,-1,!1));break;case"s":g+=b.$to_i();break;case"n":g+="\n";break;case"t":g+="	";break;case"%":g+="%";break;case"c":g+=b.$strftime("%a %b %e %T %Y");break;case"D":case"x":g+=b.$strftime("%m/%d/%y");break;case"F":g+=b.$strftime("%Y-%m-%d");break;case"v":g+=b.$strftime("%e-%^b-%4Y");break;case"r":g+=b.$strftime("%I:%M:%S %p");break;case"R":g+=b.$strftime("%H:%M");break;case"T":case"X":g+=b.$strftime("%H:%M:%S");break;default:return a}return l&&(g=g.toUpperCase()),m&&(g=g.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()})),i&&(h||k)&&(g=g.$rjust(isNaN(d)?2:d,k?" ":"0")),g})},n["$sunday?"]=function(){var a=this;return 0==a.$wday()},n["$thursday?"]=function(){var a=this;return 4==a.$wday()},n.$to_a=function(){var a=this;return[a.$sec(),a.$min(),a.$hour(),a.$day(),a.$month(),a.$year(),a.$wday(),a.$yday(),a.$isdst(),a.$zone()]},n.$to_f=function(){var a=this;return a.getTime()/1e3},n.$to_i=function(){var a=this;return parseInt(a.getTime()/1e3)},a.defn(m,"$to_s",n.$inspect),n["$tuesday?"]=function(){var a=this;return 2==a.$wday()},a.defn(m,"$utc?",n["$gmt?"]),a.defn(m,"$utc_offset",n.$gmt_offset),n.$wday=function(){var a=this;return 0===a.tz_offset?a.getUTCDay():a.getDay()},n["$wednesday?"]=function(){var a=this;return 3==a.$wday()},n.$year=function(){var a=this;return 0===a.tz_offset?a.getUTCFullYear():a.getFullYear()},m.$private("cweek_cyear"),n.$cweek_cyear=function(){var a,f,h=this,i=g,j=g,k=g,l=g,m=g,n=g,p=g,q=g;return i=o.get("Time").$new(h.$year(),1,1),j=i.$wday(),k=0,l=h.$year(),(a=(f=b(j,4))?j["$=="](0)["$!"]():f)===g||a.$$is_boolean&&1!=a?(m=c(c(j,7),1),m["$=="](-8)&&(m=-1)):m=c(j,1),n=d(e(h.$yday(),m),7).$ceil(),b(n,0)?o.get("Time").$new(c(h.$year(),1),12,31).$cweek_cyear():(n["$=="](53)&&(p=o.get("Time").$new(h.$year(),12,31),q=p.$wday(),(a=(f=b(q,3))?q["$=="](0)["$!"]():f)===g||a.$$is_boolean&&1!=a||(n=1,l=e(l,1))),[n,l])},g&&"cweek_cyear"}(f,null)},Opal.modules["corelib/struct"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a>=b:a["$>="](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var e=a.top,f=a.nil,g=a.breaker,h=a.slice,i=a.klass,j=a.hash2;return a.add_stubs(["$require","$include","$==","$[]","$upcase","$const_set","$new","$unshift","$each","$define_struct_attribute","$instance_eval","$to_proc","$raise","$<<","$members","$attr_accessor","$each_with_index","$instance_variable_set","$class","$===","$-@","$size","$include?","$to_sym","$instance_variable_get","$enum_for","$hash","$all?","$length","$map","$join","$inspect","$each_pair","$inject","$[]=","$flatten","$to_a"]),e.$require("corelib/enumerable"),function(e,k){function l(){}var m,n,o,p=l=i(e,k,"Struct",l),q=p.$$proto,r=p.$$scope;return p.$include(r.get("Enumerable")),a.defs(p,"$new",m=function(b,c){var d,e,g,i,j=h.call(arguments,0),k=this,n=m.$$p,o=n||f;return c=h.call(arguments,1),m.$$p=null,k["$=="](r.get("Struct"))?b["$[]"](0)["$=="](b["$[]"](0).$upcase())?r.get("Struct").$const_set(b,(d=k).$new.apply(d,[].concat(c))):(c.$unshift(b),(e=(g=r.get("Class")).$new,e.$$p=(i=function(){var a,b,d,e,g=i.$$s||this;return(a=(b=c).$each,a.$$p=(d=function(a){var b=d.$$s||this;return null==a&&(a=f),b.$define_struct_attribute(a)},d.$$s=g,d),a).call(b),o!==!1&&o!==f?(a=(e=g).$instance_eval,a.$$p=o.$to_proc(),a).call(e):f},i.$$s=k,i),e).call(g,k)):a.find_super_dispatcher(k,"new",m,n,l).apply(k,j)}),a.defs(p,"$define_struct_attribute",function(a){var b=this;return b["$=="](r.get("Struct"))&&b.$raise(r.get("ArgumentError"),"you cannot define attributes to the Struct class"),b.$members()["$<<"](a),b.$attr_accessor(a)}),a.defs(p,"$members",function(){var a,b=this;return null==b.members&&(b.members=f),b["$=="](r.get("Struct"))&&b.$raise(r.get("ArgumentError"),"the Struct class has no members"),(a=b.members)!==!1&&a!==f?a:b.members=[]}),a.defs(p,"$inherited",function(a){var b,c,d,e=this,g=f;return null==e.members&&(e.members=f),g=e.members,(b=(c=a).$instance_eval,b.$$p=(d=function(){var a=d.$$s||this;return a.members=g},d.$$s=e,d),b).call(c)}),function(a){a.$$scope,a.$$proto;return a.$$proto["$[]"]=a.$$proto.$new}(p.$singleton_class()),q.$initialize=function(a){var b,c,d,e=this;return a=h.call(arguments,0),(b=(c=e.$members()).$each_with_index,b.$$p=(d=function(b,c){var e=d.$$s||this;return null==b&&(b=f),null==c&&(c=f),e.$instance_variable_set("@"+b,a["$[]"](c))},d.$$s=e,d),b).call(c)},q.$members=function(){var a=this;return a.$class().$members()},q["$[]"]=function(a){var d,e=this;return(d=r.get("Integer")["$==="](a))===f||d.$$is_boolean&&1!=d?(d=r.get("String")["$==="](a))===f||d.$$is_boolean&&1!=d?e.$raise(r.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):((d=e.$members()["$include?"](a.$to_sym()))===f||d.$$is_boolean&&1!=d)&&e.$raise(r.get("NameError"),"no member '"+a+"' in struct"):(b(a,e.$members().$size()["$-@"]())&&e.$raise(r.get("IndexError"),"offset "+a+" too small for struct(size:"+e.$members().$size()+")"),c(a,e.$members().$size())&&e.$raise(r.get("IndexError"),"offset "+a+" too large for struct(size:"+e.$members().$size()+")"),a=e.$members()["$[]"](a)),e.$instance_variable_get("@"+a)},q["$[]="]=function(a,d){var e,g=this;return(e=r.get("Integer")["$==="](a))===f||e.$$is_boolean&&1!=e?(e=r.get("String")["$==="](a))===f||e.$$is_boolean&&1!=e?g.$raise(r.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):((e=g.$members()["$include?"](a.$to_sym()))===f||e.$$is_boolean&&1!=e)&&g.$raise(r.get("NameError"),"no member '"+a+"' in struct"):(b(a,g.$members().$size()["$-@"]())&&g.$raise(r.get("IndexError"),"offset "+a+" too small for struct(size:"+g.$members().$size()+")"),c(a,g.$members().$size())&&g.$raise(r.get("IndexError"),"offset "+a+" too large for struct(size:"+g.$members().$size()+")"),a=g.$members()["$[]"](a)),g.$instance_variable_set("@"+a,d)},q.$each=n=function(){var b,c,d,e=this,h=n.$$p,i=h||f;return n.$$p=null,i===f?e.$enum_for("each"):((b=(c=e.$members()).$each,b.$$p=(d=function(b){var c,e=d.$$s||this;return null==b&&(b=f),c=a.yield1(i,e["$[]"](b)),c===g?c:c},d.$$s=e,d),b).call(c),e)},q.$each_pair=o=function(){var b,c,d,e=this,h=o.$$p,i=h||f;return o.$$p=null,i===f?e.$enum_for("each_pair"):((b=(c=e.$members()).$each,b.$$p=(d=function(b){var c,e=d.$$s||this;return null==b&&(b=f),c=a.yieldX(i,[b,e["$[]"](b)]),c===g?c:c},d.$$s=e,d),b).call(c),e)},q["$eql?"]=function(a){var b,c,d,e,g=this;return(b=g.$hash()["$=="](a.$hash()))!==!1&&b!==f?b:(c=(d=a.$each_with_index())["$all?"],c.$$p=(e=function(a,b){var c=e.$$s||this;return null==a&&(a=f),null==b&&(b=f),c["$[]"](c.$members()["$[]"](b))["$=="](a)},e.$$s=g,e),c).call(d)},q.$length=function(){var a=this;return a.$members().$length()},a.defn(p,"$size",q.$length),q.$to_a=function(){var a,b,c,d=this;return(a=(b=d.$members()).$map,a.$$p=(c=function(a){var b=c.$$s||this;return null==a&&(a=f),b["$[]"](a)},c.$$s=d,c),a).call(b)},a.defn(p,"$values",q.$to_a),q.$inspect=function(){var a,b,c,e=this,g=f;return g="#<struct ",e.$class()["$=="](r.get("Struct"))&&(g=d(g,""+e.$class()+" ")),g=d(g,(a=(b=e.$each_pair()).$map,a.$$p=(c=function(a,b){c.$$s||this;return null==a&&(a=f),null==b&&(b=f),""+a+"="+b.$inspect()},c.$$s=e,c),a).call(b).$join(", ")),g=d(g,">")},a.defn(p,"$to_s",q.$inspect),q.$to_h=function(){var a,b,c,d=this;return(a=(b=d.$members()).$inject,a.$$p=(c=function(a,b){var d=c.$$s||this;return null==a&&(a=f),null==b&&(b=f),a["$[]="](b,d["$[]"](b)),a},c.$$s=d,c),a).call(b,j([],{}))},q.$values_at=function(a){var b,c,d,e=this;a=h.call(arguments,0),a=(b=(c=a).$map,b.$$p=(d=function(a){d.$$s||this;return null==a&&(a=f),a.$$is_range?a.$to_a():a},d.$$s=e,d),b).call(c).$flatten();for(var g=[],i=0,j=a.length;j>i;i++)a[i].$$is_number||e.$raise(r.get("TypeError"),"no implicit conversion of "+a[i].$class()+" into Integer"),g.push(e["$[]"](a[i]));return g},f&&"values_at"}(e,null)},Opal.modules["corelib/io"]=function(a){a.dynamic_require_severity="warning";var b,c,d=a.top,e=a,f=a.nil,g=(a.breaker,a.slice),h=a.klass,i=a.module,j=a.gvars;return null==j.stdout&&(j.stdout=f),null==j.stderr&&(j.stderr=f),a.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$extend"]),function(b,c){function d(){}var e=d=h(b,c,"IO",d),k=e.$$proto,l=e.$$scope;return k.tty=k.closed=f,a.cdecl(l,"SEEK_SET",0),a.cdecl(l,"SEEK_CUR",1),a.cdecl(l,"SEEK_END",2),k["$tty?"]=function(){var a=this;return a.tty},k["$closed?"]=function(){var a=this;return a.closed},e.$attr_accessor("write_proc"),k.$write=function(a){var b=this;return b.write_proc(a),a.$size()},e.$attr_accessor("sync"),function(b){var c=i(b,"Writable");c.$$proto,c.$$scope;a.defn(c,"$<<",function(a){var b=this;return b.$write(a),b}),a.defn(c,"$print",function(a){var b,c,d,e=this;return null==j[","]&&(j[","]=f),a=g.call(arguments,0),e.$write((b=(c=a).$map,b.$$p=(d=function(a){var b=d.$$s||this;return null==a&&(a=f),b.$String(a)},d.$$s=e,d),b).call(c).$join(j[","])),f}),a.defn(c,"$puts",function(a){var b,c,d,e=this,h=f;return null==j["/"]&&(j["/"]=f),a=g.call(arguments,0),h=j["/"],(b=a["$empty?"]())===f||b.$$is_boolean&&1!=b?e.$write((b=(c=a).$map,b.$$p=(d=function(a){var b=d.$$s||this;return null==a&&(a=f),b.$String(a).$chomp()},d.$$s=e,d),b).call(c).$concat([f]).$join(h)):e.$write(j["/"]),f})}(e),function(b){var c=i(b,"Readable"),d=(c.$$proto,c.$$scope);a.defn(c,"$readbyte",function(){var a=this;return a.$getbyte()}),a.defn(c,"$readchar",function(){var a=this;return a.$getc()}),a.defn(c,"$readline",function(a){var b=this;return null==j["/"]&&(j["/"]=f),null==a&&(a=j["/"]),b.$raise(d.get("NotImplementedError"))}),a.defn(c,"$readpartial",function(a,b){var c=this;return null==b&&(b=f),c.$raise(d.get("NotImplementedError"))})}(e)}(d,null),a.cdecl(e,"STDERR",j.stderr=e.get("IO").$new()),a.cdecl(e,"STDIN",j.stdin=e.get("IO").$new()),a.cdecl(e,"STDOUT",j.stdout=e.get("IO").$new()),b=["object"==typeof process?function(a){process.stdout.write(a)}:function(a){console.log(a)}],c=j.stdout,c["$write_proc="].apply(c,b),b[b.length-1],b=["object"==typeof process?function(a){process.stderr.write(a)}:function(a){console.warn(a)}],c=j.stderr,c["$write_proc="].apply(c,b),b[b.length-1],j.stdout.$extend(e.get("IO").$$scope.get("Writable")),j.stderr.$extend(e.get("IO").$$scope.get("Writable"))},Opal.modules["corelib/main"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a,d=a.nil;a.breaker,a.slice;return a.add_stubs(["$include"]),a.defs(b,"$to_s",function(){return"main"}),a.defs(b,"$include",function(a){return c.get("Object").$include(a)}),d&&"include"},Opal.modules["corelib/variables"]=function(a){a.dynamic_require_severity="warning";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.gvars),e=a.hash2;return a.add_stubs(["$new"]),d["&"]=d["~"]=d["`"]=d["'"]=c,d.LOADED_FEATURES=d['"']=a.loaded_features,d.LOAD_PATH=d[":"]=[],d["/"]="\n",d[","]=c,a.cdecl(b,"ARGV",[]),a.cdecl(b,"ARGF",b.get("Object").$new()),a.cdecl(b,"ENV",e([],{})),d.VERBOSE=!1,d.DEBUG=!1,d.SAFE=0,a.cdecl(b,"RUBY_PLATFORM","opal"),a.cdecl(b,"RUBY_ENGINE","opal"),a.cdecl(b,"RUBY_VERSION","2.1.5"),a.cdecl(b,"RUBY_ENGINE_VERSION","0.8.0"),a.cdecl(b,"RUBY_RELEASE_DATE","2015-07-16")},Opal.modules["corelib/dir"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a.nil,d=a.breaker,e=(a.slice,a.klass);return a.add_stubs(["$[]"]),function(b,f){function g(){}var h=g=e(b,f,"Dir",g);h.$$proto,h.$$scope;return function(b){var e,f=b.$$scope;b.$$proto;return b.$$proto.$chdir=e=function(b){var f,g=e.$$p,h=g||c,i=c;e.$$p=null;try{return i=a.current_dir,a.current_dir=b,f=a.yieldX(h,[]),f===d?f:f}finally{a.current_dir=i}},b.$$proto.$pwd=function(){return a.current_dir||"."},b.$$proto.$getwd=b.$$proto.$pwd,b.$$proto.$home=function(){var a;return(a=f.get("ENV")["$[]"]("HOME"))!==!1&&a!==c?a:"."},c&&"home"}(h.$singleton_class())}(b,null)},Opal.modules["corelib/file"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice),f=a.klass,g=a.range;return a.add_stubs(["$join","$compact","$split","$==","$first","$[]=","$home","$each","$pop","$<<","$[]","$gsub","$find","$=~"]),function(b,c){function h(){}var i=h=f(b,c,"File",h),j=(i.$$proto,i.$$scope);return a.cdecl(j,"Separator",a.cdecl(j,"SEPARATOR","/")),a.cdecl(j,"ALT_SEPARATOR",d),a.cdecl(j,"PATH_SEPARATOR",":"),function(b){var c=b.$$scope;b.$$proto;return b.$$proto.$expand_path=function(a,b){var e,f,g,h=this,i=d,j=d;return null==b&&(b=d),a=[b,a].$compact().$join(c.get("SEPARATOR")),i=a.$split(c.get("SEPARATOR")),j=[],i.$first()["$=="]("~")&&i["$[]="](0,c.get("Dir").$home()),(e=(f=i).$each,e.$$p=(g=function(a){g.$$s||this;return null==a&&(a=d),a["$=="]("..")?j.$pop():j["$<<"](a)},g.$$s=h,g),e).call(f),j.$join(c.get("SEPARATOR"))},b.$$proto.$dirname=function(a){var b=this;return b.$split(a)["$[]"](g(0,-2,!1))},b.$$proto.$basename=function(a){var b=this;return b.$split(a)["$[]"](-1)},b.$$proto["$exist?"]=function(b){return null!=a.modules[b]},b.$$proto["$exists?"]=b.$$proto["$exist?"],b.$$proto["$directory?"]=function(b){var e,f,g,h=this,i=d,j=d;i=[];for(var k in a.modules)i.push(k);return b=b.$gsub(new RegExp("(^."+c.get("SEPARATOR")+"+|"+c.get("SEPARATOR")+"+$)")),j=(e=(f=i).$find,e.$$p=(g=function(a){g.$$s||this;return null==a&&(a=d),a["$=~"](new RegExp("^"+b))},g.$$s=h,g),e).call(f)},b.$$proto.$join=function(a){return a=e.call(arguments,0),a.$join(c.get("SEPARATOR")).$gsub(new RegExp(""+c.get("SEPARATOR")+"+"),c.get("SEPARATOR"))},b.$$proto.$split=function(a){return a.$split(c.get("SEPARATOR"))},d&&"split"}(i.$singleton_class())}(b,c.get("IO"))},function(a){a.dynamic_require_severity="warning";var b=a.top;a.nil,a.breaker,a.slice;return a.add_stubs(["$require"]),b.$require("corelib/runtime"),b.$require("corelib/helpers"),b.$require("corelib/module"),b.$require("corelib/class"),b.$require("corelib/basic_object"),b.$require("corelib/kernel"),b.$require("corelib/nil_class"),b.$require("corelib/boolean"),b.$require("corelib/error"),b.$require("corelib/regexp"),b.$require("corelib/comparable"),b.$require("corelib/enumerable"),b.$require("corelib/enumerator"),b.$require("corelib/array"),b.$require("corelib/array/inheritance"),b.$require("corelib/hash"),b.$require("corelib/string"),b.$require("corelib/string/inheritance"),b.$require("corelib/match_data"),b.$require("corelib/numeric"),b.$require("corelib/complex"),b.$require("corelib/rational"),b.$require("corelib/proc"),b.$require("corelib/method"),b.$require("corelib/range"),b.$require("corelib/time"),b.$require("corelib/struct"),b.$require("corelib/io"),b.$require("corelib/main"),b.$require("corelib/variables"),b.$require("corelib/dir"),b.$require("corelib/file")}(Opal),Opal.modules["corelib/comparable"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="ignore";var d=a.top,e=a.nil,f=(a.breaker,a.slice,a.module);return function(d){var g=f(d,"Comparable"),h=(g.$$proto,g.$$scope);a.defs(g,"$normalize",function(a){var d;return(d=h.get("Integer")["$==="](a))===e||d.$$is_boolean&&1!=d?b(a,0)?1:c(a,0)?-1:0:a}),a.defn(g,"$==",function(b){var c,d=this,f=e;try{return(c=d["$equal?"](b))===e||c.$$is_boolean&&1!=c?(c=f=d["$<=>"](b))===e||c.$$is_boolean&&1!=c?!1:0==h.get("Comparable").$normalize(f):!0}catch(g){if(a.rescue(g,[h.get("StandardError")]))return!1;throw g}}),a.defn(g,"$>",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)>0}),a.defn(g,"$>=",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)>=0}),a.defn(g,"$<",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)<0}),a.defn(g,"$<=",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)<=0}),a.defn(g,"$between?",function(a,d){var e=this;return c(e,a)?!1:b(e,d)?!1:!0})}(d)},Opal.modules["corelib/string"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var d=a.top,e=a,f=a.nil,g=a.breaker,h=a.slice,i=a.klass,j=a.gvars;return d.$require("corelib/comparable"),function(d,e){function k(){}function l(a){function b(a){var b,c,d,e,f,g,h="",i=a.length;for(b=0;i>b;b++)if(c=a.charAt(b),"-"===c&&b>0&&i-1>b&&!d){for(e=a.charCodeAt(b-1),f=a.charCodeAt(b+1),e>f&&v.$raise(x.get("ArgumentError"),'invalid range "'+e+"-"+f+'" in string transliteration'),g=e+1;f+1>g;g++)h+=String.fromCharCode(g);d=!0,b++}else d="\\"===c,h+=c;return h}function c(a,b){if(0===a.length)return b;var c,d,e="",f=a.length;for(c=0;f>c;c++)d=a.charAt(c),-1!==b.indexOf(d)&&(e+=d);return e}var d,e,f,g,h,i,j="",k="";for(d=0,e=a.length;e>d;d++)f=x.get("Opal").$coerce_to(a[d],x.get("String"),"to_str"),g="^"===f.charAt(0)&&f.length>1,f=b(g?f.slice(1):f),g?k=c(k,f):j=c(j,f);if(j.length>0&&k.length>0){for(i="",d=0,e=j.length;e>d;d++)h=j.charAt(d),-1===k.indexOf(h)&&(i+=h);j=i,k=""}return j.length>0?"["+x.get("Regexp").$escape(j)+"]":k.length>0?"[^"+x.get("Regexp").$escape(k)+"]":null}var m,n,o,p,q,r,s,t,u,v=k=i(d,e,"String",k),w=v.$$proto,x=v.$$scope;w.length=f,v.$include(x.get("Comparable")),w.$$is_string=!0,w.$__id__=function(){var a=this;return a.toString()},a.defn(v,"$object_id",w.$__id__),a.defs(v,"$try_convert",function(a){return x.get("Opal")["$coerce_to?"](a,x.get("String"),"to_str")}),a.defs(v,"$new",function(a){return null==a&&(a=""),a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),new String(a)}),w.$initialize=function(a){var b=this;return void 0===a?b:b.$raise(x.get("NotImplementedError"),"Mutable strings are not supported in Opal.")},w["$%"]=function(a){var b,c=this;return(b=x.get("Array")["$==="](a))===f||b.$$is_boolean&&1!=b?c.$format(c,a):(b=c).$format.apply(b,[c].concat(a))},w["$*"]=function(a){var b=this;if(a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),0>a&&b.$raise(x.get("ArgumentError"),"negative argument"),0===a)return"";var c="",d=b.toString();for(d.length*a>=1<<28&&b.$raise(x.get("RangeError"),"multiply count must not overflow maximum string size");1===(1&a)&&(c+=d),a>>>=1,0!==a;)d+=d;return c},w["$+"]=function(a){var b=this;return a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),b+a.$to_s()},w["$<=>"]=function(a){var b,c=this;if((b=a["$respond_to?"]("to_str"))===f||b.$$is_boolean&&1!=b){var d=a["$<=>"](c);return d===f?f:d>0?-1:0>d?1:0}return a=a.$to_str().$to_s(),c>a?1:a>c?-1:0},w["$<<"]=function(a){var b=this;return b.$raise(x.get("NotImplementedError"),"#<< not supported. Mutable String methods are not supported in Opal.")},w["$=="]=function(a){var b=this;return a.$$is_string?b.toString()===a.toString():x.get("Opal")["$respond_to?"](a,"to_str")?a["$=="](b):!1},a.defn(v,"$eql?",w["$=="]),a.defn(v,"$===",w["$=="]),w["$=~"]=function(a){var b=this;return a.$$is_string&&b.$raise(x.get("TypeError"),"type mismatch: String given"),a["$=~"](b)},w["$[]"]=function(a,b){var c=this,d=c.length;if(a.$$is_range){var e=a.exclude,b=x.get("Opal").$coerce_to(a.end,x.get("Integer"),"to_int"),a=x.get("Opal").$coerce_to(a.begin,x.get("Integer"),"to_int");return Math.abs(a)>d?f:(0>a&&(a+=d),0>b&&(b+=d),e||(b+=1),b-=a,0>b&&(b=0),c.substr(a,b))}if(a.$$is_string)return null!=b&&c.$raise(x.get("TypeError")),-1!==c.indexOf(a)?a:f;if(a.$$is_regexp){var g=c.match(a);return null===g?(j["~"]=f,f):(j["~"]=x.get("MatchData").$new(a,g),null==b?g[0]:(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b&&-b<g.length?g[b+=g.length]:b>=0&&b<g.length?g[b]:f))}return a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),0>a&&(a+=d),null==b?a>=d||0>a?f:c.substr(a,1):(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b?f:a>d||0>a?f:c.substr(a,b))},w.$capitalize=function(){var a=this;return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()},a.defn(v,"$capitalize!",w["$<<"]),w.$casecmp=function(a){var b=this;a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s();var c=/^[\x00-\x7F]*$/;return c.test(b)&&c.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase()),b["$<=>"](a)},w.$center=function(a,d){var e,g=this;if(null==d&&(d=" "),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),d=x.get("Opal").$coerce_to(d,x.get("String"),"to_str").$to_s(),(e=d["$empty?"]())===f||e.$$is_boolean&&1!=e||g.$raise(x.get("ArgumentError"),"zero width padding"),(e=a<=g.length)!==f&&(!e.$$is_boolean||1==e))return g;var h=g.$ljust(b(c(a,g.length),2).$ceil(),d),i=g.$rjust(b(c(a,g.length),2).$floor(),d);return i+h.slice(g.length)},w.$chars=m=function(){var a,b,c=this,d=m.$$p,e=d||f;return m.$$p=null,e===!1||e===f?c.$each_char().$to_a():(a=(b=c).$each_char,a.$$p=e.$to_proc(),a).call(b)},w.$chomp=function(a){var b,c=this;if(null==j["/"]&&(j["/"]=f),null==a&&(a=j["/"]),(b=a===f||0===c.length)!==f&&(!b.$$is_boolean||1==b))return c;if(a=x.get("Opal")["$coerce_to!"](a,x.get("String"),"to_str").$to_s(),"\n"===a)return c.replace(/\r?\n?$/,"");if(""===a)return c.replace(/(\r?\n)+$/,"");if(c.length>a.length){var d=c.substr(c.length-a.length,a.length);if(d===a)return c.substr(0,c.length-a.length)}return c},a.defn(v,"$chomp!",w["$<<"]),w.$chop=function(){var a=this,b=a.length;return 1>=b?"":"\n"===a.charAt(b-1)&&"\r"===a.charAt(b-2)?a.substr(0,b-2):a.substr(0,b-1)},a.defn(v,"$chop!",w["$<<"]),w.$chr=function(){var a=this;return a.charAt(0)},w.$clone=function(){var a=this,b=f;return b=a.slice(),b.$initialize_clone(a),b},w.$dup=function(){var a=this,b=f;return b=a.slice(),b.$initialize_dup(a),b},w.$count=function(a){var b=this;a=h.call(arguments,0),0===a.length&&b.$raise(x.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var c=l(a);return null===c?0:b.length-b.replace(new RegExp(c,"g"),"").length},w.$delete=function(a){var b=this;a=h.call(arguments,0),0===a.length&&b.$raise(x.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var c=l(a);return null===c?b:b.replace(new RegExp(c,"g"),"")},a.defn(v,"$dup",w.$clone),w.$downcase=function(){var a=this;return a.toLowerCase()},a.defn(v,"$downcase!",w["$<<"]),w.$each_char=n=function(){var b,c=this,d=n.$$p,e=d||f;if(n.$$p=null,e===f)return c.$enum_for("each_char");for(var h=0,i=c.length;i>h;h++)(b=a.yield1(e,c.charAt(h)))===g?g.$v:b;return c},w.$each_line=o=function(b){var c,d=this,e=o.$$p,h=e||f;if(null==j["/"]&&(j["/"]=f),null==b&&(b=j["/"]),o.$$p=null,h===f)return d.$enum_for("each_line",b);if(b===f)return(c=a.yield1(h,d))===g?g.$v:c,d;if(b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str"),0===b.length){for(var i=d.split(/(\n{2,})/),k=0,l=i.length;l>k;k+=2)(i[k]||i[k+1])&&((c=a.yield1(h,(i[k]||"")+(i[k+1]||"")))===g?g.$v:c);return d}for(var m=d.$chomp(b),n=d.length!=m.length,p=m.split(b),k=0,q=p.length;q>k;k++)q-1>k||n?(c=a.yield1(h,p[k]+b))===g?g.$v:c:(c=a.yield1(h,p[k]))===g?g.$v:c;return d},w["$empty?"]=function(){var a=this;return 0===a.length},w["$end_with?"]=function(a){var b=this;a=h.call(arguments,0);for(var c=0,d=a.length;d>c;c++){var e=x.get("Opal").$coerce_to(a[c],x.get("String"),"to_str").$to_s();if(b.length>=e.length&&b.substr(b.length-e.length,e.length)==e)return!0}return!1},a.defn(v,"$eql?",w["$=="]),a.defn(v,"$equal?",w["$==="]),w.$gsub=p=function(a,b){var c=this,d=p.$$p,e=d||f;p.$$p=null;var g,h,i="",k=f,l=0;for(a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(g=a.exec(c),null===g){j["~"]=f,i+=c.slice(l);break}k=x.get("MatchData").$new(a,g),void 0===b?(e===f&&c.$raise(x.get("ArgumentError"),"wrong number of arguments (1 for 2)"),h=e(g[0])):b.$$is_hash?h=b["$[]"](g[0]).$to_s():(b.$$is_string||(b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str")),h=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,d){if(b.length%2===0)return a;switch(d){case"+":for(var e=g.length-1;e>0;e--)if(void 0!==g[e])return b.slice(1)+g[e];return"";case"&":return b.slice(1)+g[0];case"`":return b.slice(1)+c.slice(0,g.index);case"'":return b.slice(1)+c.slice(g.index+g[0].length);default:return b.slice(1)+(g[d]||"")}}).replace(/\\\\/g,"\\")),a.lastIndex===g.index?(i+=h+c.slice(l,g.index+1),a.lastIndex+=1):i+=c.slice(l,g.index)+h,l=a.lastIndex}return j["~"]=k,i},a.defn(v,"$gsub!",w["$<<"]),w.$hash=function(){var a=this;return a.toString()},w.$hex=function(){var a=this;return a.$to_i(16)},w["$include?"]=function(a){var b,c=this;return a.$$is_string?-1!==c.indexOf(a):(((b=a["$respond_to?"]("to_str"))===f||b.$$is_boolean&&1!=b)&&c.$raise(x.get("TypeError"),"no implicit conversion of "+a.$class()+" into String"),-1!==c.indexOf(a.$to_str()))},w.$index=function(a,b){var c,d,e,g=this;if(void 0===b)b=0;else if(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b&&(b+=g.length,0>b))return f;if(a.$$is_regexp)for(e=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){if(d=e.exec(g),null===d){j["~"]=f,c=-1;break}if(d.index>=b){j["~"]=x.get("MatchData").$new(e,d),c=d.index;break}e.lastIndex=d.index+1}else a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),c=0===a.length&&b>g.length?-1:g.indexOf(a,b);return-1===c?f:c},w.$inspect=function(){var a=this,b=/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"":"\\a","":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","":"\\v",'"':'\\"',"\\":"\\\\"},d=a.replace(b,function(a){return c[a]||"\\u"+("0000"+a.charCodeAt(0).toString(16).toUpperCase()).slice(-4)});return'"'+d.replace(/\#[\$\@\{]/g,"\\$&")+'"'},w.$intern=function(){var a=this;return a},w.$lines=q=function(a){var b,c,d=this,e=q.$$p,g=e||f,h=f;return null==j["/"]&&(j["/"]=f),null==a&&(a=j["/"]),q.$$p=null,h=(b=(c=d).$each_line,b.$$p=g.$to_proc(),b).call(c,a),g!==!1&&g!==f?d:h.$to_a()},w.$length=function(){var a=this;return a.length},w.$ljust=function(a,b){var c,d=this;if(null==b&&(b=" "),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),(c=b["$empty?"]())===f||c.$$is_boolean&&1!=c||d.$raise(x.get("ArgumentError"),"zero width padding"),(c=a<=d.length)!==f&&(!c.$$is_boolean||1==c))return d;var e=-1,g="";for(a-=d.length;++e<a;)g+=b;return d+g.slice(0,a)},w.$lstrip=function(){var a=this;return a.replace(/^\s*/,"")},a.defn(v,"$lstrip!",w["$<<"]),w.$match=r=function(a,b){var c,d,e=this,g=r.$$p,h=g||f;return r.$$p=null,(c=(d=x.get("String")["$==="](a))!==!1&&d!==f?d:a["$respond_to?"]("to_str"))===f||c.$$is_boolean&&1!=c||(a=x.get("Regexp").$new(a.$to_str())),((c=x.get("Regexp")["$==="](a))===f||c.$$is_boolean&&1!=c)&&e.$raise(x.get("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)"),(c=(d=a).$match,c.$$p=h.$to_proc(),c).call(d,e,b)},w.$next=function(){var a=this,b=a.length;if(0===b)return"";for(var c,d=a,e=a.search(/[a-zA-Z0-9]/),f=!1;b--;){if(c=a.charCodeAt(b),c>=48&&57>=c||c>=65&&90>=c||c>=97&&122>=c)switch(c){case 57:f=!0,c=48;break;case 90:f=!0,c=65;break;case 122:f=!0,c=97;break;default:f=!1,c+=1}else-1===e?255===c?(f=!0,c=0):(f=!1,c+=1):f=!0;if(d=d.slice(0,b)+String.fromCharCode(c)+d.slice(b+1),f&&(0===b||b===e)){switch(c){case 65:break;case 97:break;default:c+=1}d=0===b?String.fromCharCode(c)+d:d.slice(0,b)+String.fromCharCode(c)+d.slice(b),f=!1}if(!f)break}return d},a.defn(v,"$next!",w["$<<"]),w.$oct=function(){var a,b=this,c=b,d=8;return/^\s*_/.test(c)?0:(c=c.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,b,c,e){switch(e.charAt(0)){case"+":case"-":return a;case"0":if("x"===e.charAt(1)&&"0x"===c)return a}switch(c){case"0b":d=2;break;case"0":case"0o":d=8;break;case"0d":d=10;break;case"0x":d=16}return b+e}),a=parseInt(c.replace(/_(?!_)/g,""),d),isNaN(a)?0:a)},w.$ord=function(){var a=this;return a.charCodeAt(0)},w.$partition=function(a){var b,c,d=this;return a.$$is_regexp?(c=a.exec(d),null===c?b=-1:(x.get("MatchData").$new(a,c),a=c[0],b=c.index)):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),b=d.indexOf(a)),-1===b?[d,"",""]:[d.slice(0,b),d.slice(b,b+a.length),d.slice(b+a.length)]},w.$reverse=function(){var a=this;return a.split("").reverse().join("")},a.defn(v,"$reverse!",w["$<<"]),w.$rindex=function(a,b){var c,d,e,g,h=this;if(void 0===b)b=h.length;else if(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b&&(b+=h.length,0>b))return f;if(a.$$is_regexp){for(d=null,e=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){if(g=e.exec(h),null===g||g.index>b)break;d=g,e.lastIndex=d.index+1}null===d?(j["~"]=f,c=-1):(x.get("MatchData").$new(e,d),c=d.index)}else a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),c=h.lastIndexOf(a,b);return-1===c?f:c},w.$rjust=function(a,b){var c,d=this;if(null==b&&(b=" "),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),(c=b["$empty?"]())===f||c.$$is_boolean&&1!=c||d.$raise(x.get("ArgumentError"),"zero width padding"),(c=a<=d.length)!==f&&(!c.$$is_boolean||1==c))return d;var e=Math.floor(a-d.length),g=Math.floor(e/b.length),h=Array(g+1).join(b),i=e-h.length;return h+b.slice(0,i)+d},w.$rpartition=function(a){var b,c,d,e,f=this;if(a.$$is_regexp){for(c=null,d=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){if(e=d.exec(f),null===e)break;c=e,d.lastIndex=c.index+1}null===c?b=-1:(x.get("MatchData").$new(d,c),a=c[0],b=c.index)}else a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),b=f.lastIndexOf(a);return-1===b?["","",f]:[f.slice(0,b),f.slice(b,b+a.length),f.slice(b+a.length)]},w.$rstrip=function(){var a=this;return a.replace(/[\s\u0000]*$/,"")},w.$scan=s=function(a){var b=this,c=s.$$p,d=c||f;s.$$p=null;var e,g=[],h=f;for(a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(e=a.exec(b));)h=x.get("MatchData").$new(a,e),
d===f?1==e.length?g.push(e[0]):g.push(h.$captures()):1==e.length?d(e[0]):d.call(b,h.$captures()),a.lastIndex===e.index&&(a.lastIndex+=1);return j["~"]=h,d!==f?b:g},a.defn(v,"$size",w.$length),a.defn(v,"$slice",w["$[]"]),a.defn(v,"$slice!",w["$<<"]),w.$split=function(a,b){var c,d=this;if(null==j[";"]&&(j[";"]=f),0===d.length)return[];if(void 0===b)b=0;else if(b=x.get("Opal")["$coerce_to!"](b,x.get("Integer"),"to_int"),1===b)return[d];(void 0===a||a===f)&&(a=(c=j[";"])!==!1&&c!==f?c:" ");var e,g,h=[],i=d.toString(),k=0;if(a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s()," "===a?(a=/\s+/gm,i=i.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),h=i.split(a),1===h.length&&h[0]===i)return h;for(;-1!==(g=h.indexOf(void 0));)h.splice(g,1);if(0===b){for(;""===h[h.length-1];)h.length-=1;return h}if(e=a.exec(i),0>b){if(null!==e&&""===e[0]&&-1===a.source.indexOf("(?="))for(g=0;g<e.length;g++)h.push("");return h}if(null!==e&&""===e[0])return h.splice(b-1,h.length-1,h.slice(b-1).join("")),h;for(g=0;null!==e&&(g++,k=a.lastIndex,g+1!==b);)e=a.exec(i);return h.splice(b-1,h.length-1,i.slice(k)),h},w.$squeeze=function(a){var b=this;if(a=h.call(arguments,0),0===a.length)return b.replace(/(.)\1+/g,"$1");var c=l(a);return null===c?b:b.replace(new RegExp("("+c+")\\1+","g"),"$1")},a.defn(v,"$squeeze!",w["$<<"]),w["$start_with?"]=function(a){var b=this;a=h.call(arguments,0);for(var c=0,d=a.length;d>c;c++){var e=x.get("Opal").$coerce_to(a[c],x.get("String"),"to_str").$to_s();if(0===b.indexOf(e))return!0}return!1},w.$strip=function(){var a=this;return a.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},a.defn(v,"$strip!",w["$<<"]),w.$sub=t=function(a,b){var c=this,d=t.$$p,e=d||f;t.$$p=null,a.$$is_regexp||(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var g=a.exec(c);return null===g?(j["~"]=f,c.toString()):(x.get("MatchData").$new(a,g),void 0===b?(e===f&&c.$raise(x.get("ArgumentError"),"wrong number of arguments (1 for 2)"),c.slice(0,g.index)+e(g[0])+c.slice(g.index+g[0].length)):b.$$is_hash?c.slice(0,g.index)+b["$[]"](g[0]).$to_s()+c.slice(g.index+g[0].length):(b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str"),b=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,d){if(b.length%2===0)return a;switch(d){case"+":for(var e=g.length-1;e>0;e--)if(void 0!==g[e])return b.slice(1)+g[e];return"";case"&":return b.slice(1)+g[0];case"`":return b.slice(1)+c.slice(0,g.index);case"'":return b.slice(1)+c.slice(g.index+g[0].length);default:return b.slice(1)+(g[d]||"")}}).replace(/\\\\/g,"\\"),c.slice(0,g.index)+b+c.slice(g.index+g[0].length)))},a.defn(v,"$sub!",w["$<<"]),a.defn(v,"$succ",w.$next),a.defn(v,"$succ!",w["$<<"]),w.$sum=function(a){var b=this;null==a&&(a=16),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int");for(var c=0,d=b.length,e=0;d>e;e++)c+=b.charCodeAt(e);return 0>=a?c:c&Math.pow(2,a)-1},w.$swapcase=function(){var a=this,b=a.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return a.constructor===String?b:a.$class().$new(b)},a.defn(v,"$swapcase!",w["$<<"]),w.$to_f=function(){var a=this;if("_"===a.charAt(0))return 0;var b=parseFloat(a.replace(/_/g,""));return isNaN(b)||b==1/0||b==-(1/0)?0:b},w.$to_i=function(a){var b=this;null==a&&(a=10);var c,d=b.toLowerCase(),e=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int");return(1===e||0>e||e>36)&&b.$raise(x.get("ArgumentError"),"invalid radix "+e),/^\s*_/.test(d)?0:(d=d.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,c,d){switch(d.charAt(0)){case"+":case"-":return a;case"0":if("x"===d.charAt(1)&&"0x"===c&&(0===e||16===e))return a}switch(c){case"0b":if(0===e||2===e)return e=2,b+d;break;case"0":case"0o":if(0===e||8===e)return e=8,b+d;break;case"0d":if(0===e||10===e)return e=10,b+d;break;case"0x":if(0===e||16===e)return e=16,b+d}return a}),c=parseInt(d.replace(/_(?!_)/g,""),e),isNaN(c)?0:c)},w.$to_proc=function(){var a,b,c,d=this,e=f;return e=d,(a=(b=d).$proc,a.$$p=(c=function(a){var b,d,g,i=c.$$s||this,j=f;return a=h.call(arguments,0),b=c.$$p||f,c.$$p=null,(d=a["$empty?"]())===f||d.$$is_boolean&&1!=d||i.$raise(x.get("ArgumentError"),"no receiver given"),j=a.$shift(),(d=(g=j).$__send__,d.$$p=b.$to_proc(),d).apply(g,[e].concat(a))},c.$$s=d,c),a).call(b)},w.$to_s=function(){var a=this;return a.toString()},a.defn(v,"$to_str",w.$to_s),a.defn(v,"$to_sym",w.$intern),w.$tr=function(a,b){var c=this;if(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s(),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),0==a.length||a===b)return c;var d={},e=a.split(""),f=e.length,g=b.split(""),h=g.length,i=!1,j=null;"^"===e[0]&&e.length>1&&(i=!0,e.shift(),j=g[h-1],f-=1);for(var k=[],l=null,m=!1,n=0;f>n;n++){var o=e[n];if(null==l)l=o,k.push(o);else if("-"===o)"-"===l?(k.push("-"),k.push("-")):n==f-1?k.push("-"):m=!0;else if(m){var p=l.charCodeAt(0),q=o.charCodeAt(0);p>q&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(q)+'" in string transliteration');for(var r=p+1;q>r;r++)k.push(String.fromCharCode(r));k.push(o),m=null,l=null}else k.push(o)}if(e=k,f=e.length,i)for(var n=0;f>n;n++)d[e[n]]=!0;else{if(h>0){for(var s=[],t=null,m=!1,n=0;h>n;n++){var o=g[n];if(null==l)l=o,s.push(o);else if("-"===o)"-"===t?(s.push("-"),s.push("-")):n==h-1?s.push("-"):m=!0;else if(m){var p=l.charCodeAt(0),q=o.charCodeAt(0);p>q&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(q)+'" in string transliteration');for(var r=p+1;q>r;r++)s.push(String.fromCharCode(r));s.push(o),m=null,l=null}else s.push(o)}g=s,h=g.length}var u=f-h;if(u>0)for(var v=h>0?g[h-1]:"",n=0;u>n;n++)g.push(v);for(var n=0;f>n;n++)d[e[n]]=g[n]}for(var w="",n=0,y=c.length;y>n;n++){var o=c.charAt(n),z=d[o];w+=i?null==z?j:o:null!=z?z:o}return w},a.defn(v,"$tr!",w["$<<"]),w.$tr_s=function(a,b){var c=this;if(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s(),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),0==a.length)return c;var d={},e=a.split(""),f=e.length,g=b.split(""),h=g.length,i=!1,j=null;"^"===e[0]&&e.length>1&&(i=!0,e.shift(),j=g[h-1],f-=1);for(var k=[],l=null,m=!1,n=0;f>n;n++){var o=e[n];if(null==l)l=o,k.push(o);else if("-"===o)"-"===l?(k.push("-"),k.push("-")):n==f-1?k.push("-"):m=!0;else if(m){var p=l.charCodeAt(0),q=o.charCodeAt(0);p>q&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(q)+'" in string transliteration');for(var r=p+1;q>r;r++)k.push(String.fromCharCode(r));k.push(o),m=null,l=null}else k.push(o)}if(e=k,f=e.length,i)for(var n=0;f>n;n++)d[e[n]]=!0;else{if(h>0){for(var s=[],t=null,m=!1,n=0;h>n;n++){var o=g[n];if(null==l)l=o,s.push(o);else if("-"===o)"-"===t?(s.push("-"),s.push("-")):n==h-1?s.push("-"):m=!0;else if(m){var p=l.charCodeAt(0),q=o.charCodeAt(0);p>q&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(q)+'" in string transliteration');for(var r=p+1;q>r;r++)s.push(String.fromCharCode(r));s.push(o),m=null,l=null}else s.push(o)}g=s,h=g.length}var u=f-h;if(u>0)for(var v=h>0?g[h-1]:"",n=0;u>n;n++)g.push(v);for(var n=0;f>n;n++)d[e[n]]=g[n]}for(var w="",y=null,n=0,z=c.length;z>n;n++){var o=c.charAt(n),A=d[o];i?null==A?null==y&&(w+=j,y=!0):(w+=o,y=null):null!=A?(null==y||y!==A)&&(w+=A,y=A):(w+=o,y=null)}return w},a.defn(v,"$tr_s!",w["$<<"]),w.$upcase=function(){var a=this;return a.toUpperCase()},a.defn(v,"$upcase!",w["$<<"]),w.$freeze=function(){var a=this;return a},w["$frozen?"]=function(){return!0},w.$upto=u=function(a,b){var c=this,d=u.$$p,e=d||f;if(null==b&&(b=!1),u.$$p=null,e===f)return c.$enum_for("upto",a,b);a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str");var g,h,i=c.toString();if(1===i.length&&1===a.length)for(g=i.charCodeAt(0),h=a.charCodeAt(0);h>=g&&(!b||g!==h);)e(String.fromCharCode(g)),g+=1;else if(parseInt(i).toString()===i&&parseInt(a).toString()===a)for(g=parseInt(i),h=parseInt(a);h>=g&&(!b||g!==h);)e(g.toString()),g+=1;else for(;i.length<=a.length&&a>=i&&(!b||i!==a);)e(i),i=i.$succ();return c}}(d,null),a.cdecl(e,"Symbol",e.get("String"))},Opal.modules.encoding=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var c,d,e,f,g,h,i,j=a.top,k=a,l=a.nil,m=a.breaker,n=(a.slice,a.klass),o=a.hash2;return j.$require("corelib/string"),function(c,d){function e(){}var f,g=e=n(c,d,"Encoding",e),h=g.$$proto,i=g.$$scope;return h.ascii=h.dummy=h.name=l,a.defs(g,"$register",f=function(a,c){var d,e,g,h,j=this,k=f.$$p,m=k||l,n=l,p=l;return null==c&&(c=o([],{})),f.$$p=null,n=b([a],(d=c["$[]"]("aliases"))!==!1&&d!==l?d:[]),p=(d=(e=i.get("Class")).$new,d.$$p=m.$to_proc(),d).call(e,j).$new(a,n,(d=c["$[]"]("ascii"))!==!1&&d!==l?d:!1,(d=c["$[]"]("dummy"))!==!1&&d!==l?d:!1),(d=(g=n).$each,d.$$p=(h=function(a){var b=h.$$s||this;return null==a&&(a=l),b.$const_set(a.$sub("-","_"),p)},h.$$s=j,h),d).call(g)}),a.defs(g,"$find",function(b){try{var c,d,e,f=this,g=l;return g=b.$upcase(),(c=f["$==="](g))===l||c.$$is_boolean&&1!=c?((c=(d=f.$constants()).$each,c.$$p=(e=function(b){var c,d,f=e.$$s||this,h=l;return null==b&&(b=l),h=f.$const_get(b),(c=(d=h.$name()["$=="](g))!==!1&&d!==l?d:h.$names()["$include?"](g))===l||c.$$is_boolean&&1!=c?l:void a.ret(h)},e.$$s=f,e),c).call(d),f.$raise(i.get("ArgumentError"),"unknown encoding name - "+b)):g}catch(h){if(h===a.returner)return h.$v;throw h}}),function(a){a.$$scope,a.$$proto;return a.$attr_accessor("default_external")}(g.$singleton_class()),g.$attr_reader("name","names"),h.$initialize=function(a,b,c,d){var e=this;return e.name=a,e.names=b,e.ascii=c,e.dummy=d},h["$ascii_compatible?"]=function(){var a=this;return a.ascii},h["$dummy?"]=function(){var a=this;return a.dummy},h.$to_s=function(){var a=this;return a.name},h.$inspect=function(){var a,b=this;return"#<Encoding:"+b.name+function(){return(a=b.dummy)===l||a.$$is_boolean&&1!=a?l:" (dummy)"}()+">"},h.$each_byte=function(){var a=this;return a.$raise(i.get("NotImplementedError"))},h.$getbyte=function(){var a=this;return a.$raise(i.get("NotImplementedError"))},h.$bytesize=function(){var a=this;return a.$raise(i.get("NotImplementedError"))},function(a,b){function c(){}var d=c=n(a,b,"EncodingError",c);d.$$proto,d.$$scope;return l}(g,i.get("StandardError")),function(a,b){function c(){}var d=c=n(a,b,"CompatibilityError",c);d.$$proto,d.$$scope;return l}(g,i.get("EncodingError"))}(j,null),(c=(d=k.get("Encoding")).$register,c.$$p=(e=function(){var b,c=e.$$s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b.$$p,f=e||l;b.$$p=null;for(var g=0,h=c.length;h>g;g++){var i=c.charCodeAt(g);if(127>=i)(d=a.yield1(f,i))===m?m.$v:d;else for(var j=encodeURIComponent(c.charAt(g)).substr(1).split("%"),k=0,n=j.length;n>k;k++)(d=a.yield1(f,parseInt(j[k],16)))===m?m.$v:d}}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),l&&"bytesize"},e.$$s=j,e),c).call(d,"UTF-8",o(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})),(c=(f=k.get("Encoding")).$register,c.$$p=(g=function(){var b,c=g.$$s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b.$$p,f=e||l;b.$$p=null;for(var g=0,h=c.length;h>g;g++){var i=c.charCodeAt(g);(d=a.yield1(f,255&i))===m?m.$v:d,(d=a.yield1(f,i>>8))===m?m.$v:d}}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),l&&"bytesize"},g.$$s=j,g),c).call(f,"UTF-16LE"),(c=(h=k.get("Encoding")).$register,c.$$p=(i=function(){var b,c=i.$$s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b.$$p,f=e||l;b.$$p=null;for(var g=0,h=c.length;h>g;g++)(d=a.yield1(f,255&c.charCodeAt(g)))===m?m.$v:d}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),l&&"bytesize"},i.$$s=j,i),c).call(h,"ASCII-8BIT",o(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})),function(a,b){function c(){}var d,e=c=n(a,b,"String",c),f=e.$$proto,g=e.$$scope;return f.encoding=l,f.encoding=g.get("Encoding").$$scope.get("UTF_16LE"),f.$bytes=function(){var a=this;return a.$each_byte().$to_a()},f.$bytesize=function(){var a=this;return a.encoding.$bytesize(a)},f.$each_byte=d=function(){var a,b,c=this,e=d.$$p,f=e||l;return d.$$p=null,f===l?c.$enum_for("each_byte"):((a=(b=c.encoding).$each_byte,a.$$p=f.$to_proc(),a).call(b,c),c)},f.$encoding=function(){var a=this;return a.encoding},f.$force_encoding=function(a){var b=this;if(a=g.get("Encoding").$find(a),a["$=="](b.encoding))return b;var c=new String(b);return c.encoding=a,c},f.$getbyte=function(a){var b=this;return b.encoding.$getbyte(b,a)},l&&"getbyte"}(j,null)},Opal.modules.strscan=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g=f=d(b,e,"StringScanner",f),h=g.$$proto;g.$$scope;return h.pos=h.string=h.working=h.prev_pos=h.matched=h.match=c,g.$attr_reader("pos"),g.$attr_reader("matched"),h.$initialize=function(a){var b=this;return b.string=a,b.pos=0,b.matched=c,b.working=a,b.match=[]},g.$attr_reader("string"),h["$beginning_of_line?"]=function(){var a=this;return 0===a.pos||"\n"===a.string.charAt(a.pos-1)},a.defn(g,"$bol?",h["$beginning_of_line?"]),h.$scan=function(a){var b=this,a=new RegExp("^"+a.toString().substring(1,a.toString().length-1)),d=a.exec(b.working);return null==d?b.matched=c:"object"==typeof d?(b.prev_pos=b.pos,b.pos+=d[0].length,b.working=b.working.substring(d[0].length),b.matched=d[0],b.match=d,d[0]):"string"==typeof d?(b.pos+=d.length,b.working=b.working.substring(d.length),d):c},h["$[]"]=function(a){var b=this,d=b.match;return 0>a&&(a+=d.length),0>a||a>=d.length?c:null==d[a]?c:d[a]},h.$check=function(a){var b=this,d=new RegExp("^"+a.toString().substring(1,a.toString().length-1)),e=d.exec(b.working);return null==e?b.matched=c:b.matched=e[0]},h.$peek=function(a){var b=this;return b.working.substring(0,a)},h["$eos?"]=function(){var a=this;return 0===a.working.length},h.$skip=function(a){var b=this;a=new RegExp("^"+a.source);var d=a.exec(b.working);if(null==d)return b.matched=c;var e=d[0],f=e.length;return b.matched=e,b.prev_pos=b.pos,b.pos+=f,b.working=b.working.substring(f),f},h.$get_byte=function(){var a=this,b=c;return a.pos<a.string.length?(a.prev_pos=a.pos,a.pos+=1,b=a.matched=a.working.substring(0,1),a.working=a.working.substring(1)):a.matched=c,b},a.defn(g,"$getch",h.$get_byte),h["$pos="]=function(a){var b=this;return 0>a&&(a+=b.string.$length()),b.pos=a,b.working=b.string.slice(a)},h.$reset=function(){var a=this;return a.working=a.string,a.matched=c,a.pos=0},h.$rest=function(){var a=this;return a.working},h["$rest?"]=function(){var a=this;return 0!==a.working.length},h.$terminate=function(){var a,b,d=this;return d.match=c,a=[d.string.$length()],b=d,b["$pos="].apply(b,a),a[a.length-1]},h.$unscan=function(){var a=this;return a.pos=a.prev_pos,a.prev_pos=c,a.match=c,a},c&&"unscan"}(b,null)},Opal.modules["asciidoctor/opal_ext/comparable"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass),e=a.module;return function(b,e){function f(){}var g=f=d(b,e,"BasicObject",f);g.$$proto,g.$$scope;return a.defn(g,"$!=",function(a){var b=this;return b!==a}),c&&"!="}(b,null),function(b){var d=e(b,"Comparable"),f=(d.$$proto,d.$$scope);a.defn(d,"$==",function(b){var d,e=this,g=c;try{return(d=e["$equal?"](b))===c||d.$$is_boolean&&1!=d?(d=g=e["$<=>"](b))===c||d.$$is_boolean&&1!=d?!1:0==g:!0}catch(h){if(a.rescue(h,[f.get("StandardError")]))return!1;throw h}}),a.defn(d,"$!=",function(b){var d,e=this,g=c;try{return(d=e["$equal?"](b))===c||d.$$is_boolean&&1!=d?(d=g=e["$<=>"](b))===c||d.$$is_boolean&&1!=d?!0:0!=g:!1}catch(h){if(a.rescue(h,[f.get("StandardError")]))return!0;throw h}}),a.defn(d,"$>",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),e>0}),a.defn(d,"$>=",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),e>=0}),a.defn(d,"$<",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),0>e}),a.defn(d,"$<=",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),0>=e})}(b)},Opal.modules["asciidoctor/opal_ext/dir"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g=f=d(b,e,"Dir",f),h=(g.$$proto,g.$$scope);return a.defs(g,"$pwd",function(){var a;return(a=h.get("ENV")["$[]"]("PWD"))!==!1&&a!==c?a:"."}),a.defs(g,"$getwd",function(){var a;return(a=h.get("ENV")["$[]"]("PWD"))!==!1&&a!==c?a:"."}),a.defs(g,"$home",function(){return h.get("ENV")["$[]"]("HOME")}),c&&"home"}(b,null)},Opal.modules["asciidoctor/opal_ext/error"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass);return function(a,b){function c(){}var f=c=e(a,b,"SecurityError",c);f.$$proto,f.$$scope;return d}(b,c.get("Exception"))},Opal.modules["asciidoctor/opal_ext/file"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var e=a.top,f=a.nil,g=a.breaker,h=a.slice,i=a.klass,j=a.gvars,k=a.range;return function(b,c){function d(){}var e,j=d=i(b,c,"Kernel",d),k=j.$$proto,l=j.$$scope;return k.$open=e=function(b,c){var d,i,j=e.$$p,k=j||f,m=f;return c=h.call(arguments,1),e.$$p=null,m=(d=l.get("File")).$new.apply(d,[b].concat(c)),k!==f?(i=a.yield1(k,m),i===g?i:i):m},f&&"open"}(e,null),function(e,l){function m(){}var n,o=m=i(e,l,"File",m),p=o.$$proto,q=o.$$scope;return p.eof=p.path=f,a.cdecl(q,"SEPARATOR","/"),a.cdecl(q,"ALT_SEPARATOR",f),o.$attr_reader("eof"),o.$attr_reader("lineno"),o.$attr_reader("path"),p.$initialize=function(a,b){var c=this;return null==b&&(b="r"),c.path=a,c.contents=f,c.eof=!1,c.lineno=0},p.$read=function(){var a,b=this,c=f;return(a=b.eof)===f||a.$$is_boolean&&1!=a?(c=q.get("File").$read(b.path),b.eof=!0,b.lineno=c.$size(),c):""},p.$each_line=n=function(b){var c,d=this,e=n.$$p,h=e||f,i=f;if(null==j["/"]&&(j["/"]=f),null==b&&(b=j["/"]),n.$$p=null,(c=d.eof)!==f&&(!c.$$is_boolean||1==c))return function(){return h!==f?d:[].$to_enum()}();if(h!==f){i=q.get("File").$read(d.path),d.eof=!1,d.lineno=0;for(var k=i.$chomp(),l=i.length!=k.length,m=k.split(b),o=0,p=m.length;p>o;o++)d.lineno+=1,p-1>o||l?(c=a.yield1(h,m[o]+b))===g?g.$v:c:(c=a.yield1(h,m[o]))===g?g.$v:c;return d.eof=!0,d}return d.$read().$each_line()},a.defs(o,"$expand_path",function(a){return a}),a.defs(o,"$join",function(a){return a=h.call(arguments,0),b(a,q.get("SEPARATOR"))}),a.defs(o,"$basename",function(a){var b,d=f;return(b=d=a.$rindex(q.get("SEPARATOR")))===f||b.$$is_boolean&&1!=b?a:a["$[]"](k(c(d,1),-1,!1))}),a.defs(o,"$dirname",function(a){var b,c=f;return(b=c=a.$rindex(q.get("SEPARATOR")))===f||b.$$is_boolean&&1!=b?".":a["$[]"](k(0,d(c,1),!1))}),a.defs(o,"$extname",function(a){var b,d=f;return(b=a["$nil_or_empty?"]())===f||b.$$is_boolean&&1!=b?(d=a["$[]"](k(1,-1,!1)).$rindex("."),(b=d["$nil?"]())===f||b.$$is_boolean&&1!=b?a["$[]"](k(c(d,1),-1,!1)):""):""}),a.defs(o,"$file?",function(a){return!0}),a.defs(o,"$readable?",function(a){return!0}),a.defs(o,"$read",function(a){var b=f;return function(){if(b=q.get("JAVASCRIPT_PLATFORM"),"node"["$==="](b))return require("fs").readFileSync(a,"utf8");if("java-nashorn"["$==="](b)){var c=Java.type("java.nio.file.Paths"),d=Java.type("java.nio.file.Files"),e=d.readAllLines(c.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8),f=[];return e.forEach(function(a){f.push(a)}),f.join("\n")}if("browser"["$==="](b)){var f="",g=-1;try{var h=new XMLHttpRequest;h.open("GET",a,!1),h.addEventListener("load",function(){g=this.status,(0==g||200==g)&&(f=this.responseText)}),h.overrideMimeType("text/plain"),h.send()}catch(i){g=0}if(404==g||0==g&&""==f)throw q.get("IOError").$new("No such file or directory: "+a);return f}return"standalone"["$==="](b)?read(a):""}()}),f&&"read"}(e,null),function(b,c){function d(){}var e=d=i(b,c,"IO",d),g=(e.$$proto,e.$$scope);return a.defs(e,"$read",function(a){return g.get("File").$read(a)}),f&&"read"}(e,null)},Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(a,b){function e(){}var f=e=d(a,b,"MatchData",e),g=f.$$proto;f.$$scope;return g.matches=c,g["$[]="]=function(a,b){var c=this;return c.matches["$[]="](a,b)},c&&"[]="}(b,null)},Opal.modules["asciidoctor/opal_ext"]=function(a){a.dynamic_require_severity="ignore";var b,c=a.top,d=a;a.nil,a.breaker,a.slice;return b="undefined"!=typeof module&&module.exports?"node":"undefined"!=typeof XMLHttpRequest?"browser":"undefined"!=typeof Java&&Java.type?"java-nashorn":"undefined"!=typeof java?"java-rhino":"standalone",a.cdecl(d,"JAVASCRIPT_PLATFORM",b),c.$require("encoding"),c.$require("strscan"),c.$require("asciidoctor/opal_ext/comparable"),c.$require("asciidoctor/opal_ext/dir"),c.$require("asciidoctor/opal_ext/error"),c.$require("asciidoctor/opal_ext/file"),c.$require("asciidoctor/opal_ext/match_data")},Opal.modules.set=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass,g=a.module;return function(b,g){function h(){}var i,j,k,l,m,n=h=f(b,g,"Set",h),o=n.$$proto,p=n.$$scope;return o.hash=c,n.$include(p.get("Enumerable")),a.defs(n,"$[]",function(a){var b=this;return a=e.call(arguments,0),b.$new(a)}),o.$initialize=i=function(a){var b,d,e,f=this,g=i.$$p,h=g||c;return null==a&&(a=c),i.$$p=null,f.hash=p.get("Hash").$new(),(b=a["$nil?"]())===c||b.$$is_boolean&&1!=b?(((b=p.get("Enumerable")["$==="](a))===c||b.$$is_boolean&&1!=b)&&f.$raise(p.get("ArgumentError"),"value must be enumerable"),h!==!1&&h!==c?(b=(d=a).$each,b.$$p=(e=function(a){var b=e.$$s||this;return null==a&&(a=c),b.$add(h.$call(a))},e.$$s=f,e),b).call(d):f.$merge(a)):c},o.$dup=function(){var a=this,b=c;return b=a.$class().$new(),b.$merge(a)},o["$-"]=function(a){var b,d=this;return((b=a["$respond_to?"]("each"))===c||b.$$is_boolean&&1!=b)&&d.$raise(p.get("ArgumentError"),"value must be enumerable"),d.$dup().$subtract(a)},a.defn(n,"$difference",o["$-"]),o.$inspect=function(){var a=this;return"#<Set: {"+a.$to_a().$join(",")+"}>"},o["$=="]=function(a){var b,d,e,f=this;return(b=f["$equal?"](a))===c||b.$$is_boolean&&1!=b?(b=a["$instance_of?"](f.$class()))===c||b.$$is_boolean&&1!=b?(d=a["$is_a?"](p.get("Set")),(b=d!==!1&&d!==c?f.$size()["$=="](a.$size()):d)===c||b.$$is_boolean&&1!=b?!1:(b=(d=a)["$all?"],b.$$p=(e=function(a){var b=e.$$s||this;return null==b.hash&&(b.hash=c),null==a&&(a=c),b.hash["$include?"](a)},e.$$s=f,e),b).call(d)):f.hash["$=="](a.$instance_variable_get("@hash")):!0},o.$add=function(a){var b=this;return b.hash["$[]="](a,!0),b},a.defn(n,"$<<",o.$add),o.$classify=j=function(){var b,e,f,g,h,i=this,k=j.$$p,l=k||c,m=c;return j.$$p=null,l===c?i.$enum_for("classify"):(m=(b=(e=p.get("Hash")).$new,b.$$p=(f=function(a,b){var d=f.$$s||this;return null==a&&(a=c),null==b&&(b=c),a["$[]="](b,d.$class().$new())},f.$$s=i,f),b).call(e),(b=(g=i).$each,b.$$p=(h=function(b){var e;h.$$s||this;return null==b&&(b=c),m["$[]"]((e=a.yield1(l,b))===d?d.$v:e).$add(b)},h.$$s=i,h),b).call(g),m)},o["$collect!"]=k=function(){var b,e,f,g=this,h=k.$$p,i=h||c,j=c;return k.$$p=null,i===c?g.$enum_for("collect!"):(j=g.$class().$new(),(b=(e=g).$each,b.$$p=(f=function(b){var e;f.$$s||this;return null==b&&(b=c),j["$<<"]((e=a.yield1(i,b))===d?d.$v:e)},f.$$s=g,f),b).call(e),g.$replace(j))},a.defn(n,"$map!",o["$collect!"]),o.$delete=function(a){var b=this;return b.hash.$delete(a),b},o["$delete?"]=function(a){var b,d=this;return(b=d["$include?"](a))===c||b.$$is_boolean&&1!=b?c:(d.$delete(a),d)},o.$delete_if=l=function(){try{var b,e,f,g,h,i,j=this,k=l.$$p,m=k||c;return l.$$p=null,(b=m!==c)!=!1&&b!==c?b:a.ret(j.$enum_for("delete_if")),(b=(e=(g=(h=j).$select,g.$$p=(i=function(b){var e;i.$$s||this;return null==b&&(b=c),e=a.yield1(m,b),e===d?e:e},i.$$s=j,i),g).call(h)).$each,b.$$p=(f=function(a){var b=f.$$s||this;return null==b.hash&&(b.hash=c),null==a&&(a=c),b.hash.$delete(a)},f.$$s=j,f),b).call(e),j}catch(n){if(n===a.returner)return n.$v;throw n}},o["$add?"]=function(a){var b,d=this;return(b=d["$include?"](a))===c||b.$$is_boolean&&1!=b?d.$add(a):c},o.$each=m=function(){var a,b,d=this,e=m.$$p,f=e||c;return m.$$p=null,f===c?d.$enum_for("each"):((a=(b=d.hash).$each_key,a.$$p=f.$to_proc(),a).call(b),d)},o["$empty?"]=function(){var a=this;return a.hash["$empty?"]()},o["$eql?"]=function(a){var b,d,e,f=this;return f.hash["$eql?"]((b=(d=a).$instance_eval,b.$$p=(e=function(){var a=e.$$s||this;return null==a.hash&&(a.hash=c),a.hash},e.$$s=f,e),b).call(d))},o.$clear=function(){var a=this;return a.hash.$clear(),a},o["$include?"]=function(a){var b=this;return b.hash["$include?"](a)},a.defn(n,"$member?",o["$include?"]),o.$merge=function(a){var b,d,e,f=this;return(b=(d=a).$each,b.$$p=(e=function(a){var b=e.$$s||this;return null==a&&(a=c),b.$add(a)},e.$$s=f,e),b).call(d),f},o.$replace=function(a){var b=this;return b.$clear(),b.$merge(a),b},o.$size=function(){var a=this;return a.hash.$size()},a.defn(n,"$length",o.$size),o.$subtract=function(a){var b,d,e,f=this;return(b=(d=a).$each,b.$$p=(e=function(a){var b=e.$$s||this;return null==a&&(a=c),b.$delete(a)},e.$$s=f,e),b).call(d),f},o["$|"]=function(a){var b,d=this;return((b=a["$respond_to?"]("each"))===c||b.$$is_boolean&&1!=b)&&d.$raise(p.get("ArgumentError"),"value must be enumerable"),d.$dup().$merge(a)},a.defn(n,"$+",o["$|"]),a.defn(n,"$union",o["$|"]),o.$to_a=function(){var a=this;return a.hash.$keys()},c&&"to_a"}(b,null),function(b){var d,f=g(b,"Enumerable"),h=(f.$$proto,f.$$scope);a.defn(f,"$to_set",d=function(a,b){var f,g,i=this,j=d.$$p,k=j||c;return b=e.call(arguments,1),null==a&&(a=h.get("Set")),d.$$p=null,(f=(g=a).$new,f.$$p=k.$to_proc(),f).apply(g,[i].concat(b))})}(b)},Opal.modules["corelib/comparable"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="ignore";var d=a.top,e=a.nil,f=(a.breaker,a.slice,a.module);return function(d){var g=f(d,"Comparable"),h=(g.$$proto,g.$$scope);a.defs(g,"$normalize",function(a){var d;return(d=h.get("Integer")["$==="](a))===e||d.$$is_boolean&&1!=d?b(a,0)?1:c(a,0)?-1:0:a}),a.defn(g,"$==",function(b){var c,d=this,f=e;try{return(c=d["$equal?"](b))===e||c.$$is_boolean&&1!=c?(c=f=d["$<=>"](b))===e||c.$$is_boolean&&1!=c?!1:0==h.get("Comparable").$normalize(f):!0}catch(g){if(a.rescue(g,[h.get("StandardError")]))return!1;throw g}}),a.defn(g,"$>",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)>0}),a.defn(g,"$>=",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)>=0}),a.defn(g,"$<",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)<0}),a.defn(g,"$<=",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)<=0}),a.defn(g,"$between?",function(a,d){var e=this;return c(e,a)?!1:b(e,d)?!1:!0})}(d)},Opal.modules["corelib/string"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var d=a.top,e=a,f=a.nil,g=a.breaker,h=a.slice,i=a.klass,j=a.gvars;return d.$require("corelib/comparable"),function(d,e){function k(){}function l(a){function b(a){var b,c,d,e,f,g,h="",i=a.length;for(b=0;i>b;b++)if(c=a.charAt(b),"-"===c&&b>0&&i-1>b&&!d){for(e=a.charCodeAt(b-1),f=a.charCodeAt(b+1),e>f&&v.$raise(x.get("ArgumentError"),'invalid range "'+e+"-"+f+'" in string transliteration'),g=e+1;f+1>g;g++)h+=String.fromCharCode(g);d=!0,b++}else d="\\"===c,h+=c;return h}function c(a,b){if(0===a.length)return b;var c,d,e="",f=a.length;for(c=0;f>c;c++)d=a.charAt(c),-1!==b.indexOf(d)&&(e+=d);return e}var d,e,f,g,h,i,j="",k="";for(d=0,e=a.length;e>d;d++)f=x.get("Opal").$coerce_to(a[d],x.get("String"),"to_str"),g="^"===f.charAt(0)&&f.length>1,f=b(g?f.slice(1):f),g?k=c(k,f):j=c(j,f);if(j.length>0&&k.length>0){for(i="",d=0,e=j.length;e>d;d++)h=j.charAt(d),-1===k.indexOf(h)&&(i+=h);j=i,k=""}return j.length>0?"["+x.get("Regexp").$escape(j)+"]":k.length>0?"[^"+x.get("Regexp").$escape(k)+"]":null}var m,n,o,p,q,r,s,t,u,v=k=i(d,e,"String",k),w=v.$$proto,x=v.$$scope;w.length=f,v.$include(x.get("Comparable")),w.$$is_string=!0,w.$__id__=function(){var a=this;return a.toString()},a.defn(v,"$object_id",w.$__id__),a.defs(v,"$try_convert",function(a){return x.get("Opal")["$coerce_to?"](a,x.get("String"),"to_str")}),a.defs(v,"$new",function(a){return null==a&&(a=""),a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),new String(a)}),w.$initialize=function(a){var b=this;return void 0===a?b:b.$raise(x.get("NotImplementedError"),"Mutable strings are not supported in Opal.")},w["$%"]=function(a){var b,c=this;return(b=x.get("Array")["$==="](a))===f||b.$$is_boolean&&1!=b?c.$format(c,a):(b=c).$format.apply(b,[c].concat(a))},w["$*"]=function(a){var b=this;if(a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),0>a&&b.$raise(x.get("ArgumentError"),"negative argument"),0===a)return"";var c="",d=b.toString();for(d.length*a>=1<<28&&b.$raise(x.get("RangeError"),"multiply count must not overflow maximum string size");1===(1&a)&&(c+=d),a>>>=1,0!==a;)d+=d;return c},w["$+"]=function(a){var b=this;return a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),b+a.$to_s()},w["$<=>"]=function(a){var b,c=this;if((b=a["$respond_to?"]("to_str"))===f||b.$$is_boolean&&1!=b){var d=a["$<=>"](c);return d===f?f:d>0?-1:0>d?1:0}return a=a.$to_str().$to_s(),c>a?1:a>c?-1:0},w["$<<"]=function(a){var b=this;return b.$raise(x.get("NotImplementedError"),"#<< not supported. Mutable String methods are not supported in Opal.")},w["$=="]=function(a){var b=this;return a.$$is_string?b.toString()===a.toString():x.get("Opal")["$respond_to?"](a,"to_str")?a["$=="](b):!1},a.defn(v,"$eql?",w["$=="]),a.defn(v,"$===",w["$=="]),w["$=~"]=function(a){var b=this;return a.$$is_string&&b.$raise(x.get("TypeError"),"type mismatch: String given"),a["$=~"](b)},w["$[]"]=function(a,b){var c=this,d=c.length;if(a.$$is_range){var e=a.exclude,b=x.get("Opal").$coerce_to(a.end,x.get("Integer"),"to_int"),a=x.get("Opal").$coerce_to(a.begin,x.get("Integer"),"to_int");return Math.abs(a)>d?f:(0>a&&(a+=d),0>b&&(b+=d),e||(b+=1),b-=a,0>b&&(b=0),c.substr(a,b))}if(a.$$is_string)return null!=b&&c.$raise(x.get("TypeError")),-1!==c.indexOf(a)?a:f;if(a.$$is_regexp){var g=c.match(a);return null===g?(j["~"]=f,f):(j["~"]=x.get("MatchData").$new(a,g),null==b?g[0]:(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b&&-b<g.length?g[b+=g.length]:b>=0&&b<g.length?g[b]:f))}return a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),0>a&&(a+=d),null==b?a>=d||0>a?f:c.substr(a,1):(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b?f:a>d||0>a?f:c.substr(a,b))},w.$capitalize=function(){var a=this;return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()},a.defn(v,"$capitalize!",w["$<<"]),
w.$casecmp=function(a){var b=this;a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s();var c=/^[\x00-\x7F]*$/;return c.test(b)&&c.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase()),b["$<=>"](a)},w.$center=function(a,d){var e,g=this;if(null==d&&(d=" "),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),d=x.get("Opal").$coerce_to(d,x.get("String"),"to_str").$to_s(),(e=d["$empty?"]())===f||e.$$is_boolean&&1!=e||g.$raise(x.get("ArgumentError"),"zero width padding"),(e=a<=g.length)!==f&&(!e.$$is_boolean||1==e))return g;var h=g.$ljust(b(c(a,g.length),2).$ceil(),d),i=g.$rjust(b(c(a,g.length),2).$floor(),d);return i+h.slice(g.length)},w.$chars=m=function(){var a,b,c=this,d=m.$$p,e=d||f;return m.$$p=null,e===!1||e===f?c.$each_char().$to_a():(a=(b=c).$each_char,a.$$p=e.$to_proc(),a).call(b)},w.$chomp=function(a){var b,c=this;if(null==j["/"]&&(j["/"]=f),null==a&&(a=j["/"]),(b=a===f||0===c.length)!==f&&(!b.$$is_boolean||1==b))return c;if(a=x.get("Opal")["$coerce_to!"](a,x.get("String"),"to_str").$to_s(),"\n"===a)return c.replace(/\r?\n?$/,"");if(""===a)return c.replace(/(\r?\n)+$/,"");if(c.length>a.length){var d=c.substr(c.length-a.length,a.length);if(d===a)return c.substr(0,c.length-a.length)}return c},a.defn(v,"$chomp!",w["$<<"]),w.$chop=function(){var a=this,b=a.length;return 1>=b?"":"\n"===a.charAt(b-1)&&"\r"===a.charAt(b-2)?a.substr(0,b-2):a.substr(0,b-1)},a.defn(v,"$chop!",w["$<<"]),w.$chr=function(){var a=this;return a.charAt(0)},w.$clone=function(){var a=this,b=f;return b=a.slice(),b.$initialize_clone(a),b},w.$dup=function(){var a=this,b=f;return b=a.slice(),b.$initialize_dup(a),b},w.$count=function(a){var b=this;a=h.call(arguments,0),0===a.length&&b.$raise(x.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var c=l(a);return null===c?0:b.length-b.replace(new RegExp(c,"g"),"").length},w.$delete=function(a){var b=this;a=h.call(arguments,0),0===a.length&&b.$raise(x.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var c=l(a);return null===c?b:b.replace(new RegExp(c,"g"),"")},a.defn(v,"$dup",w.$clone),w.$downcase=function(){var a=this;return a.toLowerCase()},a.defn(v,"$downcase!",w["$<<"]),w.$each_char=n=function(){var b,c=this,d=n.$$p,e=d||f;if(n.$$p=null,e===f)return c.$enum_for("each_char");for(var h=0,i=c.length;i>h;h++)(b=a.yield1(e,c.charAt(h)))===g?g.$v:b;return c},w.$each_line=o=function(b){var c,d=this,e=o.$$p,h=e||f;if(null==j["/"]&&(j["/"]=f),null==b&&(b=j["/"]),o.$$p=null,h===f)return d.$enum_for("each_line",b);if(b===f)return(c=a.yield1(h,d))===g?g.$v:c,d;if(b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str"),0===b.length){for(var i=d.split(/(\n{2,})/),k=0,l=i.length;l>k;k+=2)(i[k]||i[k+1])&&((c=a.yield1(h,(i[k]||"")+(i[k+1]||"")))===g?g.$v:c);return d}for(var m=d.$chomp(b),n=d.length!=m.length,p=m.split(b),k=0,q=p.length;q>k;k++)q-1>k||n?(c=a.yield1(h,p[k]+b))===g?g.$v:c:(c=a.yield1(h,p[k]))===g?g.$v:c;return d},w["$empty?"]=function(){var a=this;return 0===a.length},w["$end_with?"]=function(a){var b=this;a=h.call(arguments,0);for(var c=0,d=a.length;d>c;c++){var e=x.get("Opal").$coerce_to(a[c],x.get("String"),"to_str").$to_s();if(b.length>=e.length&&b.substr(b.length-e.length,e.length)==e)return!0}return!1},a.defn(v,"$eql?",w["$=="]),a.defn(v,"$equal?",w["$==="]),w.$gsub=p=function(a,b){var c=this,d=p.$$p,e=d||f;p.$$p=null;var g,h,i="",k=f,l=0;for(a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(g=a.exec(c),null===g){j["~"]=f,i+=c.slice(l);break}k=x.get("MatchData").$new(a,g),void 0===b?(e===f&&c.$raise(x.get("ArgumentError"),"wrong number of arguments (1 for 2)"),h=e(g[0])):b.$$is_hash?h=b["$[]"](g[0]).$to_s():(b.$$is_string||(b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str")),h=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,d){if(b.length%2===0)return a;switch(d){case"+":for(var e=g.length-1;e>0;e--)if(void 0!==g[e])return b.slice(1)+g[e];return"";case"&":return b.slice(1)+g[0];case"`":return b.slice(1)+c.slice(0,g.index);case"'":return b.slice(1)+c.slice(g.index+g[0].length);default:return b.slice(1)+(g[d]||"")}}).replace(/\\\\/g,"\\")),a.lastIndex===g.index?(i+=h+c.slice(l,g.index+1),a.lastIndex+=1):i+=c.slice(l,g.index)+h,l=a.lastIndex}return j["~"]=k,i},a.defn(v,"$gsub!",w["$<<"]),w.$hash=function(){var a=this;return a.toString()},w.$hex=function(){var a=this;return a.$to_i(16)},w["$include?"]=function(a){var b,c=this;return a.$$is_string?-1!==c.indexOf(a):(((b=a["$respond_to?"]("to_str"))===f||b.$$is_boolean&&1!=b)&&c.$raise(x.get("TypeError"),"no implicit conversion of "+a.$class()+" into String"),-1!==c.indexOf(a.$to_str()))},w.$index=function(a,b){var c,d,e,g=this;if(void 0===b)b=0;else if(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b&&(b+=g.length,0>b))return f;if(a.$$is_regexp)for(e=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){if(d=e.exec(g),null===d){j["~"]=f,c=-1;break}if(d.index>=b){j["~"]=x.get("MatchData").$new(e,d),c=d.index;break}e.lastIndex=d.index+1}else a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),c=0===a.length&&b>g.length?-1:g.indexOf(a,b);return-1===c?f:c},w.$inspect=function(){var a=this,b=/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"":"\\a","":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","":"\\v",'"':'\\"',"\\":"\\\\"},d=a.replace(b,function(a){return c[a]||"\\u"+("0000"+a.charCodeAt(0).toString(16).toUpperCase()).slice(-4)});return'"'+d.replace(/\#[\$\@\{]/g,"\\$&")+'"'},w.$intern=function(){var a=this;return a},w.$lines=q=function(a){var b,c,d=this,e=q.$$p,g=e||f,h=f;return null==j["/"]&&(j["/"]=f),null==a&&(a=j["/"]),q.$$p=null,h=(b=(c=d).$each_line,b.$$p=g.$to_proc(),b).call(c,a),g!==!1&&g!==f?d:h.$to_a()},w.$length=function(){var a=this;return a.length},w.$ljust=function(a,b){var c,d=this;if(null==b&&(b=" "),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),(c=b["$empty?"]())===f||c.$$is_boolean&&1!=c||d.$raise(x.get("ArgumentError"),"zero width padding"),(c=a<=d.length)!==f&&(!c.$$is_boolean||1==c))return d;var e=-1,g="";for(a-=d.length;++e<a;)g+=b;return d+g.slice(0,a)},w.$lstrip=function(){var a=this;return a.replace(/^\s*/,"")},a.defn(v,"$lstrip!",w["$<<"]),w.$match=r=function(a,b){var c,d,e=this,g=r.$$p,h=g||f;return r.$$p=null,(c=(d=x.get("String")["$==="](a))!==!1&&d!==f?d:a["$respond_to?"]("to_str"))===f||c.$$is_boolean&&1!=c||(a=x.get("Regexp").$new(a.$to_str())),((c=x.get("Regexp")["$==="](a))===f||c.$$is_boolean&&1!=c)&&e.$raise(x.get("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)"),(c=(d=a).$match,c.$$p=h.$to_proc(),c).call(d,e,b)},w.$next=function(){var a=this,b=a.length;if(0===b)return"";for(var c,d=a,e=a.search(/[a-zA-Z0-9]/),f=!1;b--;){if(c=a.charCodeAt(b),c>=48&&57>=c||c>=65&&90>=c||c>=97&&122>=c)switch(c){case 57:f=!0,c=48;break;case 90:f=!0,c=65;break;case 122:f=!0,c=97;break;default:f=!1,c+=1}else-1===e?255===c?(f=!0,c=0):(f=!1,c+=1):f=!0;if(d=d.slice(0,b)+String.fromCharCode(c)+d.slice(b+1),f&&(0===b||b===e)){switch(c){case 65:break;case 97:break;default:c+=1}d=0===b?String.fromCharCode(c)+d:d.slice(0,b)+String.fromCharCode(c)+d.slice(b),f=!1}if(!f)break}return d},a.defn(v,"$next!",w["$<<"]),w.$oct=function(){var a,b=this,c=b,d=8;return/^\s*_/.test(c)?0:(c=c.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,b,c,e){switch(e.charAt(0)){case"+":case"-":return a;case"0":if("x"===e.charAt(1)&&"0x"===c)return a}switch(c){case"0b":d=2;break;case"0":case"0o":d=8;break;case"0d":d=10;break;case"0x":d=16}return b+e}),a=parseInt(c.replace(/_(?!_)/g,""),d),isNaN(a)?0:a)},w.$ord=function(){var a=this;return a.charCodeAt(0)},w.$partition=function(a){var b,c,d=this;return a.$$is_regexp?(c=a.exec(d),null===c?b=-1:(x.get("MatchData").$new(a,c),a=c[0],b=c.index)):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),b=d.indexOf(a)),-1===b?[d,"",""]:[d.slice(0,b),d.slice(b,b+a.length),d.slice(b+a.length)]},w.$reverse=function(){var a=this;return a.split("").reverse().join("")},a.defn(v,"$reverse!",w["$<<"]),w.$rindex=function(a,b){var c,d,e,g,h=this;if(void 0===b)b=h.length;else if(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b&&(b+=h.length,0>b))return f;if(a.$$is_regexp){for(d=null,e=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){if(g=e.exec(h),null===g||g.index>b)break;d=g,e.lastIndex=d.index+1}null===d?(j["~"]=f,c=-1):(x.get("MatchData").$new(e,d),c=d.index)}else a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),c=h.lastIndexOf(a,b);return-1===c?f:c},w.$rjust=function(a,b){var c,d=this;if(null==b&&(b=" "),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),(c=b["$empty?"]())===f||c.$$is_boolean&&1!=c||d.$raise(x.get("ArgumentError"),"zero width padding"),(c=a<=d.length)!==f&&(!c.$$is_boolean||1==c))return d;var e=Math.floor(a-d.length),g=Math.floor(e/b.length),h=Array(g+1).join(b),i=e-h.length;return h+b.slice(0,i)+d},w.$rpartition=function(a){var b,c,d,e,f=this;if(a.$$is_regexp){for(c=null,d=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){if(e=d.exec(f),null===e)break;c=e,d.lastIndex=c.index+1}null===c?b=-1:(x.get("MatchData").$new(d,c),a=c[0],b=c.index)}else a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),b=f.lastIndexOf(a);return-1===b?["","",f]:[f.slice(0,b),f.slice(b,b+a.length),f.slice(b+a.length)]},w.$rstrip=function(){var a=this;return a.replace(/[\s\u0000]*$/,"")},w.$scan=s=function(a){var b=this,c=s.$$p,d=c||f;s.$$p=null;var e,g=[],h=f;for(a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(e=a.exec(b));)h=x.get("MatchData").$new(a,e),d===f?1==e.length?g.push(e[0]):g.push(h.$captures()):1==e.length?d(e[0]):d.call(b,h.$captures()),a.lastIndex===e.index&&(a.lastIndex+=1);return j["~"]=h,d!==f?b:g},a.defn(v,"$size",w.$length),a.defn(v,"$slice",w["$[]"]),a.defn(v,"$slice!",w["$<<"]),w.$split=function(a,b){var c,d=this;if(null==j[";"]&&(j[";"]=f),0===d.length)return[];if(void 0===b)b=0;else if(b=x.get("Opal")["$coerce_to!"](b,x.get("Integer"),"to_int"),1===b)return[d];(void 0===a||a===f)&&(a=(c=j[";"])!==!1&&c!==f?c:" ");var e,g,h=[],i=d.toString(),k=0;if(a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s()," "===a?(a=/\s+/gm,i=i.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),h=i.split(a),1===h.length&&h[0]===i)return h;for(;-1!==(g=h.indexOf(void 0));)h.splice(g,1);if(0===b){for(;""===h[h.length-1];)h.length-=1;return h}if(e=a.exec(i),0>b){if(null!==e&&""===e[0]&&-1===a.source.indexOf("(?="))for(g=0;g<e.length;g++)h.push("");return h}if(null!==e&&""===e[0])return h.splice(b-1,h.length-1,h.slice(b-1).join("")),h;for(g=0;null!==e&&(g++,k=a.lastIndex,g+1!==b);)e=a.exec(i);return h.splice(b-1,h.length-1,i.slice(k)),h},w.$squeeze=function(a){var b=this;if(a=h.call(arguments,0),0===a.length)return b.replace(/(.)\1+/g,"$1");var c=l(a);return null===c?b:b.replace(new RegExp("("+c+")\\1+","g"),"$1")},a.defn(v,"$squeeze!",w["$<<"]),w["$start_with?"]=function(a){var b=this;a=h.call(arguments,0);for(var c=0,d=a.length;d>c;c++){var e=x.get("Opal").$coerce_to(a[c],x.get("String"),"to_str").$to_s();if(0===b.indexOf(e))return!0}return!1},w.$strip=function(){var a=this;return a.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},a.defn(v,"$strip!",w["$<<"]),w.$sub=t=function(a,b){var c=this,d=t.$$p,e=d||f;t.$$p=null,a.$$is_regexp||(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var g=a.exec(c);return null===g?(j["~"]=f,c.toString()):(x.get("MatchData").$new(a,g),void 0===b?(e===f&&c.$raise(x.get("ArgumentError"),"wrong number of arguments (1 for 2)"),c.slice(0,g.index)+e(g[0])+c.slice(g.index+g[0].length)):b.$$is_hash?c.slice(0,g.index)+b["$[]"](g[0]).$to_s()+c.slice(g.index+g[0].length):(b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str"),b=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,d){if(b.length%2===0)return a;switch(d){case"+":for(var e=g.length-1;e>0;e--)if(void 0!==g[e])return b.slice(1)+g[e];return"";case"&":return b.slice(1)+g[0];case"`":return b.slice(1)+c.slice(0,g.index);case"'":return b.slice(1)+c.slice(g.index+g[0].length);default:return b.slice(1)+(g[d]||"")}}).replace(/\\\\/g,"\\"),c.slice(0,g.index)+b+c.slice(g.index+g[0].length)))},a.defn(v,"$sub!",w["$<<"]),a.defn(v,"$succ",w.$next),a.defn(v,"$succ!",w["$<<"]),w.$sum=function(a){var b=this;null==a&&(a=16),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int");for(var c=0,d=b.length,e=0;d>e;e++)c+=b.charCodeAt(e);return 0>=a?c:c&Math.pow(2,a)-1},w.$swapcase=function(){var a=this,b=a.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return a.constructor===String?b:a.$class().$new(b)},a.defn(v,"$swapcase!",w["$<<"]),w.$to_f=function(){var a=this;if("_"===a.charAt(0))return 0;var b=parseFloat(a.replace(/_/g,""));return isNaN(b)||b==1/0||b==-(1/0)?0:b},w.$to_i=function(a){var b=this;null==a&&(a=10);var c,d=b.toLowerCase(),e=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int");return(1===e||0>e||e>36)&&b.$raise(x.get("ArgumentError"),"invalid radix "+e),/^\s*_/.test(d)?0:(d=d.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,c,d){switch(d.charAt(0)){case"+":case"-":return a;case"0":if("x"===d.charAt(1)&&"0x"===c&&(0===e||16===e))return a}switch(c){case"0b":if(0===e||2===e)return e=2,b+d;break;case"0":case"0o":if(0===e||8===e)return e=8,b+d;break;case"0d":if(0===e||10===e)return e=10,b+d;break;case"0x":if(0===e||16===e)return e=16,b+d}return a}),c=parseInt(d.replace(/_(?!_)/g,""),e),isNaN(c)?0:c)},w.$to_proc=function(){var a,b,c,d=this,e=f;return e=d,(a=(b=d).$proc,a.$$p=(c=function(a){var b,d,g,i=c.$$s||this,j=f;return a=h.call(arguments,0),b=c.$$p||f,c.$$p=null,(d=a["$empty?"]())===f||d.$$is_boolean&&1!=d||i.$raise(x.get("ArgumentError"),"no receiver given"),j=a.$shift(),(d=(g=j).$__send__,d.$$p=b.$to_proc(),d).apply(g,[e].concat(a))},c.$$s=d,c),a).call(b)},w.$to_s=function(){var a=this;return a.toString()},a.defn(v,"$to_str",w.$to_s),a.defn(v,"$to_sym",w.$intern),w.$tr=function(a,b){var c=this;if(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s(),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),0==a.length||a===b)return c;var d={},e=a.split(""),f=e.length,g=b.split(""),h=g.length,i=!1,j=null;"^"===e[0]&&e.length>1&&(i=!0,e.shift(),j=g[h-1],f-=1);for(var k=[],l=null,m=!1,n=0;f>n;n++){var o=e[n];if(null==l)l=o,k.push(o);else if("-"===o)"-"===l?(k.push("-"),k.push("-")):n==f-1?k.push("-"):m=!0;else if(m){var p=l.charCodeAt(0),q=o.charCodeAt(0);p>q&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(q)+'" in string transliteration');for(var r=p+1;q>r;r++)k.push(String.fromCharCode(r));k.push(o),m=null,l=null}else k.push(o)}if(e=k,f=e.length,i)for(var n=0;f>n;n++)d[e[n]]=!0;else{if(h>0){for(var s=[],t=null,m=!1,n=0;h>n;n++){var o=g[n];if(null==l)l=o,s.push(o);else if("-"===o)"-"===t?(s.push("-"),s.push("-")):n==h-1?s.push("-"):m=!0;else if(m){var p=l.charCodeAt(0),q=o.charCodeAt(0);p>q&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(q)+'" in string transliteration');for(var r=p+1;q>r;r++)s.push(String.fromCharCode(r));s.push(o),m=null,l=null}else s.push(o)}g=s,h=g.length}var u=f-h;if(u>0)for(var v=h>0?g[h-1]:"",n=0;u>n;n++)g.push(v);for(var n=0;f>n;n++)d[e[n]]=g[n]}for(var w="",n=0,y=c.length;y>n;n++){var o=c.charAt(n),z=d[o];w+=i?null==z?j:o:null!=z?z:o}return w},a.defn(v,"$tr!",w["$<<"]),w.$tr_s=function(a,b){var c=this;if(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s(),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),0==a.length)return c;var d={},e=a.split(""),f=e.length,g=b.split(""),h=g.length,i=!1,j=null;"^"===e[0]&&e.length>1&&(i=!0,e.shift(),j=g[h-1],f-=1);for(var k=[],l=null,m=!1,n=0;f>n;n++){var o=e[n];if(null==l)l=o,k.push(o);else if("-"===o)"-"===l?(k.push("-"),k.push("-")):n==f-1?k.push("-"):m=!0;else if(m){var p=l.charCodeAt(0),q=o.charCodeAt(0);p>q&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(q)+'" in string transliteration');for(var r=p+1;q>r;r++)k.push(String.fromCharCode(r));k.push(o),m=null,l=null}else k.push(o)}if(e=k,f=e.length,i)for(var n=0;f>n;n++)d[e[n]]=!0;else{if(h>0){for(var s=[],t=null,m=!1,n=0;h>n;n++){var o=g[n];if(null==l)l=o,s.push(o);else if("-"===o)"-"===t?(s.push("-"),s.push("-")):n==h-1?s.push("-"):m=!0;else if(m){var p=l.charCodeAt(0),q=o.charCodeAt(0);p>q&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(q)+'" in string transliteration');for(var r=p+1;q>r;r++)s.push(String.fromCharCode(r));s.push(o),m=null,l=null}else s.push(o)}g=s,h=g.length}var u=f-h;if(u>0)for(var v=h>0?g[h-1]:"",n=0;u>n;n++)g.push(v);for(var n=0;f>n;n++)d[e[n]]=g[n]}for(var w="",y=null,n=0,z=c.length;z>n;n++){var o=c.charAt(n),A=d[o];i?null==A?null==y&&(w+=j,y=!0):(w+=o,y=null):null!=A?(null==y||y!==A)&&(w+=A,y=A):(w+=o,y=null)}return w},a.defn(v,"$tr_s!",w["$<<"]),w.$upcase=function(){var a=this;return a.toUpperCase()},a.defn(v,"$upcase!",w["$<<"]),w.$freeze=function(){var a=this;return a},w["$frozen?"]=function(){return!0},w.$upto=u=function(a,b){var c=this,d=u.$$p,e=d||f;if(null==b&&(b=!1),u.$$p=null,e===f)return c.$enum_for("upto",a,b);a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str");var g,h,i=c.toString();if(1===i.length&&1===a.length)for(g=i.charCodeAt(0),h=a.charCodeAt(0);h>=g&&(!b||g!==h);)e(String.fromCharCode(g)),g+=1;else if(parseInt(i).toString()===i&&parseInt(a).toString()===a)for(g=parseInt(i),h=parseInt(a);h>=g&&(!b||g!==h);)e(g.toString()),g+=1;else for(;i.length<=a.length&&a>=i&&(!b||i!==a);)e(i),i=i.$succ();return c}}(d,null),a.cdecl(e,"Symbol",e.get("String"))},Opal.modules.encoding=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var c,d,e,f,g,h,i,j=a.top,k=a,l=a.nil,m=a.breaker,n=(a.slice,a.klass),o=a.hash2;return j.$require("corelib/string"),function(c,d){function e(){}var f,g=e=n(c,d,"Encoding",e),h=g.$$proto,i=g.$$scope;return h.ascii=h.dummy=h.name=l,a.defs(g,"$register",f=function(a,c){var d,e,g,h,j=this,k=f.$$p,m=k||l,n=l,p=l;return null==c&&(c=o([],{})),f.$$p=null,n=b([a],(d=c["$[]"]("aliases"))!==!1&&d!==l?d:[]),p=(d=(e=i.get("Class")).$new,d.$$p=m.$to_proc(),d).call(e,j).$new(a,n,(d=c["$[]"]("ascii"))!==!1&&d!==l?d:!1,(d=c["$[]"]("dummy"))!==!1&&d!==l?d:!1),(d=(g=n).$each,d.$$p=(h=function(a){var b=h.$$s||this;return null==a&&(a=l),b.$const_set(a.$sub("-","_"),p)},h.$$s=j,h),d).call(g)}),a.defs(g,"$find",function(b){try{var c,d,e,f=this,g=l;return g=b.$upcase(),(c=f["$==="](g))===l||c.$$is_boolean&&1!=c?((c=(d=f.$constants()).$each,c.$$p=(e=function(b){var c,d,f=e.$$s||this,h=l;return null==b&&(b=l),h=f.$const_get(b),(c=(d=h.$name()["$=="](g))!==!1&&d!==l?d:h.$names()["$include?"](g))===l||c.$$is_boolean&&1!=c?l:void a.ret(h)},e.$$s=f,e),c).call(d),f.$raise(i.get("ArgumentError"),"unknown encoding name - "+b)):g}catch(h){if(h===a.returner)return h.$v;throw h}}),function(a){a.$$scope,a.$$proto;return a.$attr_accessor("default_external")}(g.$singleton_class()),g.$attr_reader("name","names"),h.$initialize=function(a,b,c,d){var e=this;return e.name=a,e.names=b,e.ascii=c,e.dummy=d},h["$ascii_compatible?"]=function(){var a=this;return a.ascii},h["$dummy?"]=function(){var a=this;return a.dummy},h.$to_s=function(){var a=this;return a.name},h.$inspect=function(){var a,b=this;return"#<Encoding:"+b.name+function(){return(a=b.dummy)===l||a.$$is_boolean&&1!=a?l:" (dummy)"}()+">"},h.$each_byte=function(){var a=this;return a.$raise(i.get("NotImplementedError"))},h.$getbyte=function(){var a=this;return a.$raise(i.get("NotImplementedError"))},h.$bytesize=function(){var a=this;return a.$raise(i.get("NotImplementedError"))},function(a,b){function c(){}var d=c=n(a,b,"EncodingError",c);d.$$proto,d.$$scope;return l}(g,i.get("StandardError")),function(a,b){function c(){}var d=c=n(a,b,"CompatibilityError",c);d.$$proto,d.$$scope;return l}(g,i.get("EncodingError"))}(j,null),(c=(d=k.get("Encoding")).$register,c.$$p=(e=function(){var b,c=e.$$s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b.$$p,f=e||l;b.$$p=null;for(var g=0,h=c.length;h>g;g++){var i=c.charCodeAt(g);if(127>=i)(d=a.yield1(f,i))===m?m.$v:d;else for(var j=encodeURIComponent(c.charAt(g)).substr(1).split("%"),k=0,n=j.length;n>k;k++)(d=a.yield1(f,parseInt(j[k],16)))===m?m.$v:d}}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),l&&"bytesize"},e.$$s=j,e),c).call(d,"UTF-8",o(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})),(c=(f=k.get("Encoding")).$register,c.$$p=(g=function(){var b,c=g.$$s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b.$$p,f=e||l;b.$$p=null;for(var g=0,h=c.length;h>g;g++){var i=c.charCodeAt(g);(d=a.yield1(f,255&i))===m?m.$v:d,(d=a.yield1(f,i>>8))===m?m.$v:d}}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),l&&"bytesize"},g.$$s=j,g),c).call(f,"UTF-16LE"),(c=(h=k.get("Encoding")).$register,c.$$p=(i=function(){var b,c=i.$$s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b.$$p,f=e||l;b.$$p=null;for(var g=0,h=c.length;h>g;g++)(d=a.yield1(f,255&c.charCodeAt(g)))===m?m.$v:d}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),l&&"bytesize"},i.$$s=j,i),c).call(h,"ASCII-8BIT",o(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})),function(a,b){function c(){}var d,e=c=n(a,b,"String",c),f=e.$$proto,g=e.$$scope;return f.encoding=l,f.encoding=g.get("Encoding").$$scope.get("UTF_16LE"),f.$bytes=function(){var a=this;return a.$each_byte().$to_a()},f.$bytesize=function(){var a=this;return a.encoding.$bytesize(a)},f.$each_byte=d=function(){var a,b,c=this,e=d.$$p,f=e||l;return d.$$p=null,f===l?c.$enum_for("each_byte"):((a=(b=c.encoding).$each_byte,a.$$p=f.$to_proc(),a).call(b,c),c)},f.$encoding=function(){var a=this;return a.encoding},f.$force_encoding=function(a){var b=this;if(a=g.get("Encoding").$find(a),a["$=="](b.encoding))return b;var c=new String(b);return c.encoding=a,c},f.$getbyte=function(a){var b=this;return b.encoding.$getbyte(b,a)},l&&"getbyte"}(j,null)},Opal.modules.strscan=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g=f=d(b,e,"StringScanner",f),h=g.$$proto;g.$$scope;return h.pos=h.string=h.working=h.prev_pos=h.matched=h.match=c,g.$attr_reader("pos"),g.$attr_reader("matched"),h.$initialize=function(a){var b=this;return b.string=a,b.pos=0,b.matched=c,b.working=a,b.match=[]},g.$attr_reader("string"),h["$beginning_of_line?"]=function(){var a=this;return 0===a.pos||"\n"===a.string.charAt(a.pos-1)},a.defn(g,"$bol?",h["$beginning_of_line?"]),h.$scan=function(a){var b=this,a=new RegExp("^"+a.toString().substring(1,a.toString().length-1)),d=a.exec(b.working);return null==d?b.matched=c:"object"==typeof d?(b.prev_pos=b.pos,b.pos+=d[0].length,b.working=b.working.substring(d[0].length),b.matched=d[0],b.match=d,d[0]):"string"==typeof d?(b.pos+=d.length,b.working=b.working.substring(d.length),d):c},h["$[]"]=function(a){var b=this,d=b.match;return 0>a&&(a+=d.length),0>a||a>=d.length?c:null==d[a]?c:d[a]},h.$check=function(a){var b=this,d=new RegExp("^"+a.toString().substring(1,a.toString().length-1)),e=d.exec(b.working);return null==e?b.matched=c:b.matched=e[0]},h.$peek=function(a){var b=this;return b.working.substring(0,a)},h["$eos?"]=function(){var a=this;return 0===a.working.length},h.$skip=function(a){var b=this;a=new RegExp("^"+a.source);var d=a.exec(b.working);if(null==d)return b.matched=c;var e=d[0],f=e.length;return b.matched=e,b.prev_pos=b.pos,b.pos+=f,b.working=b.working.substring(f),f},h.$get_byte=function(){var a=this,b=c;return a.pos<a.string.length?(a.prev_pos=a.pos,a.pos+=1,b=a.matched=a.working.substring(0,1),a.working=a.working.substring(1)):a.matched=c,b},a.defn(g,"$getch",h.$get_byte),h["$pos="]=function(a){var b=this;return 0>a&&(a+=b.string.$length()),b.pos=a,b.working=b.string.slice(a)},h.$reset=function(){var a=this;return a.working=a.string,a.matched=c,a.pos=0},h.$rest=function(){var a=this;return a.working},h["$rest?"]=function(){var a=this;return 0!==a.working.length},h.$terminate=function(){var a,b,d=this;return d.match=c,a=[d.string.$length()],b=d,b["$pos="].apply(b,a),a[a.length-1]},h.$unscan=function(){var a=this;return a.pos=a.prev_pos,a.prev_pos=c,a.match=c,a},c&&"unscan"}(b,null)},Opal.modules["asciidoctor/opal_ext/comparable"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass),e=a.module;return function(b,e){function f(){}var g=f=d(b,e,"BasicObject",f);g.$$proto,g.$$scope;return a.defn(g,"$!=",function(a){var b=this;return b!==a}),c&&"!="}(b,null),function(b){var d=e(b,"Comparable"),f=(d.$$proto,d.$$scope);a.defn(d,"$==",function(b){var d,e=this,g=c;try{return(d=e["$equal?"](b))===c||d.$$is_boolean&&1!=d?(d=g=e["$<=>"](b))===c||d.$$is_boolean&&1!=d?!1:0==g:!0}catch(h){if(a.rescue(h,[f.get("StandardError")]))return!1;throw h}}),a.defn(d,"$!=",function(b){var d,e=this,g=c;try{return(d=e["$equal?"](b))===c||d.$$is_boolean&&1!=d?(d=g=e["$<=>"](b))===c||d.$$is_boolean&&1!=d?!0:0!=g:!1}catch(h){if(a.rescue(h,[f.get("StandardError")]))return!0;throw h}}),a.defn(d,"$>",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),e>0}),a.defn(d,"$>=",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),e>=0}),a.defn(d,"$<",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),0>e}),a.defn(d,"$<=",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),0>=e})}(b)},Opal.modules["asciidoctor/opal_ext/dir"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g=f=d(b,e,"Dir",f),h=(g.$$proto,g.$$scope);return a.defs(g,"$pwd",function(){var a;return(a=h.get("ENV")["$[]"]("PWD"))!==!1&&a!==c?a:"."}),a.defs(g,"$getwd",function(){var a;return(a=h.get("ENV")["$[]"]("PWD"))!==!1&&a!==c?a:"."}),a.defs(g,"$home",function(){return h.get("ENV")["$[]"]("HOME")}),c&&"home"}(b,null)},Opal.modules["asciidoctor/opal_ext/error"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass);return function(a,b){function c(){}var f=c=e(a,b,"SecurityError",c);f.$$proto,f.$$scope;return d}(b,c.get("Exception"))},Opal.modules["asciidoctor/opal_ext/file"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var e=a.top,f=a.nil,g=a.breaker,h=a.slice,i=a.klass,j=a.gvars,k=a.range;return function(b,c){function d(){}var e,j=d=i(b,c,"Kernel",d),k=j.$$proto,l=j.$$scope;return k.$open=e=function(b,c){var d,i,j=e.$$p,k=j||f,m=f;return c=h.call(arguments,1),e.$$p=null,m=(d=l.get("File")).$new.apply(d,[b].concat(c)),k!==f?(i=a.yield1(k,m),i===g?i:i):m},f&&"open"}(e,null),function(e,l){function m(){}var n,o=m=i(e,l,"File",m),p=o.$$proto,q=o.$$scope;return p.eof=p.path=f,a.cdecl(q,"SEPARATOR","/"),a.cdecl(q,"ALT_SEPARATOR",f),o.$attr_reader("eof"),o.$attr_reader("lineno"),o.$attr_reader("path"),p.$initialize=function(a,b){var c=this;return null==b&&(b="r"),c.path=a,c.contents=f,c.eof=!1,c.lineno=0},p.$read=function(){var a,b=this,c=f;return(a=b.eof)===f||a.$$is_boolean&&1!=a?(c=q.get("File").$read(b.path),b.eof=!0,b.lineno=c.$size(),c):""},p.$each_line=n=function(b){var c,d=this,e=n.$$p,h=e||f,i=f;if(null==j["/"]&&(j["/"]=f),null==b&&(b=j["/"]),n.$$p=null,(c=d.eof)!==f&&(!c.$$is_boolean||1==c))return function(){return h!==f?d:[].$to_enum()}();if(h!==f){i=q.get("File").$read(d.path),d.eof=!1,d.lineno=0;for(var k=i.$chomp(),l=i.length!=k.length,m=k.split(b),o=0,p=m.length;p>o;o++)d.lineno+=1,p-1>o||l?(c=a.yield1(h,m[o]+b))===g?g.$v:c:(c=a.yield1(h,m[o]))===g?g.$v:c;return d.eof=!0,d}return d.$read().$each_line()},a.defs(o,"$expand_path",function(a){return a}),a.defs(o,"$join",function(a){return a=h.call(arguments,0),b(a,q.get("SEPARATOR"))}),a.defs(o,"$basename",function(a){var b,d=f;return(b=d=a.$rindex(q.get("SEPARATOR")))===f||b.$$is_boolean&&1!=b?a:a["$[]"](k(c(d,1),-1,!1))}),a.defs(o,"$dirname",function(a){var b,c=f;return(b=c=a.$rindex(q.get("SEPARATOR")))===f||b.$$is_boolean&&1!=b?".":a["$[]"](k(0,d(c,1),!1))}),a.defs(o,"$extname",function(a){var b,d=f;return(b=a["$nil_or_empty?"]())===f||b.$$is_boolean&&1!=b?(d=a["$[]"](k(1,-1,!1)).$rindex("."),(b=d["$nil?"]())===f||b.$$is_boolean&&1!=b?a["$[]"](k(c(d,1),-1,!1)):""):""}),a.defs(o,"$file?",function(a){return!0}),a.defs(o,"$readable?",function(a){return!0}),a.defs(o,"$read",function(a){var b=f;return function(){if(b=q.get("JAVASCRIPT_PLATFORM"),"node"["$==="](b))return require("fs").readFileSync(a,"utf8");if("java-nashorn"["$==="](b)){var c=Java.type("java.nio.file.Paths"),d=Java.type("java.nio.file.Files"),e=d.readAllLines(c.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8),f=[];return e.forEach(function(a){f.push(a)}),f.join("\n")}if("browser"["$==="](b)){var f="",g=-1;try{var h=new XMLHttpRequest;h.open("GET",a,!1),h.addEventListener("load",function(){g=this.status,(0==g||200==g)&&(f=this.responseText)}),h.overrideMimeType("text/plain"),h.send()}catch(i){g=0}if(404==g||0==g&&""==f)throw q.get("IOError").$new("No such file or directory: "+a);return f}return"standalone"["$==="](b)?read(a):""}()}),f&&"read"}(e,null),function(b,c){function d(){}var e=d=i(b,c,"IO",d),g=(e.$$proto,e.$$scope);return a.defs(e,"$read",function(a){return g.get("File").$read(a)}),f&&"read"}(e,null)},Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(a,b){function e(){}var f=e=d(a,b,"MatchData",e),g=f.$$proto;f.$$scope;return g.matches=c,g["$[]="]=function(a,b){var c=this;return c.matches["$[]="](a,b)},c&&"[]="}(b,null)},Opal.modules["asciidoctor/opal_ext"]=function(a){a.dynamic_require_severity="ignore";var b,c=a.top,d=a;a.nil,a.breaker,a.slice;return b="undefined"!=typeof module&&module.exports?"node":"undefined"!=typeof XMLHttpRequest?"browser":"undefined"!=typeof Java&&Java.type?"java-nashorn":"undefined"!=typeof java?"java-rhino":"standalone",a.cdecl(d,"JAVASCRIPT_PLATFORM",b),c.$require("encoding"),c.$require("strscan"),c.$require("asciidoctor/opal_ext/comparable"),c.$require("asciidoctor/opal_ext/dir"),c.$require("asciidoctor/opal_ext/error"),c.$require("asciidoctor/opal_ext/file"),c.$require("asciidoctor/opal_ext/match_data")},Opal.modules["asciidoctor/version"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=(a.nil,a.breaker,a.slice,a.module);return function(b){var d=c(b,"Asciidoctor"),e=(d.$$proto,d.$$scope);a.cdecl(e,"VERSION","1.5.4-dev")}(b)},Opal.modules["asciidoctor/timings"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";
var e=a.top,f=a.nil,g=(a.breaker,a.slice,a.module),h=a.klass,i=a.hash2,j=a.gvars;return function(e){var k=g(e,"Asciidoctor");k.$$proto,k.$$scope;!function(e,g){function k(){}var l=k=h(e,g,"Timings",k),m=l.$$proto;l.$$scope;return m.timers=m.log=f,m.$initialize=function(){var a=this;return a.log=i([],{}),a.timers=i([],{})},m.$start=function(b){var c=this;return c.timers["$[]="](b,a.get("Time").$now())},m.$record=function(c){var d=this;return d.log["$[]="](c,b(a.get("Time").$now(),d.timers.$delete(c)))},m.$read_parse=function(){var a,b=this,e=f;return c(e=d((a=b.log["$[]"]("read"))!==!1&&a!==f?a:0,(a=b.log["$[]"]("parse"))!==!1&&a!==f?a:0),0)?e:f},m.$convert=function(){var a,b=this;return(a=b.log["$[]"]("convert"))!==!1&&a!==f?a:0},m.$read_parse_convert=function(){var a,b=this,e=f;return c(e=d(d((a=b.log["$[]"]("read"))!==!1&&a!==f?a:0,(a=b.log["$[]"]("parse"))!==!1&&a!==f?a:0),(a=b.log["$[]"]("convert"))!==!1&&a!==f?a:0),0)?e:f},m.$total=function(){var a,b=this,e=f;return c(e=d(d(d((a=b.log["$[]"]("read"))!==!1&&a!==f?a:0,(a=b.log["$[]"]("parse"))!==!1&&a!==f?a:0),(a=b.log["$[]"]("convert"))!==!1&&a!==f?a:0),(a=b.log["$[]"]("write"))!==!1&&a!==f?a:0),0)?e:f},m.$print_report=function(a,b){var c=this;return null==j.stdout&&(j.stdout=f),null==a&&(a=j.stdout),null==b&&(b=f),b!==!1&&b!==f&&a.$puts("Input file: "+b),a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](c.$read_parse().$to_f())),a.$puts("  Time to convert document: "+"%05.5f"["$%"](c.$convert().$to_f())),a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](c.$read_parse_convert().$to_f()))},f&&"print_report"}(k,null)}(e)},Opal.modules["asciidoctor/core_ext/object/nil_or_empty"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g,h=f=d(b,e,"NilClass",f),i=h.$$proto;h.$$scope;return(g=h["$respond_to?"]("nil_or_empty?"))===c||g.$$is_boolean&&1!=g?a.defn(h,"$nil_or_empty?",i["$nil?"]):c}(b,null),function(b,e){function f(){}var g,h=f=d(b,e,"String",f),i=h.$$proto;h.$$scope;return(g=h["$respond_to?"]("nil_or_empty?"))===c||g.$$is_boolean&&1!=g?a.defn(h,"$nil_or_empty?",i["$empty?"]):c}(b,null),function(b,e){function f(){}var g,h=f=d(b,e,"Array",f),i=h.$$proto;h.$$scope;return(g=h["$respond_to?"]("nil_or_empty?"))===c||g.$$is_boolean&&1!=g?a.defn(h,"$nil_or_empty?",i["$empty?"]):c}(b,null),function(b,e){function f(){}var g,h=f=d(b,e,"Hash",f),i=h.$$proto;h.$$scope;return(g=h["$respond_to?"]("nil_or_empty?"))===c||g.$$is_boolean&&1!=g?a.defn(h,"$nil_or_empty?",i["$empty?"]):c}(b,null),function(b,e){function f(){}var g,h=f=d(b,e,"Numeric",f),i=h.$$proto;h.$$scope;return(g=h["$respond_to?"]("nil_or_empty?"))===c||g.$$is_boolean&&1!=g?a.defn(h,"$nil_or_empty?",i["$nil?"]):c}(b,null)},Opal.modules["asciidoctor/core_ext"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a,d=a.nil;a.breaker,a.slice;return b.$require("asciidoctor/core_ext/object/nil_or_empty"),c.get("RUBY_ENGINE")["$=="]("opal")?d:void 0},Opal.modules["asciidoctor/helpers"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.range,f=a.gvars;return function(b){var g=d(b,"Asciidoctor");g.$$proto,g.$$scope;!function(b){var g=d(b,"Helpers"),h=(g.$$proto,g.$$scope);a.defs(g,"$require_library",function(b,d,e){var f=this,g=c,h=c;null==d&&(d=!0),null==e&&(e="abort");try{return f.$require(b)}catch(i){if(a.rescue(i,[a.get("LoadError")]))return g=i,d!==!1&&d!==c?(d["$=="](!0)&&(d=b),function(){return h=e,"abort"["$==="](h)?f.$fail("asciidoctor: FAILED: required gem '"+d+"' is not installed. Processing aborted."):"warn"["$==="](h)?f.$warn("asciidoctor: WARNING: optional gem '"+d+"' is not installed. Functionality disabled."):c}()):function(){return h=e,"abort"["$==="](h)?f.$fail("asciidoctor: FAILED: "+g.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](h)?f.$warn("asciidoctor: WARNING: "+g.$message().$chomp(".")+". Functionality disabled."):c}();throw i}}),a.defs(g,"$normalize_lines",function(b){var c=this;return b.$class()["$=="](a.get("String"))?c.$normalize_lines_from_string(b):c.$normalize_lines_array(b)}),a.defs(g,"$normalize_lines_array",function(b){var d,f,g,i,j,k,l,m,n,o=this,p=c,q=c,r=c,s=c;return(d=b["$empty?"]())===c||d.$$is_boolean&&1!=d?(p=(q=b["$[]"](0))["$[]"](e(0,2,!1)).$bytes().$to_a(),(d=h.get("COERCE_ENCODING"))===c||d.$$is_boolean&&1!=d?(p["$=="](h.get("BOM_BYTES_UTF_8"))&&b["$[]="](0,q["$[]"](e(3,-1,!1))),(d=(m=b).$map,d.$$p=(n=function(a){n.$$s||this;return null==a&&(a=c),a.$rstrip()},n.$$s=o,n),d).call(m)):(r=a.get("Encoding").$$scope.get("UTF_8"),(s=p["$[]"](e(0,1,!1)))["$=="](h.get("BOM_BYTES_UTF_16LE"))?(d=(f=b.$join().$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](e(1,-1,!1)).$encode(r).$lines()).$map,d.$$p=(g=function(a){g.$$s||this;return null==a&&(a=c),a.$rstrip()},g.$$s=o,g),d).call(f):s["$=="](h.get("BOM_BYTES_UTF_16BE"))?(b["$[]="](0,q.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](e(1,-1,!1))),(d=(i=b).$map,d.$$p=(j=function(b){j.$$s||this;return null==b&&(b=c),""+b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE")).$encode(r).$rstrip()},j.$$s=o,j),d).call(i)):(p["$[]"](e(0,2,!1))["$=="](h.get("BOM_BYTES_UTF_8"))&&b["$[]="](0,q.$force_encoding(r)["$[]"](e(1,-1,!1))),(d=(k=b).$map,d.$$p=(l=function(a){l.$$s||this;return null==a&&(a=c),a.$encoding()["$=="](r)?a.$rstrip():a.$force_encoding(r).$rstrip()},l.$$s=o,l),d).call(k)))):[]}),a.defs(g,"$normalize_lines_from_string",function(b){var d,f,g,i=this,j=c,k=c,l=c;return(d=b["$nil_or_empty?"]())===c||d.$$is_boolean&&1!=d?((d=h.get("COERCE_ENCODING"))===c||d.$$is_boolean&&1!=d?b["$[]"](e(0,2,!1)).$bytes().$to_a()["$=="](h.get("BOM_BYTES_UTF_8"))&&(b=b["$[]"](e(3,-1,!1))):(j=a.get("Encoding").$$scope.get("UTF_8"),k=b["$[]"](e(0,2,!1)).$bytes().$to_a(),(l=k["$[]"](e(0,1,!1)))["$=="](h.get("BOM_BYTES_UTF_16LE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](e(1,-1,!1)).$encode(j):l["$=="](h.get("BOM_BYTES_UTF_16BE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](e(1,-1,!1)).$encode(j):k["$[]"](e(0,2,!1))["$=="](h.get("BOM_BYTES_UTF_8"))?b=function(){return b.$encoding()["$=="](j)?b["$[]"](e(1,-1,!1)):b.$force_encoding(j)["$[]"](e(1,-1,!1))}():b.$encoding()["$=="](j)||(b=b.$force_encoding(j))),(d=(f=b.$each_line()).$map,d.$$p=(g=function(a){g.$$s||this;return null==a&&(a=c),a.$rstrip()},g.$$s=i,g),d).call(f)):[]}),a.defs(g,"$uriish?",function(a){var b;return b=a["$include?"](":"),b!==!1&&b!==c?a["$=~"](h.get("UriSniffRx")):b}),a.defs(g,"$uri_prefix",function(a){var b,d;return d=a["$include?"](":"),(b=d!==!1&&d!==c?a["$=~"](h.get("UriSniffRx")):d)===c||b.$$is_boolean&&1!=b?c:(b=f["~"])===c?c:b["$[]"](0)}),a.cdecl(h,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),a.defs(g,"$encode_uri",function(a){var b,d,e,g=this;return(b=(d=a).$gsub,b.$$p=(e=function(){var a,b,d,g,h=e.$$s||this;return(a=(b=((g=f["~"])===c?c:g["$[]"](0)).$each_byte()).$map,a.$$p=(d=function(a){var b=d.$$s||this;return null==a&&(a=c),b.$sprintf("%%%02X",a)},d.$$s=h,d),a).call(b).$join()},e.$$s=g,e),b).call(d,h.get("REGEXP_ENCODE_URI_CHARS"))}),a.defs(g,"$rootname",function(b){var d,f=c;return(d=(f=a.get("File").$extname(b))["$empty?"]())===c||d.$$is_boolean&&1!=d?b["$[]"](e(0,f.$length()["$-@"](),!0)):b}),a.defs(g,"$basename",function(b,d){var e;return null==d&&(d=!1),d!==!1&&d!==c?a.get("File").$basename(b,(e=a.get("File").$extname(b))!==!1&&e!==c?e:""):a.get("File").$basename(b)}),a.defs(g,"$mkdir_p",function(b){var d,e,f=this,g=c;return(d=a.get("File")["$directory?"](b))===c||d.$$is_boolean&&1!=d?(g=a.get("File").$dirname(b),e=a.get("File")["$directory?"](g=a.get("File").$dirname(b))["$!"](),(d=e!==!1&&e!==c?g["$=="](".")["$!"]():e)===c||d.$$is_boolean&&1!=d||f.$mkdir_p(g),a.get("Dir").$mkdir(b)):c})}(g)}(b)},Opal.modules["asciidoctor/substitutors"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var f=a.top,g=a.nil,h=a.breaker,i=a.slice,j=a.module,k=a.hash2,l=a.gvars,m=a.range;return function(f){var n=j(f,"Asciidoctor");n.$$proto,n.$$scope;!function(f){var n=j(f,"Substitutors"),o=n.$$proto,p=n.$$scope;a.cdecl(p,"SPECIAL_CHARS",k(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"})),a.cdecl(p,"SPECIAL_CHARS_PATTERN",new RegExp("["+p.get("SPECIAL_CHARS").$keys().$join()+"]")),a.cdecl(p,"SUBS",k(["basic","normal","verbatim","title","header","pass"],{basic:["specialcharacters"],normal:["specialcharacters","quotes","attributes","replacements","macros","post_replacements"],verbatim:["specialcharacters","callouts"],title:["specialcharacters","quotes","replacements","macros","attributes","post_replacements"],header:["specialcharacters","attributes"],pass:[]})),a.cdecl(p,"COMPOSITE_SUBS",k(["none","normal","verbatim","specialchars"],{none:[],normal:p.get("SUBS")["$[]"]("normal"),verbatim:p.get("SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]})),a.cdecl(p,"SUB_SYMBOLS",k(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),a.cdecl(p,"SUB_OPTIONS",k(["block","inline"],{block:b(b(p.get("COMPOSITE_SUBS").$keys(),p.get("SUBS")["$[]"]("normal")),["callouts"]),inline:b(p.get("COMPOSITE_SUBS").$keys(),p.get("SUBS")["$[]"]("normal"))})),a.cdecl(p,"SUB_HIGHLIGHT",["coderay","pygments"]),a.cdecl(p,"PASS_START",""),a.cdecl(p,"PASS_END",""),a.cdecl(p,"PASS_MATCH",/\u0096(\d+)\u0097/),a.cdecl(p,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/),n.$attr_reader("passthroughs"),a.defn(n,"$apply_subs",function(d,e,f){var h,i,j,k,l,m=this,n=g,o=g,q=g,r=g;return null==m.passthroughs&&(m.passthroughs=g),null==e&&(e="normal"),null==f&&(f=!1),(h=e["$!"]())===g||h.$$is_boolean&&1!=h?(e["$=="]("normal")?e=p.get("SUBS")["$[]"]("normal"):f!==!1&&f!==g&&((h=a.get("Symbol")["$==="](e))===g||h.$$is_boolean&&1!=h?(n=[],(h=(i=e).$each,h.$$p=(j=function(a){var c;j.$$s||this;return null==a&&(a=g),(c=p.get("COMPOSITE_SUBS")["$has_key?"](a))===g||c.$$is_boolean&&1!=c?n["$<<"](a):n=b(n,p.get("COMPOSITE_SUBS")["$[]"](a))},j.$$s=m,j),h).call(i),e=n):e=(h=p.get("COMPOSITE_SUBS")["$[]"](e))!==!1&&h!==g?h:[e]),(h=e["$empty?"]())===g||h.$$is_boolean&&1!=h?(o=function(){return(h=q=a.get("Array")["$==="](d))===g||h.$$is_boolean&&1!=h?d:c(d,p.get("EOL"))}(),(h=r=e["$include?"]("macros"))===g||h.$$is_boolean&&1!=h||(o=m.$extract_passthroughs(o),(h=m.passthroughs["$empty?"]())===g||h.$$is_boolean&&1!=h||(r=!1)),(h=(k=e).$each,h.$$p=(l=function(a){var b,d=l.$$s||this,f=g;return null==a&&(a=g),function(){return f=a,"specialcharacters"["$==="](f)?o=d.$sub_specialchars(o):"quotes"["$==="](f)?o=d.$sub_quotes(o):"attributes"["$==="](f)?o=c(d.$sub_attributes(o.$split(p.get("EOL"))),p.get("EOL")):"replacements"["$==="](f)?o=d.$sub_replacements(o):"macros"["$==="](f)?o=d.$sub_macros(o):"highlight"["$==="](f)?o=d.$highlight_source(o,e["$include?"]("callouts")):"callouts"["$==="](f)?(b=e["$include?"]("highlight"))===g||b.$$is_boolean&&1!=b?o=d.$sub_callouts(o):g:"post_replacements"["$==="](f)?o=d.$sub_post_replacements(o):d.$warn("asciidoctor: WARNING: unknown substitution type "+a)}()},l.$$s=m,l),h).call(k),r!==!1&&r!==g&&(o=m.$restore_passthroughs(o)),q!==!1&&q!==g?o.$split(p.get("EOL")):o):d):d}),a.defn(n,"$apply_normal_subs",function(b){var d,e=this;return e.$apply_subs(function(){return(d=a.get("Array")["$==="](b))===g||d.$$is_boolean&&1!=d?b:c(b,p.get("EOL"))}())}),a.defn(n,"$apply_title_subs",function(a){var b=this;return b.$apply_subs(a,p.get("SUBS")["$[]"]("title"))}),a.defn(n,"$apply_header_subs",function(a){var b=this;return b.$apply_subs(a,p.get("SUBS")["$[]"]("header"))}),a.defn(n,"$extract_passthroughs",function(b){var f,h,i,j,n,o,q,r,s=this,t=g,u=g,v=g,w=g;return null==s.document&&(s.document=g),t=s.document.$compat_mode(),(f=(h=(i=b["$include?"]("++"))!==!1&&i!==g?i:b["$include?"]("$$"))!==!1&&h!==g?h:b["$include?"]("ss:"))===g||f.$$is_boolean&&1!=f||(b=(f=(h=b).$gsub,f.$$p=(j=function(){var b,f,h=j.$$s||this,i=g,n=g,o=g,q=g,r=g,s=g,u=g,v=g,w=g;if(null==h.passthroughs&&(h.passthroughs=g),null==l["~"]&&(l["~"]=g),i=l["~"],n=g,(b=(o=i["$[]"](4))["$nil_or_empty?"]())===g||b.$$is_boolean&&1!=b){if((b=(f=t!==!1&&t!==g)?o["$=="]("++"):f)!==g&&(!b.$$is_boolean||1==b))return function(){return(b=i["$[]"](2)["$nil_or_empty?"]())===g||b.$$is_boolean&&1!=b?""+i["$[]"](1)+"["+i["$[]"](2)+"]"+i["$[]"](3)+"++"+h.$extract_passthroughs(i["$[]"](5))+"++":""+i["$[]"](1)+i["$[]"](3)+"++"+h.$extract_passthroughs(i["$[]"](5))+"++"}();if(r=i["$[]"](2),(b=a.get("RUBY_ENGINE_OPAL"))===g||b.$$is_boolean&&1!=b||r["$=="]("")&&(r=g),s=i["$[]"](3).$size(),u=i["$[]"](5),v=!1,r!==!1&&r!==g){if(d(s,0))return""+i["$[]"](1)+"["+r+"]"+c("\\",e(s,1))+o+i["$[]"](5)+o+")";i["$[]"](1)["$=="]("\\")?(n="["+r+"]",r=g):((b=(f=o["$=="]("++"))?r["$end_with?"]("x-"):f)===g||b.$$is_boolean&&1!=b||(v=!0,r=r["$[]"](m(0,-2,!0))),r=h.$parse_attributes(r))}else if(d(s,0))return""+i["$[]"](1)+"["+r+"]"+c("\\",e(s,1))+o+i["$[]"](5)+o;w=function(){return o["$=="]("+++")?[]:["specialcharacters"]}(),q=h.passthroughs.$size(),r!==!1&&r!==g?v!==!1&&v!==g?h.passthroughs["$[]="](q,k(["text","subs","type","attributes"],{text:u,subs:p.get("SUBS")["$[]"]("normal"),type:"monospaced",attributes:r})):h.passthroughs["$[]="](q,k(["text","subs","type","attributes"],{text:u,subs:w,type:"unquoted",attributes:r})):h.passthroughs["$[]="](q,k(["text","subs"],{text:u,subs:w}))}else{if(i["$[]"](6)["$=="]("\\"))return i["$[]"](0)["$[]"](m(1,-1,!1));h.passthroughs["$[]="](q=h.passthroughs.$size(),k(["text","subs"],{text:h.$unescape_brackets(i["$[]"](8)),subs:function(){return(b=i["$[]"](7)["$nil_or_empty?"]())===g||b.$$is_boolean&&1!=b?h.$resolve_pass_subs(i["$[]"](7)):[]}()}))}return""+n+p.get("PASS_START")+q+p.get("PASS_END")},j.$$s=s,j),f).call(h,p.get("PassInlineMacroRx"))),f=a.to_ary(p.get("PassInlineRx")["$[]"](t)),u=null==f[0]?g:f[0],v=null==f[1]?g:f[1],w=null==f[2]?g:f[2],(f=(i=b["$include?"](u))!==!1&&i!==g?i:(n=v!==!1&&v!==g)?b["$include?"](v):n)===g||f.$$is_boolean&&1!=f||(b=(f=(i=b).$gsub,f.$$p=(o=function(){var b,c,d=o.$$s||this,e=g,f=g,h=g,i=g,j=g,n=g,q=g,r=g,s=g;if(null==d.passthroughs&&(d.passthroughs=g),null==l["~"]&&(l["~"]=g),e=l["~"],f=e["$[]"](1),h=e["$[]"](2),i=function(){return(b=e["$[]"](3)["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?g:"\\"}(),j=e["$[]"](4),n=e["$[]"](5),(b=a.get("RUBY_ENGINE_OPAL"))===g||b.$$is_boolean&&1!=b||h["$=="]("")&&(h=g),t!==!1&&t!==g?q=!0:(b=q=(c=h!==!1&&h!==g)?h["$end_with?"]("x-"):c)===g||b.$$is_boolean&&1!=b||(h=h["$[]"](m(0,-2,!0))),h!==!1&&h!==g){if((b=(c=j["$=="]("`"))?q["$!"]():c)!==g&&(!b.$$is_boolean||1==b))return""+f+"["+h+"]"+i+"`"+d.$extract_passthroughs(n)+"`";if(i!==!1&&i!==g)return""+f+"["+h+"]"+e["$[]"](3)["$[]"](m(1,-1,!1));f["$=="]("\\")?(f="["+h+"]",h=g):h=d.$parse_attributes(h)}else{if(!((b=(c=j["$=="]("`"))?q["$!"]():c)===g||b.$$is_boolean&&1!=b))return""+f+i+"`"+d.$extract_passthroughs(n)+"`";if(i!==!1&&i!==g)return""+f+e["$[]"](3)["$[]"](m(1,-1,!1))}return r=d.passthroughs.$size(),t!==!1&&t!==g?d.passthroughs["$[]="](r,k(["text","subs","attributes","type"],{text:n,subs:["specialcharacters"],attributes:h,type:"monospaced"})):h!==!1&&h!==g?q!==!1&&q!==g?(s=function(){return j["$=="]("`")?["specialcharacters"]:p.get("SUBS")["$[]"]("normal")}(),d.passthroughs["$[]="](r,k(["text","subs","attributes","type"],{text:n,subs:s,attributes:h,type:"monospaced"}))):d.passthroughs["$[]="](r,k(["text","subs","attributes","type"],{text:n,subs:["specialcharacters"],attributes:h,type:"unquoted"})):d.passthroughs["$[]="](r,k(["text","subs"],{text:n,subs:["specialcharacters"]})),""+f+p.get("PASS_START")+r+p.get("PASS_END")},o.$$s=s,o),f).call(i,w)),n=b["$include?"](":"),(f=n!==!1&&n!==g?(q=b["$include?"]("stem:"))!==!1&&q!==g?q:b["$include?"]("math:"):n)===g||f.$$is_boolean&&1!=f||(b=(f=(n=b).$gsub,f.$$p=(r=function(){var a,b=r.$$s||this,c=g,d=g,e=g,f=g,h=g,i=g;return null==b.document&&(b.document=g),null==b.passthroughs&&(b.passthroughs=g),null==l["~"]&&(l["~"]=g),c=l["~"],(a=c["$[]"](0)["$start_with?"]("\\"))===g||a.$$is_boolean&&1!=a?((d=c["$[]"](1).$to_sym())["$=="]("stem")&&(d=function(){return(a=(e=b.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===g||a.$$is_boolean&&1!=a?e:"asciimath"}().$to_sym()),f=b.$unescape_brackets(c["$[]"](3)),h=(a=c["$[]"](2)["$nil_or_empty?"]())===g||a.$$is_boolean&&1!=a?b.$resolve_pass_subs(c["$[]"](2)):function(){return(a=b.document["$basebackend?"]("html"))===g||a.$$is_boolean&&1!=a?[]:["specialcharacters"]}(),b.passthroughs["$[]="](i=b.passthroughs.$size(),k(["text","subs","type"],{text:f,subs:h,type:d})),""+p.get("PASS_START")+i+p.get("PASS_END")):c["$[]"](0)["$[]"](m(1,-1,!1))},r.$$s=s,r),f).call(n,p.get("StemInlineMacroRx"))),b}),a.defn(n,"$restore_passthroughs",function(a,b){var c,d,e,f,h=this;null==h.passthroughs&&(h.passthroughs=g),null==b&&(b=!0);try{return(c=(d=b!==!1&&b!==g)?(e=h.passthroughs["$empty?"]())!==!1&&e!==g?e:a["$include?"](p.get("PASS_START"))["$!"]():d)===g||c.$$is_boolean&&1!=c?(c=(d=a).$gsub,c.$$p=(f=function(){var a,b=f.$$s||this,c=g,d=g,e=g,h=g;return null==b.passthroughs&&(b.passthroughs=g),null==l["~"]&&(l["~"]=g),c=b.passthroughs["$[]"](l["~"]["$[]"](1).$to_i()),d=function(){return(a=e=c["$[]"]("subs"))===g||a.$$is_boolean&&1!=a?c["$[]"]("text"):b.$apply_subs(c["$[]"]("text"),e)}(),(a=h=c["$[]"]("type"))===g||a.$$is_boolean&&1!=a||(d=p.get("Inline").$new(b,"quoted",d,k(["type","attributes"],{type:h,attributes:c["$[]"]("attributes")})).$convert()),(a=d["$include?"](p.get("PASS_START")))===g||a.$$is_boolean&&1!=a?d:b.$restore_passthroughs(d,!1)},f.$$s=h,f),c).call(d,p.get("PASS_MATCH")):a}finally{b!==!1&&b!==g&&h.passthroughs.$clear()}}),a.defn(n,"$sub_specialchars",function(a){var b,c,d,e=this;return(b=p.get("SUPPORTS_GSUB_RESULT_HASH"))===g||b.$$is_boolean&&1!=b?(b=(c=a).$gsub,b.$$p=(d=function(){var a;d.$$s||this;return p.get("SPECIAL_CHARS")["$[]"]((a=l["~"])===g?g:a["$[]"](0))},d.$$s=e,d),b).call(c,p.get("SPECIAL_CHARS_PATTERN")):a.$gsub(p.get("SPECIAL_CHARS_PATTERN"),p.get("SPECIAL_CHARS"))}),a.defn(n,"$sub_specialcharacters",o.$sub_specialchars),a.defn(n,"$sub_quotes",function(b){var c,d,e,f,h,i=this,j=g;return null==i.document&&(i.document=g),(c=a.get("RUBY_ENGINE_OPAL"))===g||c.$$is_boolean&&1!=c?(j=""+b,(c=(f=p.get("QUOTE_SUBS")["$[]"](i.document.$compat_mode())).$each,c.$$p=(h=function(a,b,c){var d,e,f,i=h.$$s||this;return null==a&&(a=g),null==b&&(b=g),null==c&&(c=g),(d=(e=j)["$gsub!"],d.$$p=(f=function(){var c=f.$$s||this;return null==l["~"]&&(l["~"]=g),c.$convert_quoted_text(l["~"],a,b)},f.$$s=i,f),d).call(e,c)},h.$$s=i,h),c).call(f)):(j=b,(c=(d=p.get("QUOTE_SUBS")["$[]"](i.document.$compat_mode())).$each,c.$$p=(e=function(a,b,c){var d,f,h,i=e.$$s||this;return null==a&&(a=g),null==b&&(b=g),null==c&&(c=g),j=(d=(f=j).$gsub,d.$$p=(h=function(){var c=h.$$s||this;return null==l["~"]&&(l["~"]=g),c.$convert_quoted_text(l["~"],a,b)},h.$$s=i,h),d).call(f,c)},e.$$s=i,e),c).call(d)),j}),a.defn(n,"$sub_replacements",function(b){var c,d,e,f,h,i=this,j=g;return(c=a.get("RUBY_ENGINE_OPAL"))===g||c.$$is_boolean&&1!=c?(j=""+b,(c=(f=p.get("REPLACEMENTS")).$each,c.$$p=(h=function(a,b,c){var d,e,f,i=h.$$s||this;return null==a&&(a=g),null==b&&(b=g),null==c&&(c=g),(d=(e=j)["$gsub!"],d.$$p=(f=function(){var a=f.$$s||this;return null==l["~"]&&(l["~"]=g),a.$do_replacement(l["~"],b,c)},f.$$s=i,f),d).call(e,a)},h.$$s=i,h),c).call(f)):(j=b,(c=(d=p.get("REPLACEMENTS")).$each,c.$$p=(e=function(a,b,c){var d,f,h,i=e.$$s||this;return null==a&&(a=g),null==b&&(b=g),null==c&&(c=g),j=(d=(f=j).$gsub,d.$$p=(h=function(){var a=h.$$s||this;return null==l["~"]&&(l["~"]=g),a.$do_replacement(l["~"],b,c)},h.$$s=i,h),d).call(f,a)},e.$$s=i,e),c).call(d)),j}),a.defn(n,"$do_replacement",function(a,b,c){var d,e=g,f=g;return(d=(e=a["$[]"](0))["$include?"]("\\"))===g||d.$$is_boolean&&1!=d?function(){return f=c,"none"["$==="](f)?b:"leading"["$==="](f)?""+a["$[]"](1)+b:"bounding"["$==="](f)?""+a["$[]"](1)+b+a["$[]"](2):g}():e.$tr("\\","")}),a.defn(n,"$sub_attributes",function(d,e){var f,i,j,n=this,o=g,q=g,r=g,s=g;return null==n.document&&(n.document=g),null==e&&(e=k([],{})),(f=d["$nil_or_empty?"]())===g||f.$$is_boolean&&1!=f?((f=o=a.get("String")["$==="](d))===g||f.$$is_boolean&&1!=f||(d=[d]),q=n.document.$attributes(),r=g,s=[],(f=(i=d).$each,f.$$p=(j=function(c){var d,f,i,k,n,o=j.$$s||this,t=g,u=g;return null==c&&(c=g),t=!1,u=!1,(d=c["$include?"]("{"))===g||d.$$is_boolean&&1!=d||(c=(d=(f=c).$gsub,d.$$p=(i=function(){var c,d,f=i.$$s||this,j=g,k=g,n=g,o=g,s=g,v=g,w=g,x=g,y=g,z=g;return null==f.document&&(f.document=g),null==l["~"]&&(l["~"]=g),j=l["~"],(c=(d=j["$[]"](1)["$=="]("\\"))!==!1&&d!==g?d:j["$[]"](4)["$=="]("\\"))===g||c.$$is_boolean&&1!=c?(c=j["$[]"](3)["$nil_or_empty?"]()["$!"]())===g||c.$$is_boolean&&1!=c?(c=q["$key?"](z=j["$[]"](2).$downcase()))===g||c.$$is_boolean&&1!=c?(c=p.get("INTRINSIC_ATTRIBUTES")["$key?"](z))===g||c.$$is_boolean&&1!=c?function(){return s=(c=r)!==!1&&c!==g?c:r=(d=e["$[]"]("attribute_missing"))!==!1&&d!==g?d:q.$fetch("attribute-missing",p.get("Compliance").$attribute_missing()),"skip"["$==="](s)?j["$[]"](0):"drop-line"["$==="](s)?(f.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+z),t=!0,h.$v="",h):"warn"["$==="](s)?(f.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+z),j["$[]"](0)):(u=!0,"")}():p.get("INTRINSIC_ATTRIBUTES")["$[]"](z):q["$[]"](z):(k=b((n=j["$[]"](3)).$length(),1),o=j["$[]"](2)["$[]"](m(k,-1,!1)),function(){if(s=n,"set"["$==="](s)){if(v=o.$split(":"),c=a.to_ary(p.get("Parser").$store_attribute(v["$[]"](0),(d=v["$[]"](1))!==!1&&d!==g?d:"",f.document)),w=null==c[0]?g:c[0],x=null==c[1]?g:c[1],x!==!1&&x!==g);else if(q.$fetch("attribute-undefined",p.get("Compliance").$attribute_undefined())["$=="]("drop-line"))return t=!0,h.$v="",h;return u=!0,""}return"counter"["$==="](s)||"counter2"["$==="](s)?(v=o.$split(":"),y=f.document.$counter(v["$[]"](0),v["$[]"](1)),n["$=="]("counter2")?(u=!0,""):y):(f.$warn("asciidoctor: WARNING: illegal attribute directive: "+j["$[]"](3)),j["$[]"](0))}()):"{"+j["$[]"](2)+"}"},i.$$s=o,i),d).call(f,p.get("AttributeReferenceRx"))),(d=(k=t)!==!1&&k!==g?k:(n=u!==!1&&u!==g)?c["$empty?"]():n)===g||d.$$is_boolean&&1!=d?s["$<<"](c):g},j.$$s=n,j),f).call(i),o!==!1&&o!==g?c(s,p.get("EOL")):s):d}),a.defn(n,"$sub_macros",function(b){var c,d,e,f,h,j,n,o,q,r,s,t,u,v,w,x,y,z,A,B,C,D=this,E=g,F=g,G=g,H=g,I=g,J=g;return null==D.document&&(D.document=g),(c=b["$nil_or_empty?"]())===g||c.$$is_boolean&&1!=c?(E=k([],{}),E["$[]="]("square_bracket",b["$include?"]("[")),E["$[]="]("round_bracket",b["$include?"]("(")),E["$[]="]("colon",F=b["$include?"](":")),E["$[]="]("macroish",(c=E["$[]"]("square_bracket"),c!==!1&&c!==g?F:c)),E["$[]="]("macroish_short_form",(d=E["$[]"]("square_bracket"),c=d!==!1&&d!==g?F:d,c!==!1&&c!==g?b["$include?"](":["):c)),G=D.document.$attributes()["$has_key?"]("linkattrs"),H=D.document.$attributes()["$has_key?"]("experimental"),I=""+b,H!==!1&&H!==g&&(d=E["$[]"]("macroish_short_form"),(c=d!==!1&&d!==g?(e=I["$include?"]("kbd:"))!==!1&&e!==g?e:I["$include?"]("btn:"):d)===g||c.$$is_boolean&&1!=c||(I=(c=(d=I).$gsub,c.$$p=(f=function(){var a,b,c,d=f.$$s||this,e=g,h=g,i=g,j=g;return null==l["~"]&&(l["~"]=g),e=l["~"],(a=(h=e["$[]"](0))["$start_with?"]("\\"))===g||a.$$is_boolean&&1!=a?(a=h["$start_with?"]("kbd"))===g||a.$$is_boolean&&1!=a?(a=h["$start_with?"]("btn"))===g||a.$$is_boolean&&1!=a?g:(j=d.$unescape_bracketed_text(e["$[]"](1)),p.get("Inline").$new(d,"button",j).$convert()):(i=d.$unescape_bracketed_text(e["$[]"](1)),i=i["$=="]("+")?["+"]:(a=(b=i.$split(p.get("KbdDelimiterRx"))).$inject,a.$$p=(c=function(a,b){var d;c.$$s||this;return null==a&&(a=g),null==b&&(b=g),(d=b["$end_with?"]("++"))===g||d.$$is_boolean&&1!=d?a["$<<"](b.$strip()):(a["$<<"](b["$[]"](m(0,-3,!1)).$strip()),a["$<<"]("+")),a},c.$$s=d,c),a).call(b,[]),p.get("Inline").$new(d,"kbd",g,k(["attributes"],{attributes:k(["keys"],{keys:i})})).$convert()):h["$[]"](m(1,-1,!1))},f.$$s=D,f),c).call(d,p.get("KbdBtnInlineMacroRx"))),e=E["$[]"]("macroish"),(c=e!==!1&&e!==g?I["$include?"]("menu:"):e)===g||c.$$is_boolean&&1!=c||(I=(c=(e=I).$gsub,c.$$p=(h=function(){var a,b,c,d=h.$$s||this,e=g,f=g,i=g,j=g,n=g,o=g,q=g;return null==l["~"]&&(l["~"]=g),e=l["~"],(a=(f=e["$[]"](0))["$start_with?"]("\\"))===g||a.$$is_boolean&&1!=a?(i=e["$[]"](1),j=e["$[]"](2),(a=j["$!"]())===g||a.$$is_boolean&&1!=a?(a=q=function(){return(b=j["$include?"]("&gt;"))===g||b.$$is_boolean&&1!=b?function(){return(b=j["$include?"](","))===g||b.$$is_boolean&&1!=b?g:","}():"&gt;"}())===g||a.$$is_boolean&&1!=a?(n=[],o=j.$rstrip()):(n=(a=(b=j.$split(q)).$map,a.$$p=(c=function(a){c.$$s||this;return null==a&&(a=g),a.$strip()},c.$$s=d,c),a).call(b),o=n.$pop()):(n=[],o=g),p.get("Inline").$new(d,"menu",g,k(["attributes"],{attributes:k(["menu","submenus","menuitem"],{menu:i,submenus:n,menuitem:o})})).$convert()):f["$[]"](m(1,-1,!1))},h.$$s=D,h),c).call(e,p.get("MenuInlineMacroRx"))),j=I["$include?"]('"'),(c=j!==!1&&j!==g?I["$include?"]("&gt;"):j)===g||c.$$is_boolean&&1!=c||(I=(c=(j=I).$gsub,c.$$p=(n=function(){var b,c,d,e,f=n.$$s||this,h=g,j=g,o=g,q=g,r=g,s=g;return null==l["~"]&&(l["~"]=g),h=l["~"],(b=(j=h["$[]"](0))["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?(o=h["$[]"](1),b=a.to_ary((c=(d=o.$split("&gt;")).$map,c.$$p=(e=function(a){e.$$s||this;return null==a&&(a=g),a.$strip()},e.$$s=f,e),c).call(d)),q=null==b[0]?g:b[0],r=i.call(b,1),s=r.$pop(),p.get("Inline").$new(f,"menu",g,k(["attributes"],{attributes:k(["menu","submenus","menuitem"],{menu:q,submenus:r,menuitem:s})})).$convert()):j["$[]"](m(1,-1,!1))},n.$$s=D,n),c).call(j,p.get("MenuInlineRx")))),o=J=D.document.$extensions(),(c=o!==!1&&o!==g?J["$inline_macros?"]():o)===g||c.$$is_boolean&&1!=c||(c=(o=J.$inline_macros()).$each,c.$$p=(q=function(a){var b,c,d,e=q.$$s||this;return null==a&&(a=g),I=(b=(c=I).$gsub,b.$$p=(d=function(){var b,c=d.$$s||this,e=g,f=g,h=g;return null==l["~"]&&(l["~"]=g),e=l["~"],(b=e["$[]"](0)["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?(f=e["$[]"](1),h=function(){return a.$config()["$[]"]("format")["$=="]("short")?k([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?c.$parse_attributes(e["$[]"](2),(b=a.$config()["$[]"]("pos_attrs"))!==!1&&b!==g?b:[],k(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):k(["text"],{text:c.$unescape_bracketed_text(e["$[]"](2))})}(),a.$process_method()["$[]"](c,f,h)):e["$[]"](0)["$[]"](m(1,-1,!1))},d.$$s=e,d),b).call(c,a.$instance().$regexp())},q.$$s=D,q),c).call(o),r=E["$[]"]("macroish"),(c=r!==!1&&r!==g?(s=I["$include?"]("image:"))!==!1&&s!==g?s:I["$include?"]("icon:"):r)===g||c.$$is_boolean&&1!=c||(I=(c=(r=I).$gsub,c.$$p=(t=function(){var a,b,c,d=t.$$s||this,e=g,f=g,h=g,i=g,j=g,n=g;return null==d.document&&(d.document=g),null==l["~"]&&(l["~"]=g),e=l["~"],(a=e["$[]"](0)["$start_with?"]("\\"))===g||a.$$is_boolean&&1!=a?(f=d.$unescape_bracketed_text(e["$[]"](2)),(a=e["$[]"](0)["$start_with?"]("icon:"))===g||a.$$is_boolean&&1!=a?(h="image",i=["alt","width","height"]):(h="icon",i=["size"]),j=d.$sub_attributes(e["$[]"](1)),h["$=="]("icon")||d.document.$register("images",j),n=d.$parse_attributes(f,i),a="alt",b=n,(c=b["$[]"](a))!==!1&&c!==g?c:b["$[]="](a,p.get("Helpers").$basename(j,!0).$tr("_-"," ")),p.get("Inline").$new(d,"image",g,k(["type","target","attributes"],{type:h,target:j,attributes:n})).$convert()):e["$[]"](0)["$[]"](m(1,-1,!1))},t.$$s=D,t),c).call(r,p.get("ImageInlineMacroRx"))),(c=(s=E["$[]"]("macroish_short_form"))!==!1&&s!==g?s:E["$[]"]("round_bracket"))===g||c.$$is_boolean&&1!=c||(I=(c=(s=I).$gsub,c.$$p=(u=function(){var b,c,d=u.$$s||this,e=g,f=g,h=g,i=g,j=g,n=g;return null==d.document&&(d.document=g),null==l["~"]&&(l["~"]=g),e=l["~"],(b=e["$[]"](0)["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?((b=a.get("RUBY_ENGINE_OPAL"))===g||b.$$is_boolean&&1!=b||e["$[]"](1)["$=="]("")&&e["$[]="](1,g),f=0,h=g,((b=i=e["$[]"](1))===g||b.$$is_boolean&&1!=b)&&(h=e["$[]"](3),c=h["$start_with?"]("("),(b=c!==!1&&c!==g?h["$end_with?"](")"):c)===g||b.$$is_boolean&&1!=b?f=2:(h=h["$[]"](m(1,-1,!0)),f=3)),(b=(c=i["$=="]("indexterm"))!==!1&&c!==g?c:f["$=="](3))===g||b.$$is_boolean&&1!=b?(n=(b=i["$!"]())===g||b.$$is_boolean&&1!=b?d.$normalize_string(e["$[]"](2),!0):d.$normalize_string(h),d.document.$register("indexterms",[n]),p.get("Inline").$new(d,"indexterm",n,k(["type"],{type:"visible"})).$convert()):(j=(b=i["$!"]())===g||b.$$is_boolean&&1!=b?d.$split_simple_csv(d.$normalize_string(e["$[]"](2),!0)):d.$split_simple_csv(d.$normalize_string(h)),d.document.$register("indexterms",[].concat(j)),p.get("Inline").$new(d,"indexterm",g,k(["attributes"],{attributes:k(["terms"],{terms:j})})).$convert())):e["$[]"](0)["$[]"](m(1,-1,!1))},u.$$s=D,u),c).call(s,p.get("IndextermInlineMacroRx"))),(c=(v=F!==!1&&F!==g)?I["$include?"]("://"):v)===g||c.$$is_boolean&&1!=c||(I=(c=(v=I).$gsub,c.$$p=(w=function(){var b,c,d,e,f=w.$$s||this,h=g,i=g,j=g,n=g,o=g,q=g,r=g,s=g;return null==f.document&&(f.document=g),null==l["~"]&&(l["~"]=g),h=l["~"],(b=h["$[]"](2)["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?((b=a.get("RUBY_ENGINE_OPAL"))===g||b.$$is_boolean&&1!=b||h["$[]"](3)["$=="]("")&&h["$[]="](3,g),(b=(c=h["$[]"](1)["$=="]("link:"))?h["$[]"](3)["$!"]():c)===g||b.$$is_boolean&&1!=b?(i=function(){return(b=h["$[]"](1)["$=="]("link:")["$!"]())===g||b.$$is_boolean&&1!=b?"":h["$[]"](1)}(),j=h["$[]"](2),n="",((b=(c=h["$[]"](3))!==!1&&c!==g?c:(d=j["$=~"](p.get("UriTerminator")),d===g||d===!1))===g||b.$$is_boolean&&1!=b)&&(o=l["~"]["$[]"](0),")"["$==="](o)?(j=j["$[]"](m(0,-2,!1)),n=")"):";"["$==="](o)?(c=i["$start_with?"]("&lt;"),(b=c!==!1&&c!==g?j["$end_with?"]("&gt;"):c)===g||b.$$is_boolean&&1!=b?(b=j["$end_with?"](");"))===g||b.$$is_boolean&&1!=b?(j=j["$[]"](m(0,-2,!1)),n=";"):(j=j["$[]"](m(0,-3,!1)),n=");"):(i=i["$[]"](m(4,-1,!1)),j=j["$[]"](m(0,-5,!1)))):":"["$==="](o)&&((b=j["$end_with?"]("):"))===g||b.$$is_boolean&&1!=b?(j=j["$[]"](m(0,-2,!1)),n=":"):(j=j["$[]"](m(0,-3,!1)),n="):"))),f.document.$register("links",j),q=k(["type","target"],{type:"link",target:j}),r=g,(b=h["$[]"](3)["$nil_or_empty?"]())===g||b.$$is_boolean&&1!=b?((b=(c=G!==!1&&G!==g)?(d=h["$[]"](3)["$start_with?"]('"'))!==!1&&d!==g?d:(e=h["$[]"](3)["$include?"](","),e!==!1&&e!==g?h["$[]"](3)["$include?"]("="):e):c)===g||b.$$is_boolean&&1!=b?s=f.$sub_attributes(h["$[]"](3).$gsub("\\]","]")):(r=f.$parse_attributes(f.$sub_attributes(h["$[]"](3).$gsub("\\]","]")),[]),(b=r["$has_key?"]("id"))===g||b.$$is_boolean&&1!=b||q["$[]="]("id",r.$delete("id")),s=(b=r["$[]"](1))!==!1&&b!==g?b:""),(b=s["$end_with?"]("^"))===g||b.$$is_boolean&&1!=b||(s=s.$chop(),r!==!1&&r!==g?(b="window",c=r,(d=c["$[]"](b))!==!1&&d!==g?d:c["$[]="](b,"_blank")):r=k(["window"],{window:"_blank"}))):s="",(b=s["$empty?"]())===g||b.$$is_boolean&&1!=b||(s=(b=f.document["$attr?"]("hide-uri-scheme"))===g||b.$$is_boolean&&1!=b?j:j.$sub(p.get("UriSniffRx"),""),r!==!1&&r!==g?r["$[]="]("role",("bare "+r["$[]"]("role")).$chomp(" ")):r=k(["role"],{role:"bare"})),r!==!1&&r!==g&&q["$[]="]("attributes",r),""+i+p.get("Inline").$new(f,"anchor",s,q).$convert()+n):h["$[]"](0)):""+h["$[]"](1)+h["$[]"](2)["$[]"](m(1,-1,!1))+h["$[]"](3)},w.$$s=D,w),c).call(v,p.get("LinkInlineRx"))),y=E["$[]"]("macroish"),(c=(x=y!==!1&&y!==g?I["$include?"]("link:"):y)!==!1&&x!==g?x:I["$include?"]("mailto:"))===g||c.$$is_boolean&&1!=c||(I=(c=(x=I).$gsub,c.$$p=(z=function(){var a,b,c,d=z.$$s||this,e=g,f=g,h=g,i=g,j=g,n=g,o=g;return null==d.document&&(d.document=g),null==l["~"]&&(l["~"]=g),e=l["~"],(a=e["$[]"](0)["$start_with?"]("\\"))===g||a.$$is_boolean&&1!=a?(f=e["$[]"](1),h=e["$[]"](0)["$start_with?"]("mailto:"),
i=function(){return h!==!1&&h!==g?"mailto:"+f:f}(),j=k(["type","target"],{type:"link",target:i}),n=g,o=function(){return(a=(b=G!==!1&&G!==g)?(c=e["$[]"](2)["$start_with?"]('"'))!==!1&&c!==g?c:e["$[]"](2)["$include?"](","):b)===g||a.$$is_boolean&&1!=a?d.$sub_attributes(e["$[]"](2).$gsub("\\]","]")):(n=d.$parse_attributes(d.$sub_attributes(e["$[]"](2).$gsub("\\]","]")),[]),(a=n["$key?"]("id"))===g||a.$$is_boolean&&1!=a||j["$[]="]("id",n.$delete("id")),h!==!1&&h!==g&&((a=n["$key?"](2))===g||a.$$is_boolean&&1!=a||(i=j["$[]="]("target",""+i+"?subject="+p.get("Helpers").$encode_uri(n["$[]"](2))),(a=n["$key?"](3))===g||a.$$is_boolean&&1!=a||(i=j["$[]="]("target",""+i+"&amp;body="+p.get("Helpers").$encode_uri(n["$[]"](3)))))),n["$[]"](1))}(),d.document.$register("links",i),(a=o["$end_with?"]("^"))===g||a.$$is_boolean&&1!=a||(o=o.$chop(),n!==!1&&n!==g?(a="window",b=n,(c=b["$[]"](a))!==!1&&c!==g?c:b["$[]="](a,"_blank")):n=k(["window"],{window:"_blank"})),(a=o["$empty?"]())===g||a.$$is_boolean&&1!=a||(h!==!1&&h!==g?o=f:(o=(a=d.document["$attr?"]("hide-uri-scheme"))===g||a.$$is_boolean&&1!=a?f:f.$sub(p.get("UriSniffRx"),""),n!==!1&&n!==g?n["$[]="]("role",("bare "+n["$[]"]("role")).$chomp(" ")):n=k(["role"],{role:"bare"}))),n!==!1&&n!==g&&j["$[]="]("attributes",n),p.get("Inline").$new(d,"anchor",o,j).$convert()):e["$[]"](0)["$[]"](m(1,-1,!1))},z.$$s=D,z),c).call(x,p.get("LinkInlineMacroRx"))),(c=I["$include?"]("@"))===g||c.$$is_boolean&&1!=c||(I=(c=(y=I).$gsub,c.$$p=(A=function(){var a,b=A.$$s||this,c=g,d=g,e=g,f=g,h=g;return null==b.document&&(b.document=g),null==l["~"]&&(l["~"]=g),c=l["~"],d=c["$[]"](0),(a=e=c["$[]"](1))===g||a.$$is_boolean&&1!=a?(h="mailto:"+d,b.document.$register("links",h),p.get("Inline").$new(b,"anchor",d,k(["type","target"],{type:"link",target:h})).$convert()):(f=e,"\\"["$==="](f)?d["$[]"](m(1,-1,!1)):d)},A.$$s=D,A),c).call(y,p.get("EmailInlineMacroRx"))),B=E["$[]"]("macroish_short_form"),(c=B!==!1&&B!==g?I["$include?"]("footnote"):B)===g||c.$$is_boolean&&1!=c||(I=(c=(B=I).$gsub,c.$$p=(C=function(){var b,c,d,e,f=C.$$s||this,h=g,i=g,j=g,n=g,o=g,q=g,r=g;return null==f.document&&(f.document=g),null==l["~"]&&(l["~"]=g),h=l["~"],(b=h["$[]"](0)["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?(h["$[]"](1)["$=="]("footnote")?(i=g,j=f.$restore_passthroughs(f.$sub_inline_xrefs(f.$sub_inline_anchors(f.$normalize_string(h["$[]"](2),!0))),!1),n=f.document.$counter("footnote-number"),f.document.$register("footnotes",p.get("Document").$$scope.get("Footnote").$new(n,i,j)),o=g,q=g):(b=a.to_ary(h["$[]"](2).$split(",",2)),i=null==b[0]?g:b[0],j=null==b[1]?g:b[1],i=i.$strip(),(b=j["$nil_or_empty?"]())===g||b.$$is_boolean&&1!=b?(j=f.$restore_passthroughs(f.$sub_inline_xrefs(f.$sub_inline_anchors(f.$normalize_string(j,!0))),!1),n=f.document.$counter("footnote-number"),f.document.$register("footnotes",p.get("Document").$$scope.get("Footnote").$new(n,i,j)),o="ref",q=g):((b=r=(c=(d=f.document.$references()["$[]"]("footnotes")).$find,c.$$p=(e=function(a){e.$$s||this;return null==a&&(a=g),a.$id()["$=="](i)},e.$$s=f,e),c).call(d))===g||b.$$is_boolean&&1!=b?(n=g,j=i):(n=r.$index(),j=r.$text()),q=i,i=g,o="xref")),p.get("Inline").$new(f,"footnote",j,k(["attributes","id","target","type"],{attributes:k(["index"],{index:n}),id:i,target:q,type:o})).$convert()):h["$[]"](0)["$[]"](m(1,-1,!1))},C.$$s=D,C),c).call(B,p.get("FootnoteInlineMacroRx"))),D.$sub_inline_xrefs(D.$sub_inline_anchors(I,E),E)):b}),a.defn(n,"$sub_inline_anchors",function(b,c){var d,e,f,h,i,j,n,o=this;return null==c&&(c=g),e=(f=c["$!"]())!==!1&&f!==g?f:c["$[]"]("square_bracket"),(d=e!==!1&&e!==g?b["$include?"]("[[["):e)===g||d.$$is_boolean&&1!=d||(b=(d=(e=b).$gsub,d.$$p=(h=function(){var a,b=h.$$s||this,c=g,d=g,e=g;return null==l["~"]&&(l["~"]=g),c=l["~"],(a=c["$[]"](0)["$start_with?"]("\\"))===g||a.$$is_boolean&&1!=a?(d=e=c["$[]"](1),p.get("Inline").$new(b,"anchor",e,k(["type","target"],{type:"bibref",target:d})).$convert()):c["$[]"](0)["$[]"](m(1,-1,!1))},h.$$s=o,h),d).call(e,p.get("InlineBiblioAnchorRx"))),i=(j=c["$!"]())!==!1&&j!==g?j:c["$[]"]("square_bracket"),(d=(f=i!==!1&&i!==g?b["$include?"]("[["):i)!==!1&&f!==g?f:(i=(j=c["$!"]())!==!1&&j!==g?j:c["$[]"]("macroish"),i!==!1&&i!==g?b["$include?"]("anchor:"):i))===g||d.$$is_boolean&&1!=d||(b=(d=(f=b).$gsub,d.$$p=(n=function(){var b,c,d=n.$$s||this,e=g,f=g,h=g;return null==l["~"]&&(l["~"]=g),e=l["~"],(b=e["$[]"](0)["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?((b=a.get("RUBY_ENGINE_OPAL"))===g||b.$$is_boolean&&1!=b||(e["$[]"](1)["$=="]("")&&e["$[]="](1,g),e["$[]"](2)["$=="]("")&&e["$[]="](2,g),e["$[]"](4)["$=="]("")&&e["$[]="](4,g)),f=(b=e["$[]"](1))!==!1&&b!==g?b:e["$[]"](3),h=(b=(c=e["$[]"](2))!==!1&&c!==g?c:e["$[]"](4))!==!1&&b!==g?b:"["+f+"]",p.get("Inline").$new(d,"anchor",h,k(["type","target"],{type:"ref",target:f})).$convert()):e["$[]"](0)["$[]"](m(1,-1,!1))},n.$$s=o,n),d).call(f,p.get("InlineAnchorRx"))),b}),a.defn(n,"$sub_inline_xrefs",function(b,c){var d,e,f,h,i=this;return null==c&&(c=g),(d=(e=(f=c["$!"]())!==!1&&f!==g?f:c["$[]"]("macroish"))!==!1&&e!==g?e:b["$include?"]("&lt;&lt;"))===g||d.$$is_boolean&&1!=d||(b=(d=(e=b).$gsub,d.$$p=(h=function(){var b,c,d,e,f,i,j=h.$$s||this,n=g,o=g,q=g,r=g,s=g,t=g,u=g,v=g;return null==j.document&&(j.document=g),null==l["~"]&&(l["~"]=g),n=l["~"],(b=n["$[]"](0)["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?((b=a.get("RUBY_ENGINE_OPAL"))===g||b.$$is_boolean&&1!=b||n["$[]"](1)["$=="]("")&&n["$[]="](1,g),(b=n["$[]"](1))===g||b.$$is_boolean&&1!=b?(o=n["$[]"](2),((b=n["$[]"](3)["$nil_or_empty?"]())===g||b.$$is_boolean&&1!=b)&&(q=n["$[]"](3))):(b=a.to_ary((c=(d=n["$[]"](1).$split(",",2)).$map,c.$$p=(e=function(a){e.$$s||this;return null==a&&(a=g),a.$strip()},e.$$s=j,e),c).call(d)),o=null==b[0]?g:b[0],q=null==b[1]?g:b[1],o=o.$sub(p.get("DoubleQuotedRx"),"\\2"),q=function(){return(b=q["$nil_or_empty?"]())===g||b.$$is_boolean&&1!=b?q.$sub(p.get("DoubleQuotedMultiRx"),"\\2"):g}()),(b=o["$include?"]("#"))===g||b.$$is_boolean&&1!=b?(r=g,s=o):(b=a.to_ary(o.$split("#")),r=null==b[0]?g:b[0],s=null==b[1]?g:b[1]),r!==!1&&r!==g?(r=p.get("Helpers").$rootname(r),(b=(c=j.document.$attributes()["$[]"]("docname")["$=="](r))!==!1&&c!==g?c:j.document.$references()["$[]"]("includes")["$include?"](r))===g||b.$$is_boolean&&1!=b?(t=function(){return s!==!1&&s!==g?""+r+"#"+s:r}(),r=""+j.document.$attributes()["$[]"]("relfileprefix")+r+j.document.$attributes().$fetch("outfilesuffix",".html"),u=function(){return s!==!1&&s!==g?""+r+"#"+s:r}()):(t=s,r=g,u="#"+s)):(f=j.document.$references()["$[]"]("ids")["$has_key?"](s)["$!"](),c=f!==!1&&f!==g?(i=s["$include?"](" "))!==!1&&i!==g?i:s.$downcase()["$=="](s)["$!"]():f,(b=c!==!1&&c!==g?v=function(){return(f=p.get("RUBY_MIN_VERSION_1_9"))===g||f.$$is_boolean&&1!=f?j.document.$references()["$[]"]("ids").$index(s):j.document.$references()["$[]"]("ids").$key(s)}():c)===g||b.$$is_boolean&&1!=b||(s=v),t=s,u="#"+s),p.get("Inline").$new(j,"anchor",q,k(["type","target","attributes"],{type:"xref",target:u,attributes:k(["path","fragment","refid"],{path:r,fragment:s,refid:t})})).$convert()):n["$[]"](0)["$[]"](m(1,-1,!1))},h.$$s=i,h),d).call(e,p.get("XrefInlineMacroRx"))),b}),a.defn(n,"$sub_callouts",function(b){var c,d,e,f=this,h=g;return h=function(){return(c=f["$attr?"]("line-comment"))===g||c.$$is_boolean&&1!=c?p.get("CalloutSourceRx"):new RegExp("(?:"+a.get("Regexp").$escape(f.$attr("line-comment"))+" )?"+p.get("CalloutSourceRxt"))}(),(c=(d=b).$gsub,c.$$p=(e=function(){var a=e.$$s||this,b=g;return null==a.document&&(a.document=g),null==l["~"]&&(l["~"]=g),b=l["~"],b["$[]"](1)["$=="]("\\")?b["$[]"](0).$sub("\\",""):p.get("Inline").$new(a,"callout",b["$[]"](3),k(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},e.$$s=f,e),c).call(d,h)}),a.defn(n,"$sub_post_replacements",function(a){var b,d,e,f,h,i=this,j=g,m=g;return null==i.document&&(i.document=g),null==i.attributes&&(i.attributes=g),(b=(d=i.document.$attributes()["$has_key?"]("hardbreaks"))!==!1&&d!==g?d:i.attributes["$has_key?"]("hardbreaks-option"))===g||b.$$is_boolean&&1!=b?(b=a["$include?"]("+"))===g||b.$$is_boolean&&1!=b?a:(b=(f=a).$gsub,b.$$p=(h=function(){var a=h.$$s||this;return null==l["~"]&&(l["~"]=g),p.get("Inline").$new(a,"break",l["~"]["$[]"](1),k(["type"],{type:"line"})).$convert()},h.$$s=i,h),b).call(f,p.get("LineBreakRx")):(j=a.$split(p.get("EOL")),j.$size()["$=="](1)?a:(m=j.$pop(),c((b=(d=j).$map,b.$$p=(e=function(a){var b=e.$$s||this;return null==a&&(a=g),p.get("Inline").$new(b,"break",a.$rstrip().$chomp(p.get("LINE_BREAK")),k(["type"],{type:"line"})).$convert()},e.$$s=i,e),b).call(d).$push(m),p.get("EOL"))))}),a.defn(n,"$convert_quoted_text",function(a,b,c){var d,e,f=this,h=g,i=g,j=g,l=g;if(h=g,(d=a["$[]"](0)["$start_with?"]("\\"))!==g&&(!d.$$is_boolean||1==d)){if((d=(e=c["$=="]("constrained"))?(i=a["$[]"](2))["$nil_or_empty?"]()["$!"]():e)===g||d.$$is_boolean&&1!=d)return a["$[]"](0)["$[]"](m(1,-1,!1));h="["+i+"]"}return c["$=="]("constrained")?h!==!1&&h!==g?""+h+p.get("Inline").$new(f,"quoted",a["$[]"](3),k(["type"],{type:b})).$convert():((d=j=f.$parse_quoted_text_attributes(a["$[]"](2)))===g||d.$$is_boolean&&1!=d?l=g:(l=j.$delete("id"),b["$=="]("mark")&&(b="unquoted")),""+a["$[]"](1)+p.get("Inline").$new(f,"quoted",a["$[]"](3),k(["type","id","attributes"],{type:b,id:l,attributes:j})).$convert()):((d=j=f.$parse_quoted_text_attributes(a["$[]"](1)))===g||d.$$is_boolean&&1!=d?l=g:(l=j.$delete("id"),b["$=="]("mark")&&(b="unquoted")),p.get("Inline").$new(f,"quoted",a["$[]"](2),k(["type","id","attributes"],{type:b,id:l,attributes:j})).$convert())}),a.defn(n,"$parse_quoted_text_attributes",function(b){var e,f,h,j=this,l=g,m=g,n=g,o=g,q=g,r=g;return b===!1||b===g?g:(e=b["$empty?"]())===g||e.$$is_boolean&&1!=e?((e=b["$include?"]("{"))===g||e.$$is_boolean&&1!=e||(b=j.$sub_attributes(b)),b=b.$strip(),(e=b["$include?"](","))===g||e.$$is_boolean&&1!=e||(e=a.to_ary(b.$split(",",2)),b=null==e[0]?g:e[0],l=null==e[1]?g:e[1]),(e=b["$empty?"]())===g||e.$$is_boolean&&1!=e?(f=(h=b["$start_with?"]("."))!==!1&&h!==g?h:b["$start_with?"]("#"),(e=f!==!1&&f!==g?p.get("Compliance").$shorthand_property_syntax():f)===g||e.$$is_boolean&&1!=e?k(["role"],{role:b}):(m=b.$split("#",2),d(m.$length(),1)?(e=a.to_ary(m["$[]"](1).$split(".")),n=null==e[0]?g:e[0],o=i.call(e,1)):(n=g,o=[]),q=function(){return(e=m["$[]"](0)["$empty?"]())===g||e.$$is_boolean&&1!=e?m["$[]"](0).$split("."):[]}(),d(q.$length(),1)&&q.$shift(),d(o.$length(),0)&&q.$concat(o),r=k([],{}),n!==!1&&n!==g&&r["$[]="]("id",n),((e=q["$empty?"]())===g||e.$$is_boolean&&1!=e)&&r["$[]="]("role",c(q," ")),r)):k([],{})):k([],{})}),a.defn(n,"$parse_attributes",function(a,b,c){var d,e=this,f=g,h=g;return null==e.document&&(e.document=g),null==b&&(b=["role"]),null==c&&(c=k([],{})),a===!1||a===g?g:(d=a["$empty?"]())===g||d.$$is_boolean&&1!=d?((d=c["$[]"]("sub_input"))===g||d.$$is_boolean&&1!=d||(a=e.document.$sub_attributes(a)),(d=c["$[]"]("unescape_input"))===g||d.$$is_boolean&&1!=d||(a=e.$unescape_bracketed_text(a)),f=g,(d=c.$fetch("sub_result",!0))===g||d.$$is_boolean&&1!=d||(f=e),(d=h=c["$[]"]("into"))===g||d.$$is_boolean&&1!=d?p.get("AttributeList").$new(a,f).$parse(b):p.get("AttributeList").$new(a,f).$parse_into(h,b)):k([],{})}),a.defn(n,"$unescape_bracketed_text",function(a){var b;return(b=a["$empty?"]())===g||b.$$is_boolean&&1!=b?a.$strip().$tr(p.get("EOL")," ").$gsub("\\]","]"):""}),a.defn(n,"$normalize_string",function(a,b){var c,d=this;return null==b&&(b=!1),(c=a["$empty?"]())===g||c.$$is_boolean&&1!=c?b!==!1&&b!==g?d.$unescape_brackets(a.$strip().$tr(p.get("EOL")," ")):a.$strip().$tr(p.get("EOL")," "):""}),a.defn(n,"$unescape_brackets",function(a){var b;return(b=a["$empty?"]())===g||b.$$is_boolean&&1!=b?a.$gsub("\\]","]"):""}),a.defn(n,"$split_simple_csv",function(a){var b,c,d,e,f,h=this,i=g,j=g,k=g;return(b=a["$empty?"]())===g||b.$$is_boolean&&1!=b?(b=a["$include?"]('"'))===g||b.$$is_boolean&&1!=b?i=(b=(e=a.$split(",")).$map,b.$$p=(f=function(a){f.$$s||this;return null==a&&(a=g),a.$strip()},f.$$s=h,f),b).call(e):(i=[],j=[],k=!1,(b=(c=a).$each_char,b.$$p=(d=function(a){var b=(d.$$s||this,g);return null==a&&(a=g),function(){return b=a,","["$==="](b)?k!==!1&&k!==g?j.$push(a):(i["$<<"](j.$join().$strip()),j=[]):'"'["$==="](b)?k=k["$!"]():j.$push(a)}()},d.$$s=h,d),b).call(c),i["$<<"](j.$join().$strip())):i=[],i}),a.defn(n,"$resolve_subs",function(a,f,h,i){var j,k,l,n=this,o=g,q=g,r=g,s=g;return null==f&&(f="block"),null==h&&(h=g),null==i&&(i=g),(j=a["$nil_or_empty?"]())===g||j.$$is_boolean&&1!=j?(o=g,q=p.get("SubModifierSniffRx")["$=~"](a),(j=(k=a.$tr(" ","").$split(",")).$each,j.$$p=(l=function(a){var c,d,i,j=(l.$$s||this,g),k=g,n=g,r=g,s=g,t=g;return null==a&&(a=g),j=g,q!==!1&&q!==g&&((k=a.$chr())["$=="]("+")?(j="append",a=a["$[]"](m(1,-1,!1))):k["$=="]("-")?(j="remove",a=a["$[]"](m(1,-1,!1))):(c=a["$end_with?"]("+"))===g||c.$$is_boolean&&1!=c||(j="prepend",a=a.$chop())),a=a.$to_sym(),(c=(d=f["$=="]("inline"))?(i=a["$=="]("verbatim"))!==!1&&i!==g?i:a["$=="]("v"):d)===g||c.$$is_boolean&&1!=c?(c=p.get("COMPOSITE_SUBS")["$key?"](a))===g||c.$$is_boolean&&1!=c?(d=(i=f["$=="]("inline"))?a.$length()["$=="](1):i,(c=d!==!1&&d!==g?p.get("SUB_SYMBOLS")["$key?"](a):d)===g||c.$$is_boolean&&1!=c?n=[a]:(r=p.get("SUB_SYMBOLS")["$[]"](a),n=(c=s=p.get("COMPOSITE_SUBS")["$[]"](r))===g||c.$$is_boolean&&1!=c?[r]:s)):n=p.get("COMPOSITE_SUBS")["$[]"](a):n=["specialcharacters"],j!==!1&&j!==g?((c=o)!==!1&&c!==g?c:o=function(){return h!==!1&&h!==g?h.$dup():[]}(),function(){return t=j,"append"["$==="](t)?o=b(o,n):"prepend"["$==="](t)?o=b(n,o):"remove"["$==="](t)?o=e(o,n):g}()):((c=o)!==!1&&c!==g?c:o=[],o=b(o,n))},l.$$s=n,l),j).call(k),r=o["$&"](p.get("SUB_OPTIONS")["$[]"](f)),((j=e(o,r)["$empty?"]())===g||j.$$is_boolean&&1!=j)&&(s=e(o,r),n.$warn("asciidoctor: WARNING: invalid substitution type"+function(){return d(s.$size(),1)?"s":""}()+function(){return i!==!1&&i!==g?" for ":g}()+i+": "+c(s,", "))),r):[]}),a.defn(n,"$resolve_block_subs",function(a,b,c){var d=this;return d.$resolve_subs(a,"block",b,c)}),a.defn(n,"$resolve_pass_subs",function(a){var b=this;return b.$resolve_subs(a,"inline",g,"passthrough macro")}),a.defn(n,"$highlight_source",function(d,e,f){var h,i,j,n,o,q=this,r=g,s=g,t=g,u=g,v=g,w=g,x=g,y=g,z=g,A=g,B=g,C=g,D=g;return null==q.document&&(q.document=g),null==q.passthroughs&&(q.passthroughs=g),null==f&&(f=g),r=(h=f)!==!1&&h!==g?h:f=q.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](r)?((h=(i=s=null==a.Object.$$scope.CodeRay?g:"constant")!==!1&&i!==g?i:q.document.$attributes()["$[]"]("coderay-unavailable"))===g||h.$$is_boolean&&1!=h)&&((h=p.get("Helpers").$require_library("coderay",!0,"warn")["$nil?"]())===g||h.$$is_boolean&&1!=h?s=!0:q.document.$set_attr("coderay-unavailable",!0)):"pygments"["$==="](r)?((h=(i=s=null==a.Object.$$scope.Pygments?g:"constant")!==!1&&i!==g?i:q.document.$attributes()["$[]"]("pygments-unavailable"))===g||h.$$is_boolean&&1!=h)&&((h=p.get("Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())===g||h.$$is_boolean&&1!=h?s=!0:q.document.$set_attr("pygments-unavailable",!0)):s=!1,s===!1||s===g?q.$sub_source(d,e):(t=0,u=!1,e!==!1&&e!==g?(v=k([],{}),w=-1,x=function(){return(h=q["$attr?"]("line-comment"))===g||h.$$is_boolean&&1!=h?p.get("CalloutExtractRx"):new RegExp("(?:"+a.get("Regexp").$escape(q.$attr("line-comment"))+" )?"+p.get("CalloutExtractRxt"))}(),d=c((h=(i=d.$split(p.get("EOL"))).$map,h.$$p=(j=function(a){var c,d,e,f=j.$$s||this;return null==a&&(a=g),t=b(t,1),(c=(d=a).$gsub,c.$$p=(e=function(){var a,b,c,d=(e.$$s||this,g);return null==l["~"]&&(l["~"]=g),d=l["~"],d["$[]"](1)["$=="]("\\")?d["$[]"](0).$sub("\\",""):((a=t,b=v,(c=b["$[]"](a))!==!1&&c!==g?c:b["$[]="](a,[]))["$<<"](d["$[]"](3)),w=t,g)},e.$$s=f,e),c).call(d,x)},j.$$s=q,j),h).call(i),p.get("EOL")),u=w["$=="](t),(h=v["$empty?"]())===g||h.$$is_boolean&&1!=h||(v=g)):v=g,y=g,z=g,r=f,"coderay"["$==="](r)?((h=y=function(){return(n=q["$attr?"]("linenums"))===g||n.$$is_boolean&&1!=n?g:((n=q.document.$attributes()["$[]"]("coderay-linenums-mode"))!==!1&&n!==g?n:"table").$to_sym()}())===g||h.$$is_boolean&&1!=h||(h=q["$attr?"]("highlight",g,!1))===g||h.$$is_boolean&&1!=h||(z=q.$resolve_lines_to_highlight(q.$attr("highlight",g,!1))),A=a.get("CodeRay").$$scope.get("Duo")["$[]"](q.$attr("language","text",!1).$to_sym(),"html",k(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:((h=q.document.$attributes()["$[]"]("coderay-css"))!==!1&&h!==g?h:"class").$to_sym(),line_numbers:y,line_number_anchors:!1,highlight_lines:z,bold_every:!1})).$highlight(d)):"pygments"["$==="](r)&&(B=(h=a.get("Pygments").$$scope.get("Lexer")["$[]"](q.$attr("language",g,!1)))!==!1&&h!==g?h:a.get("Pygments").$$scope.get("Lexer")["$[]"]("text"),C=k(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0}),((h=q.document.$attributes()["$[]"]("pygments-css"))!==!1&&h!==g?h:"class")["$=="]("class")||(C["$[]="]("noclasses",!0),C["$[]="]("style",(h=q.document.$attributes()["$[]"]("pygments-style"))!==!1&&h!==g?h:p.get("Stylesheets").$$scope.get("DEFAULT_PYGMENTS_STYLE"))),(h=q["$attr?"]("highlight",g,!1))===g||h.$$is_boolean&&1!=h||((h=(z=q.$resolve_lines_to_highlight(q.$attr("highlight",g,!1)))["$empty?"]())===g||h.$$is_boolean&&1!=h)&&C["$[]="]("hl_lines",c(z," ")),(h=q["$attr?"]("linenums"))===g||h.$$is_boolean&&1!=h?(C["$[]="]("nowrap",!0),A=B.$highlight(d,k(["options"],{options:C}))):C["$[]="]("linenos",(h=q.document.$attributes()["$[]"]("pygments-linenums-mode"))!==!1&&h!==g?h:"table")["$=="]("table")?(y="table",A=B.$highlight(d,k(["options"],{options:C})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):A=B.$highlight(d,k(["options"],{options:C})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")),((h=q.passthroughs["$empty?"]())===g||h.$$is_boolean&&1!=h)&&(A=A.$gsub(p.get("PASS_MATCH_HI"),""+p.get("PASS_START")+"\\1"+p.get("PASS_END"))),(h=(n=e!==!1&&e!==g)?v:n)===g||h.$$is_boolean&&1!=h?A:(t=0,D=y["$=="]("table")["$!"](),c((h=(n=A.$split(p.get("EOL"))).$map,h.$$p=(o=function(a){var d,e,f,h=o.$$s||this,i=g,j=g,l=g,n=g;if(null==h.document&&(h.document=g),null==a&&(a=g),D!==!1&&D!==g);else{if((d=a["$include?"]('<td class="code">'))===g||d.$$is_boolean&&1!=d)return a;D=!0}return t=b(t,1),(d=i=v.$delete(t))===g||d.$$is_boolean&&1!=d?a:(j=g,(d=(e=u!==!1&&u!==g)?v["$empty?"]():e)===g||d.$$is_boolean&&1!=d||((d=l=a.$index("</pre>"))===g||d.$$is_boolean&&1!=d?a=""+a.$chomp(" ")+" ":(j=a["$[]"](m(l,-1,!1)),a=""+a["$[]"](m(0,l,!0)).$chomp(" ")+" ")),i.$size()["$=="](1)?""+a+p.get("Inline").$new(h,"callout",i["$[]"](0),k(["id"],{id:h.document.$callouts().$read_next_id()})).$convert()+j:(n=c((d=(e=i).$map,d.$$p=(f=function(a){var b=f.$$s||this;return null==b.document&&(b.document=g),null==a&&(a=g),p.get("Inline").$new(b,"callout",a,k(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()},f.$$s=h,f),d).call(e)," "),""+a+n+j))},o.$$s=q,o),h).call(n),p.get("EOL"))))}),a.defn(n,"$resolve_lines_to_highlight",function(b){var c,d,f,h=this,i=g;return i=[],(c=(d=b.$delete(" ").$split(p.get("DataDelimiterRx"))).$map,c.$$p=(f=function(b){var c,d=(f.$$s||this,g),h=g,j=g,k=g;return null==b&&(b=g),d=!1,(c=b["$start_with?"]("!"))===g||c.$$is_boolean&&1!=c||(b=b["$[]"](m(1,-1,!1)),d=!0),(c=b["$include?"]("-"))===g||c.$$is_boolean&&1!=c?d!==!1&&d!==g?i.$delete(b.$to_i()):i["$<<"](b.$to_i()):(c=a.to_ary(b.$split("-",2)),h=null==c[0]?g:c[0],j=null==c[1]?g:c[1],k=m(h.$to_i(),j.$to_i(),!1).$to_a(),d!==!1&&d!==g?i=e(i,k):i.$concat(k))},f.$$s=h,f),c).call(d),i.$sort().$uniq()}),a.defn(n,"$sub_source",function(a,b){var c=this;return function(){return b!==!1&&b!==g?c.$sub_callouts(c.$sub_specialchars(a)):c.$sub_specialchars(a)}()}),a.defn(n,"$lock_in_subs",function(){var a,b,c,d,e,f,h=this,i=g,j=g,k=g;if(null==h.default_subs&&(h.default_subs=g),null==h.content_model&&(h.content_model=g),null==h.context&&(h.context=g),null==h.attributes&&(h.attributes=g),null==h.style&&(h.style=g),null==h.document&&(h.document=g),null==h.subs&&(h.subs=g),(a=h.default_subs)===g||a.$$is_boolean&&1!=a)if(j=h.content_model,"simple"["$==="](j))i=p.get("SUBS")["$[]"]("normal");else if("verbatim"["$==="](j))i=(a=(b=h.context["$=="]("listing"))!==!1&&b!==g?b:(c=h.context["$=="]("literal"))?h["$option?"]("listparagraph")["$!"]():c)===g||a.$$is_boolean&&1!=a?h.context["$=="]("verse")?p.get("SUBS")["$[]"]("normal"):p.get("SUBS")["$[]"]("basic"):p.get("SUBS")["$[]"]("verbatim");else{if(!"raw"["$==="](j))return g;i=h.context["$=="]("stem")?p.get("SUBS")["$[]"]("basic"):p.get("SUBS")["$[]"]("pass")}else i=h.default_subs;return(a=k=h.attributes["$[]"]("subs"))===g||a.$$is_boolean&&1!=a?h.subs=i.$dup():h.subs=h.$resolve_block_subs(k,i,h.context),d=(e=h.context["$=="]("listing"))?h.style["$=="]("source"):e,c=d!==!1&&d!==g?h.attributes["$[]"]("language"):d,b=c!==!1&&c!==g?h.document["$basebackend?"]("html"):c,(a=b!==!1&&b!==g?p.get("SUB_HIGHLIGHT")["$include?"](h.document.$attributes()["$[]"]("source-highlighter")):b)===g||a.$$is_boolean&&1!=a?g:h.subs=(a=(b=h.subs).$map,a.$$p=(f=function(a){f.$$s||this;return null==a&&(a=g),a["$=="]("specialcharacters")?"highlight":a},f.$$s=h,f),a).call(b)})}(n)}(f)},Opal.modules["asciidoctor/abstract_node"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="ignore";var d=a.top,e=a.nil,f=(a.breaker,a.slice,a.module),g=a.klass,h=a.hash2,i=a.range;return function(d){var j=f(d,"Asciidoctor");j.$$proto,j.$$scope;!function(d,f){function j(){}var k=j=g(d,f,"AbstractNode",j),l=k.$$proto,m=k.$$scope;return l.document=l.attributes=l.path_resolver=l.style=e,k.$include(m.get("Substitutors")),k.$attr_reader("parent"),k.$attr_reader("document"),k.$attr_reader("context"),k.$attr_reader("node_name"),k.$attr_accessor("id"),k.$attr_reader("attributes"),l.$initialize=function(a,b,c){var d,f=this;return null==c&&(c=h([],{})),b["$=="]("document")?f.document=a:a!==!1&&a!==e?(f.parent=a,f.document=a.$document()):(f.parent=e,f.document=e),f.context=b,f.node_name=b.$to_s(),f.attributes=function(){return(d=c["$key?"]("attributes"))===e||d.$$is_boolean&&1!=d?h([],{}):c["$[]"]("attributes").$dup()}(),f.passthroughs=h([],{})},l["$parent="]=function(a){var b=this;return b.parent=a,b.document=a.$document(),e},l["$inline?"]=function(){var b=this;return b.$raise(a.get("NotImplementedError"))},l["$block?"]=function(){var b=this;return b.$raise(a.get("NotImplementedError"))},l.$attr=function(b,c,d){var f,g,h=this;return null==c&&(c=e),null==d&&(d=!0),(f=a.get("Symbol")["$==="](b))===e||f.$$is_boolean&&1!=f||(b=b.$to_s()),h["$=="](h.document)&&(d=!1),d!==!1&&d!==e?(f=(g=h.attributes["$[]"](b))!==!1&&g!==e?g:h.document.$attributes()["$[]"](b))!==!1&&f!==e?f:c:(f=h.attributes["$[]"](b))!==!1&&f!==e?f:c},l["$attr?"]=function(b,c,d){var f,g,h=this;return null==c&&(c=e),null==d&&(d=!0),(f=a.get("Symbol")["$==="](b))===e||f.$$is_boolean&&1!=f||(b=b.$to_s()),h["$=="](h.document)&&(d=!1),(f=c["$nil?"]())===e||f.$$is_boolean&&1!=f?d!==!1&&d!==e?c["$=="]((f=h.attributes["$[]"](b))!==!1&&f!==e?f:h.document.$attributes()["$[]"](b)):c["$=="](h.attributes["$[]"](b)):(f=h.attributes["$has_key?"](b))!==!1&&f!==e?f:(g=d!==!1&&d!==e)?h.document.$attributes()["$has_key?"](b):g},l.$set_attr=function(a,b,c){var d,f,g=this;return null==c&&(c=!0),(d=(f=c["$=="](!1))?g.attributes["$key?"](a):f)===e||d.$$is_boolean&&1!=d?(g.attributes["$[]="](a,b),!0):!1},l.$set_option=function(a){var b,c=this;return(b=c.attributes["$has_key?"]("options"))===e||b.$$is_boolean&&1!=b?c.attributes["$[]="]("options",a):c.attributes["$[]="]("options",""+c.attributes["$[]"]("options")+","+a),c.attributes["$[]="](""+a+"-option","")},l["$option?"]=function(a){var b=this;return b.attributes["$has_key?"](""+a+"-option")},l.$update_attributes=function(a){var b=this;return b.attributes.$update(a),e},l.$converter=function(){var a=this;return a.document.$converter()},l["$role?"]=function(a){var b,c=this;return null==a&&(a=e),a!==!1&&a!==e?a["$=="]((b=c.attributes["$[]"]("role"))!==!1&&b!==e?b:c.document.$attributes()["$[]"]("role")):(b=c.attributes["$has_key?"]("role"))!==!1&&b!==e?b:c.document.$attributes()["$has_key?"]("role")},l.$role=function(){var a,b=this;return(a=b.attributes["$[]"]("role"))!==!1&&a!==e?a:b.document.$attributes()["$[]"]("role")},l["$has_role?"]=function(a){var b,c,d=this,f=e;return(b=f=(c=d.attributes["$[]"]("role"))!==!1&&c!==e?c:d.document.$attributes()["$[]"]("role"))===e||b.$$is_boolean&&1!=b?!1:f.$split(" ")["$include?"](a)},l.$roles=function(){var a,b,c=this,d=e;return(a=d=(b=c.attributes["$[]"]("role"))!==!1&&b!==e?b:c.document.$attributes()["$[]"]("role"))===e||a.$$is_boolean&&1!=a?[]:d.$split(" ")},l.$add_role=function(a){var c,d,f=this,g=e;return(c=(g=((d=f.attributes["$[]"]("role"))!==!1&&d!==e?d:"").$split(" "))["$include?"](a))===e||c.$$is_boolean&&1!=c?f.attributes["$[]="]("role",b(g.$push(a)," ")):e},l.$remove_role=function(a){var c,d,f=this,g=e;return(c=(g=((d=f.attributes["$[]"]("role"))!==!1&&d!==e?d:"").$split(" "))["$include?"](a))===e||c.$$is_boolean&&1!=c?e:(g.$delete(a),f.attributes["$[]="]("role",b(g," ")))},l["$reftext?"]=function(){var a,b=this;return(a=b.attributes["$has_key?"]("reftext"))!==!1&&a!==e?a:b.document.$attributes()["$has_key?"]("reftext")},l.$reftext=function(){var a,b=this;return(a=b.attributes["$[]"]("reftext"))!==!1&&a!==e?a:b.document.$attributes()["$[]"]("reftext")},l.$icon_uri=function(a){var b,c=this;return(b=c["$attr?"]("icon"))===e||b.$$is_boolean&&1!=b?c.$image_uri(""+a+"."+c.document.$attr("icontype","png"),"iconsdir"):c.$image_uri(c.$attr("icon"),e)},l.$media_uri=function(a,b){var c=this;return null==b&&(b="imagesdir"),c.$normalize_web_path(a,function(){return b!==!1&&b!==e?c.document.$attr(b):e}())},l.$image_uri=function(a,b){var d,f,g,h,i,j=this,k=e,l=e;return null==b&&(b="imagesdir"),(d=(f=c((k=j.document).$safe(),m.get("SafeMode").$$scope.get("SECURE")))?k["$attr?"]("data-uri"):f)===e||d.$$is_boolean&&1!=d?j.$normalize_web_path(a,function(){return b!==!1&&b!==e?k.$attr(b):e}()):(d=(f=m.get("Helpers")["$uriish?"](a))!==!1&&f!==e?f:(h=(i=b!==!1&&b!==e)?l=k.$attr(b):i,g=h!==!1&&h!==e?m.get("Helpers")["$uriish?"](l):h,g!==!1&&g!==e?a=j.$normalize_web_path(a,l,!1):g))===e||d.$$is_boolean&&1!=d?j.$generate_data_uri(a,b):(d=k["$attr?"]("allow-uri-read"))===e||d.$$is_boolean&&1!=d?a:j.$generate_data_uri_from_uri(a,k["$attr?"]("cache-uri"))},l.$generate_data_uri=function(b,c){var d,f,g,j=this,k=e,l=e,n=e,o=e;return null==c&&(c=e),k=a.get("File").$extname(b),l=function(){return k["$=="](".svg")?"image/svg+xml":"image/"+k["$[]"](i(1,-1,!1))}(),n=c!==!1&&c!==e?j.$normalize_system_path(b,j.document.$attr(c),e,h(["target_name"],{target_name:"image"})):j.$normalize_system_path(b),(d=a.get("File")["$readable?"](n))===e||d.$$is_boolean&&1!=d?(j.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+n),"data:"+l+":base64,"):(o=e,o=(d=a.get("IO")["$respond_to?"]("binread"))===e||d.$$is_boolean&&1!=d?(d=(f=a.get("File")).$open,d.$$p=(g=function(a){g.$$s||this;return null==a&&(a=e),a.$read()},g.$$s=j,g),d).call(f,n,"rb"):a.get("IO").$binread(n),"data:"+l+";base64,"+a.get("Base64").$encode64(o).$delete(m.get("EOL")))},l.$generate_data_uri_from_uri=function(b,c){var d,f,g,h=this,i=e,j=e;null==c&&(c=!1),c!==!1&&c!==e?m.get("Helpers").$require_library("open-uri/cached","open-uri-cached"):(d=a.get("RUBY_ENGINE_OPAL")["$!"]())===e||d.$$is_boolean&&1!=d||a.get("OpenURI");try{return i=e,j=(d=(f=h).$open,d.$$p=(g=function(a){g.$$s||this;return null==a&&(a=e),i=a.$content_type(),a.$read()},g.$$s=h,g),d).call(f,b,"rb"),"data:"+i+";base64,"+a.get("Base64").$encode64(j).$delete(m.get("EOL"))}catch(k){return h.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+b),b}},l.$read_contents=function(c,d){var f,g,i,j,k,l=this,n=e,o=e,p=e;if(null==d&&(d=h([],{})),n=l.document,(f=(g=m.get("Helpers")["$uriish?"](c))!==!1&&g!==e?g:(j=o=d["$[]"]("start"),i=j!==!1&&j!==e?m.get("Helpers")["$uriish?"](o):j,i!==!1&&i!==e?c=((j=l.path_resolver)!==!1&&j!==e?j:l.path_resolver=m.get("PathResolver").$new()).$web_path(c,o):i))===e||f.$$is_boolean&&1!=f)c=l.$normalize_system_path(c,d["$[]"]("start"),e,h(["target_name"],{target_name:(f=d["$[]"]("label"))!==!1&&f!==e?f:"asset"})),p=l.$read_asset(c,h(["normalize","warn_on_failure"],{normalize:d["$[]"]("normalize"),warn_on_failure:d.$fetch("warn_on_failure",!0)}));else if((f=n["$attr?"]("allow-uri-read"))===e||f.$$is_boolean&&1!=f)(f=d.$fetch("warn_on_failure",!0))===e||f.$$is_boolean&&1!=f||l.$warn("asciidoctor: WARNING: cannot retrieve contents of "+((f=d["$[]"]("label"))!==!1&&f!==e?f:"asset")+" at URI: "+c+" (allow-uri-read attribute not enabled)"),p=e;else{(f=n["$attr?"]("cache-uri"))===e||f.$$is_boolean&&1!=f||m.get("Helpers").$require_library("open-uri/cached","open-uri-cached");try{p=(f=(g=a.get("OpenURI")).$open_uri,f.$$p=(k=function(a){k.$$s||this;return null==a&&(a=e),a.$read()},k.$$s=l,k),f).call(g,c),(f=d["$[]"]("normalize"))===e||f.$$is_boolean&&1!=f||(p=b(m.get("Helpers").$normalize_lines_from_string(p),m.get("EOL")))}catch(q){(f=d.$fetch("warn_on_failure",!0))===e||f.$$is_boolean&&1!=f||l.$warn("asciidoctor: WARNING: could not retrieve contents of "+((f=d["$[]"]("label"))!==!1&&f!==e?f:"asset")+" at URI: "+c),p=e}}return p},l.$read_asset=function(c,d){var f,g=this;return null==d&&(d=h([],{})),((f=a.get("Hash")["$==="](d))===e||f.$$is_boolean&&1!=f)&&(d=h(["warn_on_failure"],{warn_on_failure:d["$=="](!1)["$!"]()})),(f=a.get("File")["$readable?"](c))===e||f.$$is_boolean&&1!=f?((f=d["$[]"]("warn_on_failure"))===e||f.$$is_boolean&&1!=f||g.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+c),e):(f=d["$[]"]("normalize"))===e||f.$$is_boolean&&1!=f?a.get("IO").$read(c):b(m.get("Helpers").$normalize_lines_from_string(a.get("IO").$read(c)),m.get("EOL"))},l.$normalize_web_path=function(a,b,c){var d,f,g=this;return null==b&&(b=e),null==c&&(c=!0),(d=(f=c!==!1&&c!==e)?m.get("Helpers")["$uriish?"](a):f)===e||d.$$is_boolean&&1!=d?((d=g.path_resolver)!==!1&&d!==e?d:g.path_resolver=m.get("PathResolver").$new()).$web_path(a,b):a},l.$normalize_system_path=function(b,d,f,g){var i,j=this,k=e,l=e;return null==d&&(d=e),null==f&&(f=e),null==g&&(g=h([],{})),k=(i=j.path_resolver)!==!1&&i!==e?i:j.path_resolver=m.get("PathResolver").$new(),c((l=j.document).$safe(),m.get("SafeMode").$$scope.get("SAFE"))?d!==!1&&d!==e?((i=k["$is_root?"](d))===e||i.$$is_boolean&&1!=i)&&(d=a.get("File").$join(l.$base_dir(),d)):d=l.$base_dir():(d!==!1&&d!==e||(d=l.$base_dir()),f!==!1&&f!==e||(f=l.$base_dir())),k.$system_path(b,d,f,g)},l.$normalize_asset_path=function(a,b,c){var d=this;return null==b&&(b="path"),null==c&&(c=!0),d.$normalize_system_path(a,d.document.$base_dir(),e,h(["target_name","recover"],{target_name:b,recover:c}))},l.$relative_path=function(a){var b,c=this;return((b=c.path_resolver)!==!1&&b!==e?b:c.path_resolver=m.get("PathResolver").$new()).$relative_path(a,c.document.$base_dir())},l["$is_uri?"]=function(a){return m.get("Helpers")["$uriish?"](a)},l.$list_marker_keyword=function(a){var b,c=this;return null==a&&(a=e),m.get("ORDERED_LIST_KEYWORDS")["$[]"]((b=a)!==!1&&b!==e?b:c.style)},e&&"list_marker_keyword"}(j,null)}(d)},Opal.modules["asciidoctor/abstract_block"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var d=a.top,e=a.nil,f=a.breaker,g=a.slice,h=a.module,i=a.klass,j=a.hash2;return function(d){var k=h(d,"Asciidoctor"),l=(k.$$proto,k.$$scope);!function(d,h){function k(){}var l,m,n=k=i(d,h,"AbstractBlock",k),o=n.$$proto,p=n.$$scope;return o.document=o.attributes=o.blocks=o.source_location=o.subs=o.title=o.subbed_title=o.caption=o.context=o.style=o.id=o.header=o.next_section_index=o.next_section_number=e,n.$attr_accessor("content_model"),n.$attr_reader("subs"),
n.$attr_reader("blocks"),n.$attr_accessor("level"),n.$attr_writer("title"),n.$attr_accessor("style"),n.$attr_accessor("caption"),n.$attr_accessor("source_location"),o.$initialize=l=function(b,c,d){var f,h,i=g.call(arguments,0),k=this,m=l.$$p;return null==d&&(d=j([],{})),l.$$p=null,a.find_super_dispatcher(k,"initialize",l,m).apply(k,i),k.content_model="compound",k.subs=[],k.default_subs=e,k.blocks=[],k.id=e,k.title=e,k.caption=e,k.style=e,k.level=function(){return c["$=="]("document")?0:(f=(h=b!==!1&&b!==e)?c["$=="]("section")["$!"]():h)===e||f.$$is_boolean&&1!=f?e:b.$level()}(),k.next_section_index=0,k.next_section_number=1,k.source_location=e},o["$block?"]=function(){return!0},o["$inline?"]=function(){return!1},o["$context="]=function(a){var b=this;return b.context=a,b.node_name=a.$to_s()},o.$convert=function(){var a=this;return a.document.$playback_attributes(a.attributes),a.$converter().$convert(a)},a.defn(n,"$render",o.$convert),o.$content=function(){var a,c,d,f=this;return b((a=(c=f.blocks).$map,a.$$p=(d=function(a){d.$$s||this;return null==a&&(a=e),a.$convert()},d.$$s=f,d),a).call(c),p.get("EOL"))},o.$file=function(){var a,b=this;return(a=b.source_location)===e||a.$$is_boolean&&1!=a?e:b.source_location.$file()},o.$lineno=function(){var a,b=this;return(a=b.source_location)===e||a.$$is_boolean&&1!=a?e:b.source_location.$lineno()},o["$sub?"]=function(a){var b=this;return b.subs["$include?"](a)},o["$title?"]=function(){var a=this;return a.title["$nil_or_empty?"]()["$!"]()},o.$title=function(){var a,b,c=this;return b=c.subbed_title,(a=null!=b&&b!==e?"instance-variable":e)===e||a.$$is_boolean&&1!=a?(a=c.title)===e||a.$$is_boolean&&1!=a?c.title:c.subbed_title=c.$apply_title_subs(c.title):c.subbed_title},o.$captioned_title=function(){var a=this;return""+a.caption+a.$title()},o["$blocks?"]=function(){var a=this;return a.blocks["$empty?"]()["$!"]()},o["$<<"]=function(a){var b=this;return b.blocks["$<<"](a)},a.defn(n,"$append",o["$<<"]),o.$sections=function(){var a,b,c,d=this;return(a=(b=d.blocks).$select,a.$$p=(c=function(a){c.$$s||this;return null==a&&(a=e),a.$context()["$=="]("section")},c.$$s=d,c),a).call(b)},o.$find_by=m=function(b){var c,d,g,h,i,k,l,n=this,o=m.$$p,p=o||e,q=e,r=e,s=e,t=e,u=e,v=e;if(null==b&&(b=j([],{})),m.$$p=null,q=[],h=(i=r=(s=b["$[]"]("context"))["$!"]())!==!1&&i!==e?i:s["$=="](n.context),g=h!==!1&&h!==e?(i=(t=b["$[]"]("style"))["$!"]())!==!1&&i!==e?i:t["$=="](n.style):h,d=g!==!1&&g!==e?(h=(u=b["$[]"]("role"))["$!"]())!==!1&&h!==e?h:n["$has_role?"](u):g,(c=d!==!1&&d!==e?(g=(v=b["$[]"]("id"))["$!"]())!==!1&&g!==e?g:v["$=="](n.id):d)!==e&&(!c.$$is_boolean||1==c)){if(v!==!1&&v!==e)return p!==e?function(){return(c=(d=a.yield1(p,n))===f?f.$v:d)===e||c.$$is_boolean&&1!=c?q:[n]}():[n];p!==e?(c=(d=a.yield1(p,n))===f?f.$v:d)===e||c.$$is_boolean&&1!=c||q["$<<"](n):q["$<<"](n)}return d=(g=n.context["$=="]("document"))?(h=r)!==!1&&h!==e?h:s["$=="]("section"):g,(c=d!==!1&&d!==e?n["$header?"]():d)===e||c.$$is_boolean&&1!=c||q.$concat((c=(d=n.header).$find_by,c.$$p=p.$to_proc(),c).call(d,b)),s["$=="]("document")||(n.context["$=="]("dlist")?(c=(g=r)!==!1&&g!==e?g:s["$=="]("section")["$!"]())===e||c.$$is_boolean&&1!=c||(c=(g=n.blocks.$flatten()).$each,c.$$p=(k=function(a){var c,d;k.$$s||this;return null==a&&(a=e),q.$concat((c=(d=a).$find_by,c.$$p=p.$to_proc(),c).call(d,b))},k.$$s=n,k),c).call(g):(c=(h=(i=n.blocks).$each,h.$$p=(l=function(a){var c,d;l.$$s||this;return null==a&&(a=e),(c=(d=s["$=="]("section"))?a.$context()["$=="]("section")["$!"]():d)===e||c.$$is_boolean&&1!=c?q.$concat((c=(d=a).$find_by,c.$$p=p.$to_proc(),c).call(d,b)):e},l.$$s=n,l),h).call(i))!==e&&(!c.$$is_boolean||1==c)),q},a.defn(n,"$query",o.$find_by),o.$remove_sub=function(a){var b=this;return b.subs.$delete(a),e},o.$assign_caption=function(a,b){var c,d,f=this,g=e,h=e,i=e,j=e;return null==a&&(a=e),null==b&&(b=e),(c=(d=f["$title?"]())!==!1&&d!==e?d:f.caption["$!"]())===e||c.$$is_boolean&&1!=c?e:(a!==!1&&a!==e?f.caption=a:(c=g=f.document.$attributes()["$[]"]("caption"))===e||c.$$is_boolean&&1!=c?(c=f["$title?"]())===e||c.$$is_boolean&&1!=c||((c=b)!==!1&&c!==e?c:b=f.context.$to_s(),h=""+b+"-caption",(c=i=f.document.$attributes()["$[]"](h))===e||c.$$is_boolean&&1!=c||(j=f.document.$counter_increment(""+b+"-number",f),f.caption=""+i+" "+j+". ")):f.caption=g,e)},o.$assign_index=function(a){var b,d,f,g,h=this,i=e,j=e;return b=[h.next_section_index],d=a,d["$index="].apply(d,b),b[b.length-1],h.next_section_index=c(h.next_section_index,1),a.$sectname()["$=="]("appendix")?(i=h.document.$counter("appendix-number","A"),(b=a.$numbered())===e||b.$$is_boolean&&1!=b||(b=[i],d=a,d["$number="].apply(d,b),b[b.length-1]),(b=(j=h.document.$attr("appendix-caption",""))["$=="]("")["$!"]())===e||b.$$is_boolean&&1!=b?(b=[""+i+". "],d=a,d["$caption="].apply(d,b),b[b.length-1]):(b=[""+j+" "+i+": "],d=a,d["$caption="].apply(d,b),b[b.length-1])):(b=a.$numbered())===e||b.$$is_boolean&&1!=b?e:(d=(f=a.$level()["$=="](1))!==!1&&f!==e?f:(g=a.$level()["$=="](0))?a.$special():g,(b=d!==!1&&d!==e?h.document.$doctype()["$=="]("book"):d)===e||b.$$is_boolean&&1!=b?(b=[h.next_section_number],d=a,d["$number="].apply(d,b),b[b.length-1],h.next_section_number=c(h.next_section_number,1)):(b=[h.document.$counter("chapter-number",1)],d=a,d["$number="].apply(d,b),b[b.length-1]))},o.$reindex_sections=function(){var a,b,c,d=this;return d.next_section_index=0,d.next_section_number=0,(a=(b=d.blocks).$each,a.$$p=(c=function(a){var b=c.$$s||this;return null==a&&(a=e),a.$context()["$=="]("section")?(b.$assign_index(a),a.$reindex_sections()):e},c.$$s=d,c),a).call(b)},e&&"reindex_sections"}(k,l.get("AbstractNode"))}(d)},Opal.modules["asciidoctor/attribute_list"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var d=a.top,e=a.nil,f=(a.breaker,a.slice,a.module),g=a.klass,h=a.hash2;return function(d){var i=f(d,"Asciidoctor");i.$$proto,i.$$scope;!function(d,f){function i(){}var j=i=g(d,f,"AttributeList",i),k=j.$$proto,l=j.$$scope;return k.attributes=k.scanner=k.delimiter=k.block=k.delimiter_skip_pattern=k.delimiter_boundary_pattern=e,a.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(l,"CG_BLANK","[ \\t]"),a.cdecl(l,"CC_WORD","a-zA-Z0-9_"),a.cdecl(l,"CG_WORD","[a-zA-Z0-9_]")),a.cdecl(l,"BoundaryRxs",h(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+l.get("CG_BLANK")+"*(,|$))")})),a.cdecl(l,"EscapedQuoteRxs",h(['"',"'"],{'"':/\\"/,"'":/\\'/})),a.cdecl(l,"NameRx",new RegExp(""+l.get("CG_WORD")+"["+l.get("CC_WORD")+"\\-.]*")),a.cdecl(l,"BlankRx",new RegExp(""+l.get("CG_BLANK")+"+")),a.cdecl(l,"SkipRxs",h(["blank",","],{blank:l.get("BlankRx"),",":new RegExp(""+l.get("CG_BLANK")+"*(,|$)")})),k.$initialize=function(b,c,d){var f=this;return null==c&&(c=e),null==d&&(d=","),f.scanner=a.get("StringScanner").$new(b),f.block=c,f.delimiter=d,f.delimiter_skip_pattern=l.get("SkipRxs")["$[]"](d),f.delimiter_boundary_pattern=l.get("BoundaryRxs")["$[]"](d),f.attributes=e},k.$parse_into=function(a,b){var c=this;return null==b&&(b=[]),a.$update(c.$parse(b))},k.$parse=function(a){var c,d,f=this,g=e;if(null==a&&(a=[]),(c=f.attributes)!==e&&(!c.$$is_boolean||1==c))return f.attributes;for(f.attributes=h([],{}),g=0;(d=f.$parse_attribute(g,a))!==e&&(!d.$$is_boolean||1==d)&&((d=f.scanner["$eos?"]())===e||d.$$is_boolean&&1!=d);)f.$skip_delimiter(),g=b(g,1);return f.attributes},k.$rekey=function(a){var b=this;return l.get("AttributeList").$rekey(b.attributes,a)},a.defs(j,"$rekey",function(a,c){var d,f,g,h=this;return(d=(f=c).$each_with_index,d.$$p=(g=function(c,d){var f,h=(g.$$s||this,e),i=e;return null==c&&(c=e),null==d&&(d=e),c===!1||c===e?e:(h=b(d,1),(f=i=a["$[]"](h))===e||f.$$is_boolean&&1!=f?e:a["$[]="](c,i))},g.$$s=h,g),d).call(f),a}),k.$parse_attribute=function(a,d){var f,g,h,i,j,k=this,l=e,m=e,n=e,o=e,p=e,q=e,r=e,s=e,t=e;if(null==a&&(a=0),null==d&&(d=[]),l=!1,k.$skip_blank(),(m=k.scanner.$peek(1))["$=="]('"'))n=k.$parse_attribute_value(k.scanner.$get_byte()),o=e;else if(m["$=="]("'"))n=k.$parse_attribute_value(k.scanner.$get_byte()),o=e,l=!0;else{if(n=k.$scan_name(),p=0,q=e,(f=k.scanner["$eos?"]())===e||f.$$is_boolean&&1!=f)p=(f=k.$skip_blank())!==!1&&f!==e?f:0,q=k.scanner.$get_byte();else if(n===!1||n===e)return!1;if((f=(g=q["$!"]())!==!1&&g!==e?g:q["$=="](k.delimiter))===e||f.$$is_boolean&&1!=f)if((f=(g=q["$=="]("=")["$!"]())!==!1&&g!==e?g:n["$!"]())===e||f.$$is_boolean&&1!=f){if(k.$skip_blank(),(f=k.scanner.$peek(1))!==e&&(!f.$$is_boolean||1==f))if((q=k.scanner.$get_byte())["$=="]('"'))o=k.$parse_attribute_value(q);else if(q["$=="]("'"))o=k.$parse_attribute_value(q),l=!0;else if(q["$=="](k.delimiter))o=e;else if(o=""+q+k.$scan_to_delimiter(),o["$=="]("None"))return!0}else n=""+n+c(" ",p)+q+k.$scan_to_delimiter(),o=e;else o=e}return o!==!1&&o!==e?(r=n,"options"["$==="](r)||"opts"["$==="](r)?(n="options",(f=(g=o.$tr(" ","").$split(",")).$each,f.$$p=(h=function(a){var b=h.$$s||this;return null==b.attributes&&(b.attributes=e),null==a&&(a=e),b.attributes["$[]="](""+a+"-option","")},h.$$s=k,h),f).call(g),k.attributes["$[]="](n,o)):"title"["$==="](r)?k.attributes["$[]="](n,o):k.attributes["$[]="](n,function(){return i=(j=l!==!1&&l!==e)?o["$empty?"]()["$!"]():j,(f=i!==!1&&i!==e?k.block:i)===e||f.$$is_boolean&&1!=f?o:k.block.$apply_normal_subs(o)}())):(s=function(){return i=(j=l!==!1&&l!==e)?n["$empty?"]()["$!"]():j,(f=i!==!1&&i!==e?k.block:i)===e||f.$$is_boolean&&1!=f?n:k.block.$apply_normal_subs(n)}(),(f=t=d["$[]"](a))===e||f.$$is_boolean&&1!=f||k.attributes["$[]="](t,s),k.attributes["$[]="](b(a,1),s)),!0},k.$parse_attribute_value=function(a){var b,c=this,d=e;return c.scanner.$peek(1)["$=="](a)?(c.scanner.$get_byte(),""):(b=d=c.$scan_to_quote(a))===e||b.$$is_boolean&&1!=b?""+a+c.$scan_to_delimiter():(c.scanner.$get_byte(),d.$gsub(l.get("EscapedQuoteRxs")["$[]"](a),a))},k.$skip_blank=function(){var a=this;return a.scanner.$skip(l.get("BlankRx"))},k.$skip_delimiter=function(){var a=this;return a.scanner.$skip(a.delimiter_skip_pattern)},k.$scan_name=function(){var a=this;return a.scanner.$scan(l.get("NameRx"))},k.$scan_to_delimiter=function(){var a=this;return a.scanner.$scan(a.delimiter_boundary_pattern)},k.$scan_to_quote=function(a){var b=this;return b.scanner.$scan(l.get("BoundaryRxs")["$[]"](a))},e&&"scan_to_quote"}(i,null)}(d)},Opal.modules["asciidoctor/block"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="ignore";var d=a.top,e=a.nil,f=(a.breaker,a.slice),g=a.module,h=a.klass,i=a.hash2;return function(d){var j=g(d,"Asciidoctor"),k=(j.$$proto,j.$$scope);!function(d,g){function j(){}var k,l,m,n,o=j=h(d,g,"Block",j),p=o.$$proto,q=o.$$scope;return p.attributes=p.content_model=p.lines=p.subs=p.blocks=p.context=p.style=e,k=["simple"],l=a.cdecl(q,"DEFAULT_CONTENT_MODEL",i(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),l["$default="].apply(l,k),k[k.length-1],a.defn(o,"$blockname",p.$context),o.$attr_accessor("lines"),p.$initialize=m=function(b,c,d){var g,h=f.call(arguments,0),j=this,k=m.$$p,l=e,n=e;return null==d&&(d=i([],{})),m.$$p=null,a.find_super_dispatcher(j,"initialize",m,k).apply(j,h),j.content_model=(g=d["$[]"]("content_model"))!==!1&&g!==e?g:q.get("DEFAULT_CONTENT_MODEL")["$[]"](c),(g=d["$key?"]("subs"))===e||g.$$is_boolean&&1!=g?(j.subs=[],j.default_subs=e):(g=l=d["$[]"]("subs"))===e||g.$$is_boolean&&1!=g?(j.subs=[],j.default_subs=[],j.attributes.$delete("subs")):(l["$=="]("default")?j.default_subs=d["$[]"]("default_subs"):(g=a.get("Array")["$==="](l))===e||g.$$is_boolean&&1!=g?(j.default_subs=e,j.attributes["$[]="]("subs",""+l)):(j.default_subs=l.$dup(),j.attributes.$delete("subs")),j.$lock_in_subs()),(g=(n=d["$[]"]("source"))["$nil_or_empty?"]())===e||g.$$is_boolean&&1!=g?(g=a.get("String")["$==="](n))===e||g.$$is_boolean&&1!=g?j.lines=n.$dup():j.lines=q.get("Helpers").$normalize_lines_from_string(n):j.lines=[]},p.$content=n=function(){var d,g,h=f.call(arguments,0),i=this,j=n.$$p,k=e,l=e,m=e,o=e;return n.$$p=null,function(){if(k=i.content_model,"compound"["$==="](k))return a.find_super_dispatcher(i,"content",n,j).apply(i,h);if("simple"["$==="](k))return i.$apply_subs(b(i.lines,q.get("EOL")),i.subs);if("verbatim"["$==="](k)||"raw"["$==="](k)){if(l=i.$apply_subs(i.lines,i.subs),c(l.$size(),2))return l["$[]"](0);for(;g=m=l["$[]"](0),(d=g!==!1&&g!==e?m.$rstrip()["$empty?"]():g)!==e&&(!d.$$is_boolean||1==d);)l.$shift();for(;g=o=l["$[]"](-1),(d=g!==!1&&g!==e?o.$rstrip()["$empty?"]():g)!==e&&(!d.$$is_boolean||1==d);)l.$pop();return b(l,q.get("EOL"))}return i.content_model["$=="]("empty")||i.$warn("Unknown content model '"+i.content_model+"' for block: "+i.$to_s()),e}()},p.$source=function(){var a=this;return b(a.lines,q.get("EOL"))},p.$to_s=function(){var a=this,b=e;return b=function(){return a.content_model["$=="]("compound")?"blocks: "+a.blocks.$size():"lines: "+a.lines.$size()}(),"#<"+a.$class()+"@"+a.$object_id()+" {context: "+a.context.$inspect()+", content_model: "+a.content_model.$inspect()+", style: "+a.style.$inspect()+", "+b+"}>"},e&&"to_s"}(j,k.get("AbstractBlock"))}(d)},Opal.modules["asciidoctor/callouts"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="ignore";var f=a.top,g=a.nil,h=(a.breaker,a.slice,a.module),i=a.klass,j=a.hash2;return function(a){var f=h(a,"Asciidoctor");f.$$proto,f.$$scope;!function(a,f){function h(){}var k=h=i(a,f,"Callouts",h),l=k.$$proto;k.$$scope;return l.co_index=l.lists=l.list_index=g,l.$initialize=function(){var a=this;return a.lists=[],a.list_index=0,a.$next_list()},l.$register=function(a){var c=this,d=g;return c.$current_list()["$<<"](j(["ordinal","id"],{ordinal:a.$to_i(),id:d=c.$generate_next_callout_id()})),c.co_index=b(c.co_index,1),d},l.$read_next_id=function(){var a=this,e=g,f=g;return e=g,f=a.$current_list(),c(a.co_index,f.$size())&&(e=f["$[]"](d(a.co_index,1))["$[]"]("id")),a.co_index=b(a.co_index,1),e},l.$callout_ids=function(a){var b,c,d,e=this;return(b=(c=e.$current_list()).$map,b.$$p=(d=function(b){d.$$s||this;return null==b&&(b=g),b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":g},d.$$s=e,d),b).call(c).$join().$chop()},l.$current_list=function(){var a=this;return a.lists["$[]"](d(a.list_index,1))},l.$next_list=function(){var a=this;return a.list_index=b(a.list_index,1),e(a.lists.$size(),a.list_index)&&a.lists["$<<"]([]),a.co_index=1,g},l.$rewind=function(){var a=this;return a.list_index=1,a.co_index=1,g},l.$generate_next_callout_id=function(){var a=this;return a.$generate_callout_id(a.list_index,a.co_index)},l.$generate_callout_id=function(a,b){return"CO"+a+"-"+b},g&&"generate_callout_id"}(f,null)}(f)},Opal.modules["asciidoctor/converter/base"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){var g=d(b,"Asciidoctor"),h=(g.$$proto,g.$$scope);!function(a){var b=d(a,"Converter");b.$$proto,b.$$scope}(g),function(a,b){function c(){}var d=c=e(a,b,"Base",c),f=(d.$$proto,d.$$scope);return d.$include(f.get("Converter"))}(h.get("Converter"),null),function(b,d){function g(){}var h=g=e(b,d,"BuiltIn",g),i=h.$$proto;h.$$scope;return i.$initialize=function(a,b){return null==b&&(b=f([],{})),c},i.$convert=function(a,b,d){var e,g=this;return null==b&&(b=c),null==d&&(d=f([],{})),(e=b)!==!1&&e!==c?e:b=a.$node_name(),(e=d["$empty?"]())===c||e.$$is_boolean&&1!=e?g.$send(b,a,d):g.$send(b,a)},a.defn(h,"$handles?",i["$respond_to?"]),i.$content=function(a){return a.$content()},a.defn(h,"$pass",i.$content),i.$skip=function(a){return c},c&&"skip"}(h.get("Converter"),null)}(b)},Opal.modules["asciidoctor/converter/factory"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){var g=d(b,"Asciidoctor");g.$$proto,g.$$scope;!function(b){var g=d(b,"Converter");g.$$proto,g.$$scope;!function(b,d){function g(){}var h=g=e(b,d,"Factory",g),i=h.$$proto,j=h.$$scope;return i.converters=i.star_converter=c,h.__default__=c,function(b){b.$$scope,b.$$proto;return b.$$proto.$default=function(b){var d,e,f=this;return null==f.__default__&&(f.__default__=c),null==b&&(b=!0),b===!1||b===c?(d=f.__default__)!==!1&&d!==c?d:f.$new():(d=f.__default__)!==!1&&d!==c?d:f.__default__=function(){try{return function(){return(e=null==a.Object.$$scope.ThreadSafe?c:"constant")===c||e.$$is_boolean&&1!=e?f.$require("thread_safe".$to_s()):c}(),f.$new(a.get("ThreadSafe").$$scope.get("Cache").$new())}catch(b){if(a.rescue(b,[a.get("LoadError")]))return f.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters."),f.$new();throw b}}()},b.$$proto.$register=function(a,b){var c=this;return null==b&&(b=["*"]),c.$default().$register(a,b)},b.$$proto.$resolve=function(a){var b=this;return b.$default().$resolve(a)},b.$$proto.$create=function(a,b){var c=this;return null==b&&(b=f([],{})),c.$default().$create(a,b)},b.$$proto.$converters=function(){var a=this;return a.$default().$converters()},b.$$proto.$unregister_all=function(){var a=this;return a.$default().$unregister_all()},c&&"unregister_all"}(h.$singleton_class()),h.$attr_reader("converters"),i.$initialize=function(a){var b,d=this;return null==a&&(a=c),d.converters=(b=a)!==!1&&b!==c?b:f([],{}),d.star_converter=c},i.$register=function(a,b){var d,e,f,g=this;return null==b&&(b=["*"]),(d=(e=b).$each,d.$$p=(f=function(b){var d=f.$$s||this;return null==d.converters&&(d.converters=c),null==b&&(b=c),d.converters["$[]="](b,a),b["$=="]("*")?d.star_converter=a:c},f.$$s=g,f),d).call(e),c},i.$resolve=function(a){var b,d,e=this;return b=e.converters,b!==!1&&b!==c?(d=e.converters["$[]"](a))!==!1&&d!==c?d:e.star_converter:b},i.$unregister_all=function(){var a=this;return a.converters.$clear(),a.star_converter=c},i.$create=function(b,d){var e,g=this,h=c,i=c,k=c,l=c;return null==d&&(d=f([],{})),(e=h=g.$resolve(b))===c||e.$$is_boolean&&1!=e?(i=function(){return k=b,"html5"["$==="](k)?(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("Html5Converter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/html5".$to_s()),j.get("Html5Converter").$new(b,d)):"revealjs"["$==="](k)?(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("RevealjsConverter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/revealjs".$to_s()),j.get("RevealjsConverter").$new(b,d)):"deckjs"["$==="](k)?(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DeckjsConverter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/deckjs".$to_s()),j.get("DeckjsConverter").$new(b,d)):"bespokejs"["$==="](k)?(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("BespokejsConverter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/bespokejs".$to_s()),j.get("BespokejsConverter").$new(b,d)):"odf"["$==="](k)?(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("OdfConverter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/odf".$to_s()),j.get("OdfConverter").$new(b,d)):"oreilly"["$==="](k)?(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("OreillyConverter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/oreilly".$to_s()),j.get("OreillyConverter").$new(b,d)):"packt"["$==="](k)?(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("PacktConverter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/packt".$to_s()),j.get("PacktConverter").$new(b,d)):"docbook5"["$==="](k)?(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook5Converter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/docbook5".$to_s()),j.get("DocBook5Converter").$new(b,d)):"docbook45"["$==="](k)?(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook45Converter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/docbook45".$to_s()),j.get("DocBook45Converter").$new(b,d)):"manpage"["$==="](k)?(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("ManPageConverter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/manpage".$to_s()),j.get("ManPageConverter").$new(b,d)):c}(),(e=d["$key?"]("template_dirs"))===c||e.$$is_boolean&&1!=e?i:(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("TemplateConverter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/template".$to_s()),((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("CompositeConverter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/composite".$to_s()),l=j.get("TemplateConverter").$new(b,d["$[]"]("template_dirs"),d),j.get("CompositeConverter").$new(b,l,i))):(e=h["$is_a?"](a.get("Class")))===c||e.$$is_boolean&&1!=e?h:h.$new(b,d)},c&&"create"}(g,null)}(g)}(b)},Opal.modules["asciidoctor/converter"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.range,g=a.hash2;return function(b){var h=e(b,"Asciidoctor");h.$$proto,h.$$scope;!function(b){var h=e(b,"Converter"),i=h.$$proto,j=h.$$scope;!function(b){var f=e(b,"Config"),g=(f.$$proto,f.$$scope);a.defn(f,"$register_for",function(a){var b,e,f,h,i,j=this,k=c;return a=d.call(arguments,0),g.get("Factory").$register(j,a),k=function(a){a.$$scope,a.$$proto;return a}(j.$singleton_class()),a["$=="](["*"])?(b=(e=k).$send,b.$$p=(f=function(a){f.$$s||this;return null==a&&(a=c),!0},f.$$s=j,f),b).call(e,"define_method","converts?"):(b=(h=k).$send,b.$$p=(i=function(b){i.$$s||this;return null==b&&(b=c),a["$include?"](b)},i.$$s=j,i),b).call(h,"define_method","converts?"),c})}(h),function(b){var d=e(b,"BackendInfo"),h=(d.$$proto,d.$$scope);a.defn(d,"$backend_info",function(){var a,b=this;return null==b.backend_info&&(b.backend_info=c),(a=b.backend_info)!==!1&&a!==c?a:b.backend_info=b.$setup_backend_info()}),a.defn(d,"$setup_backend_info",function(){var b,d=this,e=c,i=c,j=c,k=c;return null==d.backend&&(d.backend=c),((b=d.backend)===c||b.$$is_boolean&&1!=b)&&d.$raise(a.get("ArgumentError"),"Cannot determine backend for converter: "+d.$class()),e=d.backend.$sub(h.get("TrailingDigitsRx"),""),(b=i=h.get("DEFAULT_EXTENSIONS")["$[]"](e))===c||b.$$is_boolean&&1!=b?(e="html",i=".html",j="html",k="html"):j=i["$[]"](f(1,-1,!1)),g(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:e,outfilesuffix:i,filetype:j,htmlsyntax:k})}),a.defn(d,"$filetype",function(a){var b=this;return null==a&&(a=c),a!==!1&&a!==c?b.$backend_info()["$[]="]("filetype",a):b.$backend_info()["$[]"]("filetype")}),a.defn(d,"$basebackend",function(a){var b=this;return null==a&&(a=c),a!==!1&&a!==c?b.$backend_info()["$[]="]("basebackend",a):b.$backend_info()["$[]"]("basebackend")}),a.defn(d,"$outfilesuffix",function(a){var b=this;return null==a&&(a=c),a!==!1&&a!==c?b.$backend_info()["$[]="]("outfilesuffix",a):b.$backend_info()["$[]"]("outfilesuffix")}),a.defn(d,"$htmlsyntax",function(a){var b=this;return null==a&&(a=c),a!==!1&&a!==c?b.$backend_info()["$[]="]("htmlsyntax",a):b.$backend_info()["$[]"]("htmlsyntax")})}(h),function(a){var b=a.$$scope;a.$$proto;return a.$$proto.$included=function(a){return a.$extend(b.get("Config"))},c&&"included"}(h.$singleton_class()),h.$include(j.get("Config")),h.$include(j.get("BackendInfo")),a.defn(h,"$initialize",function(a,b){var c=this;return null==b&&(b=g([],{})),c.backend=a,c.$setup_backend_info()}),a.defn(h,"$convert",function(b,d,e){var f=this;return null==d&&(d=c),null==e&&(e=g([],{})),f.$raise(a.get("NotImplementedError"))}),a.defn(h,"$convert_with_options",i.$convert)}(h),function(b){var d=e(b,"Writer"),f=(d.$$proto,d.$$scope);a.defn(d,"$write",function(b,d){var e,g,h,i=this;return(e=d["$respond_to?"]("write"))===c||e.$$is_boolean&&1!=e?(e=(g=a.get("File")).$open,e.$$p=(h=function(a){h.$$s||this;return null==a&&(a=c),a.$write(b)},h.$$s=i,h),e).call(g,d,"w"):(d.$write(b.$chomp()),d.$write(f.get("EOL"))),c})}(h),function(b){var d=e(b,"VoidWriter"),f=(d.$$proto,d.$$scope);d.$include(f.get("Writer")),a.defn(d,"$write",function(a,b){return c})}(h)}(b),b.$require("asciidoctor/converter/base"),b.$require("asciidoctor/converter/factory")},Opal.modules["asciidoctor/converter/html5"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>=b:a["$>="](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}function f(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function g(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var h=a.top,i=a.nil,j=(a.breaker,a.slice,a.module),k=a.klass,l=a.hash2,m=a.range;return function(h){var n=j(h,"Asciidoctor"),o=(n.$$proto,n.$$scope);!function(h,j){function n(){}var o,p,q=n=k(h,j,"Html5Converter",n),r=q.$$proto,s=q.$$scope;return r.xml_mode=r.void_element_slash=r.stylesheets=i,o=[[i,i,i]],p=a.cdecl(s,"QUOTE_TAGS",l(["emphasis","strong","monospaced","superscript","subscript","double","single","mark","asciimath","latexmath"],{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),p["$default="].apply(p,o),o[o.length-1],a.cdecl(s,"SvgPreambleRx",/\A.*?(?=<svg[ >])/m),a.cdecl(s,"SvgStartTagRx",/\A<svg[^>]*>/),a.cdecl(s,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/),r.$initialize=function(a,b){var c,d=this;return null==b&&(b=l([],{})),d.xml_mode=b["$[]"]("htmlsyntax")["$=="]("xml"),d.void_element_slash=function(){return(c=d.xml_mode)===i||c.$$is_boolean&&1!=c?i:"/"}(),d.stylesheets=s.get("Stylesheets").$instance()},r.$read_default_stylesheet=function(){var a=afx.readDefaultStylesheet();return a},r.$document=function(a){var e,f,g,h,j,k=this,n=i,o=i,p=i,q=i,r=i,t=i,u=i,v=i,w=i,x=i,y=i,z=i,A=i,B=i,C=i,D=i,E=i,F=i,G=i,H=i;return n=[],o=k.void_element_slash,p="<br"+o+">",((e=(q=a.$attr("asset-uri-scheme","https"))["$empty?"]())===i||e.$$is_boolean&&1!=e)&&(q=""+q+":"),r=""+q+"//cdnjs.cloudflare.com/ajax/libs",t=(e=b(a.$safe(),s.get("SafeMode").$$scope.get("SECURE")))!==!1&&e!==i?e:a["$attr?"]("linkcss"),n["$<<"]("<!DOCTYPE html>"),u=function(){return(e=a["$attr?"]("nolang"))===i||e.$$is_boolean&&1!=e?' lang="'+a.$attr("lang","en")+'"':i}(),n["$<<"]("<html"+function(){return(e=k.xml_mode)===i||e.$$is_boolean&&1!=e?i:' xmlns="http://www.w3.org/1999/xhtml"'}()+u+">"),n["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+o+'>\n<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+o+'><![endif]-->\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+o+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+'"'+o+">"),(e=a["$attr?"]("app-name"))===i||e.$$is_boolean&&1!=e||n["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+o+">"),(e=a["$attr?"]("description"))===i||e.$$is_boolean&&1!=e||n["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+o+">"),(e=a["$attr?"]("keywords"))===i||e.$$is_boolean&&1!=e||n["$<<"]('<meta name="keywords" content="'+a.$attr("keywords")+'"'+o+">"),(e=a["$attr?"]("authors"))===i||e.$$is_boolean&&1!=e||n["$<<"]('<meta name="author" content="'+a.$attr("authors")+'"'+o+">"),(e=a["$attr?"]("copyright"))===i||e.$$is_boolean&&1!=e||n["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+o+">"),n["$<<"]("<title>"+a.$doctitle(l(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),(e=s.get("DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))===i||e.$$is_boolean&&1!=e?(e=a["$attr?"]("stylesheet"))===i||e.$$is_boolean&&1!=e||(t!==!1&&t!==i?n["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+o+">"):n["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),l(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>")):((e=v=a.$attr("webfonts"))===i||e.$$is_boolean&&1!=e||n["$<<"]('<link rel="stylesheet" href="'+q+"//fonts.googleapis.com/css?family="+function(){return(e=v["$empty?"]())===i||e.$$is_boolean&&1!=e?v:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"}()+'"'+o+">"),t!==!1&&t!==i?n["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(s.get("DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",""),!1)+'"'+o+">"):n["$<<"](k.stylesheets.$embed_primary_stylesheet())),(e=a["$attr?"]("icons","font"))===i||e.$$is_boolean&&1!=e||((e=a["$attr?"]("iconfont-remote"))===i||e.$$is_boolean&&1!=e?(w=""+a.$attr("iconfont-name","font-awesome")+".css",n["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(w,a.$attr("stylesdir",""),!1)+'"'+o+">")):n["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn",""+r+"/font-awesome/4.4.0/css/font-awesome.min.css")+'"'+o+">")),x=y=a.$attr("source-highlighter"),"coderay"["$==="](x)?a.$attr("coderay-css","class")["$=="]("class")&&(t!==!1&&t!==i?n["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(k.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",""),!1)+'"'+o+">"):n["$<<"](k.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](x)&&a.$attr("pygments-css","class")["$=="]("class")&&(z=a.$attr("pygments-style"),t!==!1&&t!==i?n["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(k.stylesheets.$pygments_stylesheet_name(z),a.$attr("stylesdir",""),!1)+'"'+o+">"):n["$<<"](k.stylesheets.$embed_pygments_stylesheet(z))),((e=(A=a.$docinfo())["$empty?"]())===i||e.$$is_boolean&&1!=e)&&n["$<<"](A),n["$<<"]("</head>"),B=[],(e=a.$id())===i||e.$$is_boolean&&1!=e||B["$<<"]('id="'+a.$id()+'"'),g=a["$attr?"]("toc-class"),f=g!==!1&&g!==i?a["$attr?"]("toc"):g,(e=f!==!1&&f!==i?a["$attr?"]("toc-placement","auto"):f)===i||e.$$is_boolean&&1!=e?B["$<<"]('class="'+a.$doctype()+'"'):B["$<<"]('class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","header")+'"'),(e=a["$attr?"]("max-width"))===i||e.$$is_boolean&&1!=e||B["$<<"]('style="max-width: '+a.$attr("max-width")+';"'),
n["$<<"]("<body "+c(B," ")+">"),((e=a.$noheader())===i||e.$$is_boolean&&1!=e)&&(n["$<<"]('<div id="header">'),a.$doctype()["$=="]("manpage")?(n["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>"),f=a["$attr?"]("toc"),(e=f!==!1&&f!==i?a["$attr?"]("toc-placement","auto"):f)===i||e.$$is_boolean&&1!=e||n["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+k.$outline(a)+"\n</div>"),n["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")):((e=a["$has_header?"]())===i||e.$$is_boolean&&1!=e||(((e=a.$notitle())===i||e.$$is_boolean&&1!=e)&&n["$<<"]("<h1>"+a.$header().$title()+"</h1>"),C=[],(e=a["$attr?"]("author"))===i||e.$$is_boolean&&1!=e||(C["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+p),(e=a["$attr?"]("email"))===i||e.$$is_boolean&&1!=e||C["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+p),d(D=a.$attr("authorcount").$to_i(),1)&&(e=(f=m(2,D,!1)).$each,e.$$p=(h=function(b){var c;h.$$s||this;return null==b&&(b=i),C["$<<"]('<span id="author'+b+'" class="author">'+a.$attr("author_"+b)+"</span>"+p),(c=a["$attr?"]("email_"+b))===i||c.$$is_boolean&&1!=c?i:C["$<<"]('<span id="email'+b+'" class="email">'+a.$sub_macros(a.$attr("email_"+b))+"</span>"+p)},h.$$s=k,h),e).call(f)),(e=a["$attr?"]("revnumber"))===i||e.$$is_boolean&&1!=e||C["$<<"]('<span id="revnumber">'+((e=a.$attr("version-label"))!==!1&&e!==i?e:"").$downcase()+" "+a.$attr("revnumber")+function(){return(e=a["$attr?"]("revdate"))===i||e.$$is_boolean&&1!=e?"":","}()+"</span>"),(e=a["$attr?"]("revdate"))===i||e.$$is_boolean&&1!=e||C["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>"),(e=a["$attr?"]("revremark"))===i||e.$$is_boolean&&1!=e||C["$<<"](""+p+'<span id="revremark">'+a.$attr("revremark")+"</span>"),((e=C["$empty?"]())===i||e.$$is_boolean&&1!=e)&&(n["$<<"]('<div class="details">'),n.$concat(C),n["$<<"]("</div>"))),g=a["$attr?"]("toc"),(e=g!==!1&&g!==i?a["$attr?"]("toc-placement","auto"):g)===i||e.$$is_boolean&&1!=e||n["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+k.$outline(a)+"\n</div>")),n["$<<"]("</div>")),n["$<<"]('<div id="content">\n'+a.$content()+"\n</div>"),g=a["$footnotes?"](),(e=g!==!1&&g!==i?a["$attr?"]("nofootnotes")["$!"]():g)===i||e.$$is_boolean&&1!=e||(n["$<<"]('<div id="footnotes">\n<hr'+o+">"),(e=(g=a.$footnotes()).$each,e.$$p=(j=function(a){j.$$s||this;return null==a&&(a=i),n["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},j.$$s=k,j),e).call(g),n["$<<"]("</div>")),((e=a.$nofooter())===i||e.$$is_boolean&&1!=e)&&(n["$<<"]('<div id="footer">'),n["$<<"]('<div id="footer-text">'),(e=a["$attr?"]("revnumber"))===i||e.$$is_boolean&&1!=e||n["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+p),(e=a["$attr?"]("last-update-label"))===i||e.$$is_boolean&&1!=e||n["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime")),n["$<<"]("</div>"),n["$<<"]("</div>")),((e=(A=a.$docinfo("footer"))["$empty?"]())===i||e.$$is_boolean&&1!=e)&&n["$<<"](A),x=y,"highlightjs"["$==="](x)||"highlight.js"["$==="](x)?(E=a.$attr("highlightjsdir",""+r+"/highlight.js/8.9.1"),n["$<<"]('<link rel="stylesheet" href="'+E+"/styles/"+a.$attr("highlightjs-theme","github")+'.min.css"'+o+">"),n["$<<"]('<script src="'+E+'/highlight.min.js"></script>\n<script>hljs.initHighlighting()</script>')):"prettify"["$==="](x)&&(F=a.$attr("prettifydir",""+r+"/prettify/r298"),n["$<<"]('<link rel="stylesheet" href="'+F+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+o+">"),n["$<<"]('<script src="'+F+'/prettify.min.js"></script>\n<script>prettyPrint()</script>')),(e=a["$attr?"]("stem"))===i||e.$$is_boolean&&1!=e||(G=a.$attr("eqnums","none"),G["$=="]("")&&(G="AMS"),H=' equationNumbers: { autoNumber: "'+G+'" } ',n["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  tex2jax: {\n    inlineMath: ['+s.get("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+s.get("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+s.get("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+H+'}\n});\n</script>\n<script src="'+r+'/mathjax/2.5.3/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>')),n["$<<"]("</body>"),n["$<<"]("</html>"),c(n,s.get("EOL"))},r.$embedded=function(a){var b,d,e,f=this,g=i,h=i;return g=[],a.$doctype()["$=="]("manpage")?(((b=a.$notitle())===i||b.$$is_boolean&&1!=b)&&(h=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),g["$<<"]("<h1"+h+">"+a.$doctitle()+" Manual Page</h1>")),g["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")):(d=a["$has_header?"](),(b=d!==!1&&d!==i?a.$notitle()["$!"]():d)===i||b.$$is_boolean&&1!=b||(h=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),g["$<<"]("<h1"+h+">"+a.$header().$title()+"</h1>"))),d=a["$attr?"]("toc"),(b=d!==!1&&d!==i?["macro","preamble"]["$include?"](a.$attr("toc-placement"))["$!"]():d)===i||b.$$is_boolean&&1!=b||g["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+f.$outline(a)+"\n</div>"),g["$<<"](a.$content()),d=a["$footnotes?"](),(b=d!==!1&&d!==i?a["$attr?"]("nofootnotes")["$!"]():d)===i||b.$$is_boolean&&1!=b||(g["$<<"]('<div id="footnotes">\n<hr'+f.void_element_slash+">"),(b=(d=a.$footnotes()).$each,b.$$p=(e=function(a){e.$$s||this;return null==a&&(a=i),g["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},e.$$s=f,e),b).call(d),g["$<<"]("</div>")),c(g,s.get("EOL"))},r.$outline=function(a,b){var d,g,h,j=this,k=i,m=i,n=i,o=i,p=i,q=i;return null==b&&(b=l([],{})),(d=(k=a.$sections())["$empty?"]())===i||d.$$is_boolean&&1!=d?(m=(d=b["$[]"]("sectnumlevels"))!==!1&&d!==i?d:a.$document().$attr("sectnumlevels",3).$to_i(),n=(d=b["$[]"]("toclevels"))!==!1&&d!==i?d:a.$document().$attr("toclevels",2).$to_i(),o=[],p=(q=k["$[]"](0)).$level(),(d=(g=p["$=="](0))?q.$special():g)===i||d.$$is_boolean&&1!=d||(p=1),o["$<<"]('<ul class="sectlevel'+p+'">'),(d=(g=k).$each,d.$$p=(h=function(a){var b,c,d,g=h.$$s||this,j=i,k=i;return null==a&&(a=i),j=function(){return d=a.$numbered(),c=d!==!1&&d!==i?a.$caption()["$!"]():d,(b=c!==!1&&c!==i?e(a.$level(),m):c)===i||b.$$is_boolean&&1!=b?i:""+a.$sectnum()+" "}(),(b=(c=f(a.$level(),n))?k=g.$outline(a,l(["toclevels","secnumlevels"],{toclevels:n,secnumlevels:m})):c)===i||b.$$is_boolean&&1!=b?o["$<<"]('<li><a href="#'+a.$id()+'">'+j+a.$captioned_title()+"</a></li>"):(o["$<<"]('<li><a href="#'+a.$id()+'">'+j+a.$captioned_title()+"</a>"),o["$<<"](k),o["$<<"]("</li>"))},h.$$s=j,h),d).call(g),o["$<<"]("</ul>"),c(o,s.get("EOL"))):i},r.$section=function(a){var b,c,d,f=i,h=i,j=i,k=i,l=i,m=i,n=i,o=i,p=i;return f=a.$level(),(b=(c=f["$=="](0))?a.$special():c)===i||b.$$is_boolean&&1!=b||(f=1),h="h"+g(f,1),j=k=l=m=i,(b=a.$id())===i||b.$$is_boolean&&1!=b||(j=' id="'+a.$id()+'"',(b=a.$document()["$attr?"]("sectanchors"))===i||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("sectlinks"))===i||b.$$is_boolean&&1!=b||(l='<a class="link" href="#'+a.$id()+'">',m="</a>"):k='<a class="anchor" href="#'+a.$id()+'"></a>'),f["$=="](0)?"<h1"+j+' class="sect0">'+k+l+a.$title()+m+"</h1>\n"+a.$content():(n=function(){return(b=o=a.$role())===i||b.$$is_boolean&&1!=b?' class="sect'+f+'"':' class="sect'+f+" "+o+'"'}(),p=function(){return d=a.$numbered(),c=d!==!1&&d!==i?a.$caption()["$!"]():d,(b=c!==!1&&c!==i?e(f,a.$document().$attr("sectnumlevels",3).$to_i()):c)===i||b.$$is_boolean&&1!=b?i:""+a.$sectnum()+" "}(),"<div"+n+">\n<"+h+j+">"+k+l+p+a.$captioned_title()+m+"</"+h+">\n"+function(){return f["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content()}()+"\n</div>")},r.$admonition=function(a){var b,c=this,d=i,e=i,f=i,g=i,h=i;return d=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),e=a.$attr("name"),f=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$title()+"</div>\n"}(),g=function(){return(b=a.$document()["$attr?"]("icons"))===i||b.$$is_boolean&&1!=b?'<div class="title">'+a.$caption()+"</div>":(b=a.$document()["$attr?"]("icons","font"))===i||b.$$is_boolean&&1!=b?'<img src="'+a.$icon_uri(e)+'" alt="'+a.$caption()+'"'+c.void_element_slash+">":'<i class="fa icon-'+e+'" title="'+a.$caption()+'"></i>'}(),"<div"+d+' class="admonitionblock '+e+(b=h=a.$role(),b!==!1&&b!==i?" "+h:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+g+'\n</td>\n<td class="content">\n'+f+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},r.$audio=function(a){var b,d=this,e=i,f=i,g=i,h=i,j=i;return e=a.$document()["$attr?"]("htmlsyntax","xml"),f=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),g=["audioblock",a.$style(),a.$role()].$compact(),h=' class="'+c(g," ")+'"',j=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$captioned_title()+"</div>\n"}(),"<div"+f+h+">\n"+j+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+function(){return(b=a["$option?"]("autoplay"))===i||b.$$is_boolean&&1!=b?i:d.$append_boolean_attribute("autoplay",e)}()+function(){return(b=a["$option?"]("nocontrols"))===i||b.$$is_boolean&&1!=b?d.$append_boolean_attribute("controls",e):i}()+function(){return(b=a["$option?"]("loop"))===i||b.$$is_boolean&&1!=b?i:d.$append_boolean_attribute("loop",e)}()+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},r.$colist=function(a){var b,d,e,f,h,j=this,k=i,l=i,m=i,n=i,o=i;return k=[],l=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),m=["colist",a.$style(),a.$role()].$compact(),n=' class="'+c(m," ")+'"',k["$<<"]("<div"+l+n+">"),(b=a["$title?"]())===i||b.$$is_boolean&&1!=b||k["$<<"]('<div class="title">'+a.$title()+"</div>"),(b=a.$document()["$attr?"]("icons"))===i||b.$$is_boolean&&1!=b?(k["$<<"]("<ol>"),(b=(f=a.$items()).$each,b.$$p=(h=function(a){h.$$s||this;return null==a&&(a=i),k["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},h.$$s=j,h),b).call(f),k["$<<"]("</ol>")):(k["$<<"]("<table>"),o=a.$document()["$attr?"]("icons","font"),(b=(d=a.$items()).$each_with_index,b.$$p=(e=function(b,c){var d=e.$$s||this,f=i,h=i;return null==d.void_element_slash&&(d.void_element_slash=i),null==b&&(b=i),null==c&&(c=i),f=g(c,1),h=function(){return o!==!1&&o!==i?'<i class="conum" data-value="'+f+'"></i><b>'+f+"</b>":'<img src="'+a.$icon_uri("callouts/"+f)+'" alt="'+f+'"'+d.void_element_slash+">"}(),k["$<<"]("<tr>\n<td>"+h+"</td>\n<td>"+b.$text()+"</td>\n</tr>")},e.$$s=j,e),b).call(d),k["$<<"]("</table>")),k["$<<"]("</div>"),c(k,s.get("EOL"))},r.$dlist=function(a){var b,d,e,f,g,h,j,k=this,l=i,m=i,n=i,o=i,p=i,q=i,r=i,t=i;return l=[],m=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),n=function(){return o=a.$style(),"qanda"["$==="](o)?["qlist","qanda",a.$role()]:"horizontal"["$==="](o)?["hdlist",a.$role()]:["dlist",a.$style(),a.$role()]}().$compact(),p=' class="'+c(n," ")+'"',l["$<<"]("<div"+m+p+">"),(b=a["$title?"]())===i||b.$$is_boolean&&1!=b||l["$<<"]('<div class="title">'+a.$title()+"</div>"),o=a.$style(),"qanda"["$==="](o)?(l["$<<"]("<ol>"),(b=(d=a.$items()).$each,b.$$p=(e=function(a,b){var c,d,f,g=e.$$s||this;return null==a&&(a=i),null==b&&(b=i),l["$<<"]("<li>"),(c=(d=[].concat(a)).$each,c.$$p=(f=function(a){f.$$s||this;return null==a&&(a=i),l["$<<"]("<p><em>"+a.$text()+"</em></p>")},f.$$s=g,f),c).call(d),b!==!1&&b!==i&&((c=b["$text?"]())===i||c.$$is_boolean&&1!=c||l["$<<"]("<p>"+b.$text()+"</p>"),(c=b["$blocks?"]())===i||c.$$is_boolean&&1!=c||l["$<<"](b.$content())),l["$<<"]("</li>")},e.$$s=k,e),b).call(d),l["$<<"]("</ol>")):"horizontal"["$==="](o)?(q=k.void_element_slash,l["$<<"]("<table>"),(b=(f=a["$attr?"]("labelwidth"))!==!1&&f!==i?f:a["$attr?"]("itemwidth"))===i||b.$$is_boolean&&1!=b||(l["$<<"]("<colgroup>"),r=function(){return(b=a["$attr?"]("labelwidth"))===i||b.$$is_boolean&&1!=b?i:' style="width: '+a.$attr("labelwidth").$chomp("%")+'%;"'}(),l["$<<"]("<col"+r+q+">"),r=function(){return(b=a["$attr?"]("itemwidth"))===i||b.$$is_boolean&&1!=b?i:' style="width: '+a.$attr("itemwidth").$chomp("%")+'%;"'}(),l["$<<"]("<col"+r+q+">"),l["$<<"]("</colgroup>")),(b=(f=a.$items()).$each,b.$$p=(g=function(b,c){var d,e,f,h=g.$$s||this,j=i,k=i;return null==b&&(b=i),null==c&&(c=i),l["$<<"]("<tr>"),l["$<<"]('<td class="hdlist1'+function(){return(d=a["$option?"]("strong"))===i||d.$$is_boolean&&1!=d?i:" strong"}()+'">'),j=[].concat(b),k=j["$[]"](-1),(d=(e=j).$each,d.$$p=(f=function(a){var b;f.$$s||this;return null==a&&(a=i),l["$<<"](a.$text()),(b=a["$=="](k)["$!"]())===i||b.$$is_boolean&&1!=b?i:l["$<<"]("<br"+q+">")},f.$$s=h,f),d).call(e),l["$<<"]("</td>"),l["$<<"]('<td class="hdlist2">'),c!==!1&&c!==i&&((d=c["$text?"]())===i||d.$$is_boolean&&1!=d||l["$<<"]("<p>"+c.$text()+"</p>"),(d=c["$blocks?"]())===i||d.$$is_boolean&&1!=d||l["$<<"](c.$content())),l["$<<"]("</td>"),l["$<<"]("</tr>")},g.$$s=k,g),b).call(f),l["$<<"]("</table>")):(l["$<<"]("<dl>"),t=function(){return(b=a.$style())===i||b.$$is_boolean&&1!=b?' class="hdlist1"':i}(),(b=(h=a.$items()).$each,b.$$p=(j=function(a,b){var c,d,e,f=j.$$s||this;return null==a&&(a=i),null==b&&(b=i),(c=(d=[].concat(a)).$each,c.$$p=(e=function(a){e.$$s||this;return null==a&&(a=i),l["$<<"]("<dt"+t+">"+a.$text()+"</dt>")},e.$$s=f,e),c).call(d),b!==!1&&b!==i?(l["$<<"]("<dd>"),(c=b["$text?"]())===i||c.$$is_boolean&&1!=c||l["$<<"]("<p>"+b.$text()+"</p>"),(c=b["$blocks?"]())===i||c.$$is_boolean&&1!=c||l["$<<"](b.$content()),l["$<<"]("</dd>")):i},j.$$s=k,j),b).call(h),l["$<<"]("</dl>")),l["$<<"]("</div>"),c(l,s.get("EOL"))},r.$example=function(a){var b,d=i,e=i,f=i;return d=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),e=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$captioned_title()+"</div>\n"}(),"<div"+d+' class="'+function(){return(b=f=a.$role())===i||b.$$is_boolean&&1!=b?"exampleblock":c(["exampleblock",f]," ")}()+'">\n'+e+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},r.$floating_title=function(a){var b,d=i,e=i,f=i;return d="h"+g(a.$level(),1),e=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),f=[a.$style(),a.$role()].$compact(),"<"+d+e+' class="'+c(f," ")+'">'+a.$title()+"</"+d+">"},r.$image=function(a){var b,d,e,g=this,h=i,j=i,k=i,l=i,m=i,n=i,o=i,p=i,q=i,r=i,t=i,u=i,v=i,w=i;return h=a.$attr("target"),j=function(){return(b=a["$attr?"]("width"))===i||b.$$is_boolean&&1!=b?i:' width="'+a.$attr("width")+'"'}(),k=function(){return(b=a["$attr?"]("height"))===i||b.$$is_boolean&&1!=b?i:' height="'+a.$attr("height")+'"'}(),d=(e=a["$attr?"]("format","svg",!1))!==!1&&e!==i?e:h["$include?"](".svg"),(b=d!==!1&&d!==i?f(a.$document().$safe(),s.get("SafeMode").$$scope.get("SECURE")):d)===i||b.$$is_boolean&&1!=b||((b=l=a["$option?"]("inline"))!==!1&&b!==i?b:m=a["$option?"]("interactive"),l!==!1&&l!==i?n=(b=g.$read_svg_contents(a,h))!==!1&&b!==i?b:'<span class="alt">'+a.$attr("alt")+"</span>":m!==!1&&m!==i&&(o=function(){return(b=a["$attr?"]("fallback"))===i||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+j+k+g.void_element_slash+">"}(),n='<object type="image/svg+xml" data="'+a.$image_uri(h)+'"'+j+k+">"+o+"</object>")),(b=n)!==!1&&b!==i?b:n='<img src="'+a.$image_uri(h)+'" alt="'+a.$attr("alt")+'"'+j+k+g.void_element_slash+">",(b=p=a.$attr("link"))===i||b.$$is_boolean&&1!=b||(n='<a class="image" href="'+p+'">'+n+"</a>"),q=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),r=["imageblock",a.$style(),a.$role()].$compact(),t=' class="'+c(r," ")+'"',u=[],(b=a["$attr?"]("align"))===i||b.$$is_boolean&&1!=b||u["$<<"]("text-align: "+a.$attr("align")),(b=a["$attr?"]("float"))===i||b.$$is_boolean&&1!=b||u["$<<"]("float: "+a.$attr("float")),v=function(){return(b=u["$empty?"]())===i||b.$$is_boolean&&1!=b?' style="'+c(u,";")+'"':i}(),w=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'\n<div class="title">'+a.$captioned_title()+"</div>"}(),"<div"+q+t+v+'>\n<div class="content">\n'+n+"\n</div>"+w+"\n</div>"},r.$listing=function(a){var b,c=i,d=i,e=i,f=i,g=i,h=i,j=i,k=i,l=i,m=i;return c=(b=a.$document()["$attr?"]("prewrap")["$!"]())!==!1&&b!==i?b:a["$option?"]("nowrap"),a.$style()["$=="]("source")?(e=(b=d=a.$attr("language",i,!1))===i||b.$$is_boolean&&1!=b?i:' data-lang="'+d+'"',f=a.$document().$attr("source-highlighter"),"coderay"["$==="](f)?g=' class="CodeRay highlight'+function(){return c!==!1&&c!==i?" nowrap":i}()+'"':"pygments"["$==="](f)?g=' class="pygments highlight'+function(){return c!==!1&&c!==i?" nowrap":i}()+'"':"highlightjs"["$==="](f)||"highlight.js"["$==="](f)?(g=' class="highlightjs highlight'+function(){return c!==!1&&c!==i?" nowrap":i}()+'"',d!==!1&&d!==i&&(e=' class="language-'+d+'"'+e)):"prettify"["$==="](f)?(g=' class="prettyprint highlight'+function(){return c!==!1&&c!==i?" nowrap":i}()+function(){return(b=a["$attr?"]("linenums"))===i||b.$$is_boolean&&1!=b?i:" linenums"}()+'"',d!==!1&&d!==i&&(e=' class="language-'+d+'"'+e)):"html-pipeline"["$==="](f)?(g=function(){return d!==!1&&d!==i?' lang="'+d+'"':i}(),e=i):(g=' class="highlight'+function(){return c!==!1&&c!==i?" nowrap":i}()+'"',d!==!1&&d!==i&&(e=' class="language-'+d+'"'+e)),h="<pre"+g+"><code"+e+">",j="</code></pre>"):(h="<pre"+function(){return c!==!1&&c!==i?' class="nowrap"':i}()+">",j="</pre>"),k=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),l=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$captioned_title()+"</div>\n"}(),"<div"+k+' class="listingblock'+(b=m=a.$role(),b!==!1&&b!==i?" "+m:b)+'">\n'+l+'<div class="content">\n'+h+a.$content()+j+"\n</div>\n</div>"},r.$literal=function(a){var b,c=i,d=i,e=i,f=i;return c=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),d=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$title()+"</div>\n"}(),e=(b=a.$document()["$attr?"]("prewrap")["$!"]())!==!1&&b!==i?b:a["$option?"]("nowrap"),"<div"+c+' class="literalblock'+(b=f=a.$role(),b!==!1&&b!==i?" "+f:b)+'">\n'+d+'<div class="content">\n<pre'+function(){return e!==!1&&e!==i?' class="nowrap"':i}()+">"+a.$content()+"</pre>\n</div>\n</div>"},r.$stem=function(b){var d,e,f=i,g=i,h=i,j=i,k=i,l=i;return f=function(){return(d=b.$id())===i||d.$$is_boolean&&1!=d?i:' id="'+b.$id()+'"'}(),g=function(){return(d=b["$title?"]())===i||d.$$is_boolean&&1!=d?i:'<div class="title">'+b.$title()+"</div>\n"}(),d=a.to_ary(s.get("BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym())),h=null==d[0]?i:d[0],j=null==d[1]?i:d[1],e=(k=b.$content())["$start_with?"](h),((d=e!==!1&&e!==i?k["$end_with?"](j):e)===i||d.$$is_boolean&&1!=d)&&(k=""+h+k+j),"<div"+f+' class="'+function(){return(d=l=b.$role())===i||d.$$is_boolean&&1!=d?"stemblock":c(["stemblock",l]," ")}()+'">\n'+g+'<div class="content">\n'+k+"\n</div>\n</div>"},r.$olist=function(a){var b,d,e,f=this,g=i,h=i,j=i,k=i,l=i,m=i,n=i;return g=[],h=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),j=["olist",a.$style(),a.$role()].$compact(),k=' class="'+c(j," ")+'"',g["$<<"]("<div"+h+k+">"),(b=a["$title?"]())===i||b.$$is_boolean&&1!=b||g["$<<"]('<div class="title">'+a.$title()+"</div>"),l=function(){return(b=m=a.$list_marker_keyword())===i||b.$$is_boolean&&1!=b?i:' type="'+m+'"'}(),n=function(){return(b=a["$attr?"]("start"))===i||b.$$is_boolean&&1!=b?i:' start="'+a.$attr("start")+'"'}(),g["$<<"]('<ol class="'+a.$style()+'"'+l+n+">"),(b=(d=a.$items()).$each,b.$$p=(e=function(a){var b;e.$$s||this;return null==a&&(a=i),g["$<<"]("<li>"),g["$<<"]("<p>"+a.$text()+"</p>"),(b=a["$blocks?"]())===i||b.$$is_boolean&&1!=b||g["$<<"](a.$content()),g["$<<"]("</li>")},e.$$s=f,e),b).call(d),g["$<<"]("</ol>"),g["$<<"]("</div>"),c(g,s.get("EOL"))},r.$open=function(a){var b,c,d,e,f=this,g=i,h=i,j=i,k=i;return(g=a.$style())["$=="]("abstract")?(b=(c=a.$parent()["$=="](a.$document()))?a.$document().$doctype()["$=="]("book"):c)===i||b.$$is_boolean&&1!=b?(h=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),j=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$title()+"</div>"}(),"<div"+h+' class="quoteblock abstract'+(b=k=a.$role(),b!==!1&&b!==i?" "+k:b)+'">\n'+j+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"):(f.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(b=(c=g["$=="]("partintro"))?(d=(e=a.$level()["$=="](0)["$!"]())!==!1&&e!==i?e:a.$parent().$context()["$=="]("section")["$!"]())!==!1&&d!==i?d:a.$document().$doctype()["$=="]("book")["$!"]():c)===i||b.$$is_boolean&&1!=b?(h=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),j=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$title()+"</div>"}(),"<div"+h+' class="openblock'+function(){return(b=(c=g!==!1&&g!==i)?g["$=="]("open")["$!"]():c)===i||b.$$is_boolean&&1!=b?"":" "+g}()+(b=k=a.$role(),b!==!1&&b!==i?" "+k:b)+'">\n'+j+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"):(f.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),"")},r.$page_break=function(a){return'<div style="page-break-after: always;"></div>'},r.$paragraph=function(a){var b,c=i,d=i;return c=function(){return(b=a.$role())===i||b.$$is_boolean&&1!=b?'class="paragraph"':'class="paragraph '+a.$role()+'"'}(),d=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?c:'id="'+a.$id()+'" '+c}(),(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?"<div "+d+">\n<p>"+a.$content()+"</p>\n</div>":"<div "+d+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>"},r.$preamble=function(a){var b,c,d=this,e=i;return e=function(){return c=a["$attr?"]("toc"),(b=c!==!1&&c!==i?a["$attr?"]("toc-placement","preamble"):c)===i||b.$$is_boolean&&1!=b?i:'\n<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+d.$outline(a.$document())+"\n</div>"}(),'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+e+"\n</div>"},r.$quote=function(a){var b,d,e=this,f=i,g=i,h=i,j=i,k=i,l=i,m=i,n=i,o=i;return f=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),g=["quoteblock",a.$role()].$compact(),h=' class="'+c(g," ")+'"',j=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'\n<div class="title">'+a.$title()+"</div>"}(),k=function(){return(b=a["$attr?"]("attribution"))===i||b.$$is_boolean&&1!=b?i:a.$attr("attribution")}(),l=function(){return(b=a["$attr?"]("citetitle"))===i||b.$$is_boolean&&1!=b?i:a.$attr("citetitle")}(),(b=(d=k)!==!1&&d!==i?d:l)===i||b.$$is_boolean&&1!=b?o=i:(m=function(){return l!==!1&&l!==i?"<cite>"+l+"</cite>":i}(),n=function(){return k!==!1&&k!==i?"&#8212; "+k+function(){return l!==!1&&l!==i?"<br"+e.void_element_slash+">\n":i}():i}(),o='\n<div class="attribution">\n'+n+m+"\n</div>"),"<div"+f+h+">"+j+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+o+"\n</div>"},r.$thematic_break=function(a){var b=this;return"<hr"+b.void_element_slash+">"},r.$sidebar=function(a){var b,d=i,e=i,f=i;return d=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),e=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$title()+"</div>\n"}(),"<div"+d+' class="'+function(){return(b=f=a.$role())===i||b.$$is_boolean&&1!=b?"sidebarblock":c(["sidebarblock",f]," ")}()+'">\n<div class="content">\n'+e+a.$content()+"\n</div>\n</div>"},r.$table=function(a){var b,e,f,g,h,j,k,l,m,n,o=this,p=i,q=i,r=i,t=i,u=i,v=i,w=i,x=i,y=i,z=i;return p=[],q=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),r=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],t=[],((b=a["$option?"]("autowidth"))===i||b.$$is_boolean&&1!=b)&&((u=a.$attr("tablepcwidth"))["$=="](100)?r["$<<"]("spread"):t["$<<"]("width: "+u+"%;")),(b=v=a.$role())===i||b.$$is_boolean&&1!=b||r["$<<"](v),w=' class="'+c(r," ")+'"',(b=a["$attr?"]("float"))===i||b.$$is_boolean&&1!=b||t["$<<"]("float: "+a.$attr("float")+";"),x=function(){return(b=t["$empty?"]())===i||b.$$is_boolean&&1!=b?' style="'+c(t," ")+'"':i}(),p["$<<"]("<table"+q+w+x+">"),(b=a["$title?"]())===i||b.$$is_boolean&&1!=b||p["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>"),d(a.$attr("rowcount"),0)&&(y=o.void_element_slash,p["$<<"]("<colgroup>"),(b=a["$option?"]("autowidth"))===i||b.$$is_boolean&&1!=b?(b=(g=a.$columns()).$each,b.$$p=(h=function(a){h.$$s||this;return null==a&&(a=i),p["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+y+">")},h.$$s=o,h),b).call(g):(z="<col"+y+">",(b=(e=a.$columns().$size()).$times,b.$$p=(f=function(){f.$$s||this;return p["$<<"](z)},f.$$s=o,f),b).call(e)),p["$<<"]("</colgroup>"),(b=(j=(l=(m=["head","foot","body"]).$select,l.$$p=(n=function(b){n.$$s||this;return null==b&&(b=i),a.$rows()["$[]"](b)["$empty?"]()["$!"]()},n.$$s=o,n),l).call(m)).$each,b.$$p=(k=function(b){var c,d,e,f=k.$$s||this;return null==b&&(b=i),p["$<<"]("<t"+b+">"),(c=(d=a.$rows()["$[]"](b)).$each,c.$$p=(e=function(c){var d,f,g,h=e.$$s||this;return null==c&&(c=i),p["$<<"]("<tr>"),(d=(f=c).$each,d.$$p=(g=function(c){var d,e,f,h,j=g.$$s||this,k=i,l=i,m=i,n=i,o=i,q=i,r=i;return null==c&&(c=i),b["$=="]("head")?k=c.$text():(l=c.$style(),"asciidoc"["$==="](l)?k="<div>"+c.$content()+"</div>":"verse"["$==="](l)?k='<div class="verse">'+c.$text()+"</div>":"literal"["$==="](l)?k='<div class="literal"><pre>'+c.$text()+"</pre></div>":(k="",(d=(e=c.$content()).$each,d.$$p=(f=function(a){f.$$s||this;return null==a&&(a=i),k=""+k+'<p class="tableblock">'+a+"</p>"},f.$$s=j,f),d).call(e))),m=function(){return(d=(h=b["$=="]("head"))!==!1&&h!==i?h:c.$style()["$=="]("header"))===i||d.$$is_boolean&&1!=d?"td":"th"}(),n=' class="tableblock halign-'+c.$attr("halign")+" valign-"+c.$attr("valign")+'"',o=function(){return(d=c.$colspan())===i||d.$$is_boolean&&1!=d?i:' colspan="'+c.$colspan()+'"'}(),q=function(){return(d=c.$rowspan())===i||d.$$is_boolean&&1!=d?i:' rowspan="'+c.$rowspan()+'"'}(),r=function(){return(d=a.$document()["$attr?"]("cellbgcolor"))===i||d.$$is_boolean&&1!=d?i:' style="background-color: '+a.$document().$attr("cellbgcolor")+';"'}(),p["$<<"]("<"+m+n+o+q+r+">"+k+"</"+m+">")},g.$$s=h,g),d).call(f),p["$<<"]("</tr>")},e.$$s=f,e),c).call(d),p["$<<"]("</t"+b+">")},k.$$s=o,k),b).call(j)),p["$<<"]("</table>"),c(p,s.get("EOL"))},r.$toc=function(a){var b,c,d=this,e=i,f=i,g=i,h=i,j=i,k=i;return c=(e=a.$document())["$attr?"]("toc-placement","macro"),(b=c!==!1&&c!==i?e["$attr?"]("toc"):c)===i||b.$$is_boolean&&1!=b?"<!-- toc disabled -->":((b=a.$id())===i||b.$$is_boolean&&1!=b?(f=' id="toc"',g=' id="toctitle"'):(f=' id="'+a.$id()+'"',g=' id="'+a.$id()+'title"'),h=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?e.$attr("toc-title"):a.$title()}(),j=function(){return(b=a["$attr?"]("levels"))===i||b.$$is_boolean&&1!=b?i:a.$attr("levels").$to_i()}(),k=function(){return(b=a["$role?"]())===i||b.$$is_boolean&&1!=b?e.$attr("toc-class","toc"):a.$role()}(),"<div"+f+' class="'+k+'">\n<div'+g+' class="title">'+h+"</div>\n"+d.$outline(e,l(["toclevels"],{toclevels:j}))+"\n</div>")},r.$ulist=function(a){var b,d,e,f=this,g=i,h=i,j=i,k=i,l=i,m=i,n=i;return g=[],h=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),j=["ulist",a.$style(),a.$role()].$compact(),k=i,l=i,(b=m=a["$option?"]("checklist"))===i||b.$$is_boolean&&1!=b?n=function(){return(b=a.$style())===i||b.$$is_boolean&&1!=b?i:' class="'+a.$style()+'"'}():(j.$insert(1,"checklist"),n=' class="checklist"',(b=a["$option?"]("interactive"))===i||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("icons","font"))===i||b.$$is_boolean&&1!=b?(k="&#10003; ",l="&#10063; "):(k='<i class="fa fa-check-square-o"></i> ',l='<i class="fa fa-square-o"></i> '):(b=a.$document()["$attr?"]("htmlsyntax","xml"))===i||b.$$is_boolean&&1!=b?(k='<input type="checkbox" data-item-complete="1" checked> ',l='<input type="checkbox" data-item-complete="0"> '):(k='<input type="checkbox" data-item-complete="1" checked="checked"/> ',l='<input type="checkbox" data-item-complete="0"/> ')),g["$<<"]("<div"+h+' class="'+c(j," ")+'">'),(b=a["$title?"]())===i||b.$$is_boolean&&1!=b||g["$<<"]('<div class="title">'+a.$title()+"</div>"),g["$<<"]("<ul"+n+">"),(b=(d=a.$items()).$each,b.$$p=(e=function(a){var b,c;e.$$s||this;return null==a&&(a=i),g["$<<"]("<li>"),(b=(c=m!==!1&&m!==i)?a["$attr?"]("checkbox"):c)===i||b.$$is_boolean&&1!=b?g["$<<"]("<p>"+a.$text()+"</p>"):g["$<<"]("<p>"+function(){return(b=a["$attr?"]("checked"))===i||b.$$is_boolean&&1!=b?l:k}()+a.$text()+"</p>"),(b=a["$blocks?"]())===i||b.$$is_boolean&&1!=b||g["$<<"](a.$content()),g["$<<"]("</li>")},e.$$s=f,e),b).call(d),g["$<<"]("</ul>"),g["$<<"]("</div>"),c(g,s.get("EOL"))},r.$verse=function(a){var b,d,e=this,f=i,g=i,h=i,j=i,k=i,l=i,m=i,n=i,o=i;return f=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),g=["verseblock",a.$role()].$compact(),h=' class="'+c(g," ")+'"',j=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'\n<div class="title">'+a.$title()+"</div>"}(),k=function(){return(b=a["$attr?"]("attribution"))===i||b.$$is_boolean&&1!=b?i:a.$attr("attribution")}(),l=function(){return(b=a["$attr?"]("citetitle"))===i||b.$$is_boolean&&1!=b?i:a.$attr("citetitle")}(),(b=(d=k)!==!1&&d!==i?d:l)===i||b.$$is_boolean&&1!=b?o=i:(m=function(){return l!==!1&&l!==i?"<cite>"+l+"</cite>":i}(),n=function(){return k!==!1&&k!==i?"&#8212; "+k+function(){return l!==!1&&l!==i?"<br"+e.void_element_slash+">\n":i}():i}(),o='\n<div class="attribution">\n'+n+m+"\n</div>"),"<div"+f+h+">"+j+'\n<pre class="content">'+a.$content()+"</pre>"+o+"\n</div>"},r.$video=function(b){var d,e,f=this,g=i,h=i,j=i,k=i,l=i,m=i,n=i,o=i,p=i,q=i,r=i,s=i,t=i,u=i,v=i,w=i,x=i,y=i,z=i,A=i,B=i,C=i,D=i,E=i,F=i,G=i,H=i,I=i,J=i,K=i,L=i;return g=b.$document()["$attr?"]("htmlsyntax","xml"),h=function(){return(d=b.$id())===i||d.$$is_boolean&&1!=d?i:' id="'+b.$id()+'"'}(),j=["videoblock",b.$style(),b.$role()].$compact(),k=' class="'+c(j," ")+'"',l=function(){return(d=b["$title?"]())===i||d.$$is_boolean&&1!=d?i:'\n<div class="title">'+b.$captioned_title()+"</div>"}(),m=function(){return(d=b["$attr?"]("width"))===i||d.$$is_boolean&&1!=d?i:' width="'+b.$attr("width")+'"'}(),n=function(){return(d=b["$attr?"]("height"))===i||d.$$is_boolean&&1!=d?i:' height="'+b.$attr("height")+'"'}(),function(){return o=b.$attr("poster"),"vimeo"["$==="](o)?(((d=(p=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===i||d.$$is_boolean&&1!=d)&&(p=""+p+":"),q=function(){return(d=b["$attr?"]("start",i,!1))===i||d.$$is_boolean&&1!=d?i:"#at="+b.$attr("start")}(),r="?",s=function(){return(d=b["$option?"]("autoplay"))===i||d.$$is_boolean&&1!=d?i:""+r+"autoplay=1"}(),s!==!1&&s!==i&&(r="&amp;"),t=function(){return(d=b["$option?"]("loop"))===i||d.$$is_boolean&&1!=d?i:""+r+"loop=1"}(),"<div"+h+k+">"+l+'\n<div class="content">\n<iframe'+m+n+' src="'+p+"//player.vimeo.com/video/"+b.$attr("target")+q+s+t+'" frameborder="0"'+function(){return(d=b["$option?"]("nofullscreen"))===i||d.$$is_boolean&&1!=d?f.$append_boolean_attribute("allowfullscreen",g):i}()+"></iframe>\n</div>\n</div>"):"youtube"["$==="](o)?(((d=(p=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===i||d.$$is_boolean&&1!=d)&&(p=""+p+":"),
u=function(){return(d=b["$option?"]("related"))===i||d.$$is_boolean&&1!=d?0:1}(),v=function(){return(d=b["$attr?"]("start",i,!1))===i||d.$$is_boolean&&1!=d?i:"&amp;start="+b.$attr("start")}(),w=function(){return(d=b["$attr?"]("end",i,!1))===i||d.$$is_boolean&&1!=d?i:"&amp;end="+b.$attr("end")}(),s=function(){return(d=b["$option?"]("autoplay"))===i||d.$$is_boolean&&1!=d?i:"&amp;autoplay=1"}(),t=function(){return(d=b["$option?"]("loop"))===i||d.$$is_boolean&&1!=d?i:"&amp;loop=1"}(),x=function(){return(d=b["$option?"]("nocontrols"))===i||d.$$is_boolean&&1!=d?i:"&amp;controls=0"}(),(d=b["$option?"]("nofullscreen"))===i||d.$$is_boolean&&1!=d?(y=i,z=f.$append_boolean_attribute("allowfullscreen",g)):(y="&amp;fs=0",z=i),A=function(){return(d=b["$option?"]("modest"))===i||d.$$is_boolean&&1!=d?i:"&amp;modestbranding=1"}(),B=function(){return(d=b["$attr?"]("theme",i,!1))===i||d.$$is_boolean&&1!=d?i:"&amp;theme="+b.$attr("theme")}(),C=function(){return(d=b["$attr?"]("lang"))===i||d.$$is_boolean&&1!=d?i:"&amp;hl="+b.$attr("lang")}(),d=a.to_ary(b.$attr("target").$split("/",2)),D=null==d[0]?i:d[0],E=null==d[1]?i:d[1],(d=(e=E)!==!1&&e!==i?e:E=b.$attr("list",i,!1))===i||d.$$is_boolean&&1!=d?(d=a.to_ary(D.$split(",",2)),D=null==d[0]?i:d[0],G=null==d[1]?i:d[1],F=(d=(e=G)!==!1&&e!==i?e:G=b.$attr("playlist",i,!1))===i||d.$$is_boolean&&1!=d?function(){return t!==!1&&t!==i?"&amp;playlist="+D:i}():"&amp;playlist="+G):F="&amp;list="+E,"<div"+h+k+">"+l+'\n<div class="content">\n<iframe'+m+n+' src="'+p+"//www.youtube.com/embed/"+D+"?rel="+u+v+w+s+t+x+F+y+A+B+C+'" frameborder="0"'+z+"></iframe>\n</div>\n</div>"):(H=function(){return(d=(""+(I=b.$attr("poster")))["$empty?"]())===i||d.$$is_boolean&&1!=d?' poster="'+b.$media_uri(I)+'"':i}(),J=b.$attr("start",i,!1),K=b.$attr("end",i,!1),L=function(){return(d=(e=J)!==!1&&e!==i?e:K)===i||d.$$is_boolean&&1!=d?i:"#t="+J+function(){return K!==!1&&K!==i?",":i}()+K}(),"<div"+h+k+">"+l+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+L+'"'+m+n+H+function(){return(d=b["$option?"]("autoplay"))===i||d.$$is_boolean&&1!=d?i:f.$append_boolean_attribute("autoplay",g)}()+function(){return(d=b["$option?"]("nocontrols"))===i||d.$$is_boolean&&1!=d?f.$append_boolean_attribute("controls",g):i}()+function(){return(d=b["$option?"]("loop"))===i||d.$$is_boolean&&1!=d?i:f.$append_boolean_attribute("loop",g)}()+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")}()},r.$inline_anchor=function(a){var b,c,d=this,e=i,f=i,g=i,h=i,j=i,k=i;return e=a.$target(),function(){return f=a.$type(),"xref"["$==="](f)?(g=(b=a.$attributes()["$[]"]("refid"))!==!1&&b!==i?b:e,h=(b=a.$text())!==!1&&b!==i?b:(c=a.$document().$references()["$[]"]("ids")["$[]"](g))!==!1&&c!==i?c:"["+g+"]",'<a href="'+e+'">'+h+"</a>"):"ref"["$==="](f)?'<a id="'+e+'"></a>':"link"["$==="](f)?(j=[],(b=a.$id())===i||b.$$is_boolean&&1!=b||j["$<<"](' id="'+a.$id()+'"'),(b=k=a.$role())===i||b.$$is_boolean&&1!=b||j["$<<"](' class="'+k+'"'),(b=a["$attr?"]("title",i,!1))===i||b.$$is_boolean&&1!=b||j["$<<"](' title="'+a.$attr("title")+'"'),(b=a["$attr?"]("window",i,!1))===i||b.$$is_boolean&&1!=b||j["$<<"](' target="'+a.$attr("window")+'"'),'<a href="'+e+'"'+j.$join()+">"+a.$text()+"</a>"):"bibref"["$==="](f)?'<a id="'+e+'"></a>['+e+"]":d.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()},r.$inline_break=function(a){var b=this;return""+a.$text()+"<br"+b.void_element_slash+">"},r.$inline_button=function(a){return'<b class="button">'+a.$text()+"</b>"},r.$inline_callout=function(a){var b,c=this,d=i;return(b=a.$document()["$attr?"]("icons","font"))===i||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("icons"))===i||b.$$is_boolean&&1!=b?'<b class="conum">('+a.$text()+")</b>":(d=a.$icon_uri("callouts/"+a.$text()),'<img src="'+d+'" alt="'+a.$text()+'"'+c.void_element_slash+">"):'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>"},r.$inline_footnote=function(a){var b,c=i,d=i;return(b=c=a.$attr("index"))===i||b.$$is_boolean&&1!=b?a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":i:a.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+c+'" title="View footnote.">'+c+"</a>]</sup>":(d=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="_footnote_'+a.$id()+'"'}(),'<sup class="footnote"'+d+'>[<a id="_footnoteref_'+c+'" class="footnote" href="#_footnote_'+c+'" title="View footnote.">'+c+"</a>]</sup>")},r.$inline_image=function(a){var b,c,d,e,g,h,j,k,m,n=this,o=i,p=i,q=i,r=i,t=i,u=i,v=i,w=i,x=i,y=i,z=i,A=i;return(b=(c=(o=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):c)===i||b.$$is_boolean&&1!=b?(b=(e=o["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():e)===i||b.$$is_boolean&&1!=b?(t=a.$target(),u=(b=(e=["width","height","title"]).$map,b.$$p=(g=function(b){var c;g.$$s||this;return null==b&&(b=i),(c=a["$attr?"](b))===i||c.$$is_boolean&&1!=c?i:" "+b+'="'+a.$attr(b)+'"'},g.$$s=n,g),b).call(e).$join(),k=o["$=="]("icon")["$!"](),j=k!==!1&&k!==i?(m=a["$attr?"]("format","svg",!1))!==!1&&m!==i?m:t["$include?"](".svg"):k,h=j!==!1&&j!==i?f(a.$document().$safe(),s.get("SafeMode").$$scope.get("SECURE")):j,(b=h!==!1&&h!==i?(j=v=a["$option?"]("inline"))!==!1&&j!==i?j:w=a["$option?"]("interactive"):h)===i||b.$$is_boolean&&1!=b||(v!==!1&&v!==i?r=(b=n.$read_svg_contents(a,t))!==!1&&b!==i?b:'<span class="alt">'+a.$attr("alt")+"</span>":w!==!1&&w!==i&&(x=function(){return(b=a["$attr?"]("fallback"))===i||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+u+n.void_element_slash+">"}(),r='<object type="image/svg+xml" data="'+a.$image_uri(t)+'"'+u+">"+x+"</object>")),(b=r)!==!1&&b!==i?b:r='<img src="'+function(){return o["$=="]("icon")?a.$icon_uri(t):a.$image_uri(t)}()+'" alt="'+a.$attr("alt")+'"'+u+n.void_element_slash+">"):r="["+a.$attr("alt")+"]":(p="fa fa-"+a.$target(),(b=(c=l(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"})).$each,b.$$p=(d=function(b,c){var e;d.$$s||this;return null==b&&(b=i),null==c&&(c=i),(e=a["$attr?"](b))===i||e.$$is_boolean&&1!=e?i:p=""+p+" "+c+a.$attr(b)},d.$$s=n,d),b).call(c),q=function(){return(b=a["$attr?"]("title"))===i||b.$$is_boolean&&1!=b?i:' title="'+a.$attr("title")+'"'}(),r='<i class="'+p+'"'+q+"></i>"),(b=a["$attr?"]("link"))===i||b.$$is_boolean&&1!=b||(y=function(){return(b=a["$attr?"]("window"))===i||b.$$is_boolean&&1!=b?i:' target="'+a.$attr("window")+'"'}(),r='<a class="image" href="'+a.$attr("link")+'"'+y+">"+r+"</a>"),p=function(){return(b=z=a.$role())===i||b.$$is_boolean&&1!=b?o:""+o+" "+z}(),A=function(){return(b=a["$attr?"]("float"))===i||b.$$is_boolean&&1!=b?i:' style="float: '+a.$attr("float")+'"'}(),'<span class="'+p+'"'+A+">"+r+"</span>"},r.$inline_indexterm=function(a){return a.$type()["$=="]("visible")?a.$text():""},r.$inline_kbd=function(a){var b,c,d,e=this,f=i,g=i;return(f=a.$attr("keys")).$size()["$=="](1)?"<kbd>"+f["$[]"](0)+"</kbd>":(g=(b=(c=f).$map,b.$$p=(d=function(a){d.$$s||this;return null==a&&(a=i),"<kbd>"+a+"</kbd>+"},d.$$s=e,d),b).call(c).$join().$chop(),'<span class="keyseq">'+g+"</span>")},r.$inline_menu=function(a){var b,c,d,e=this,f=i,g=i,h=i,j=i;return f=a.$attr("menu"),(b=(g=a.$attr("submenus"))["$empty?"]()["$!"]())===i||b.$$is_boolean&&1!=b?(b=j=a.$attr("menuitem"))===i||b.$$is_boolean&&1!=b?'<span class="menu">'+f+"</span>":'<span class="menuseq"><span class="menu">'+f+'</span>&#160;&#9656; <span class="menuitem">'+j+"</span></span>":(h=(b=(c=g).$map,b.$$p=(d=function(a){d.$$s||this;return null==a&&(a=i),'<span class="submenu">'+a+"</span>&#160;&#9656; "},d.$$s=e,d),b).call(c).$join().$chop(),'<span class="menuseq"><span class="menu">'+f+"</span>&#160;&#9656; "+h+' <span class="menuitem">'+a.$attr("menuitem")+"</span></span>")},r.$inline_quoted=function(b){var c,d=i,e=i,f=i,g=i,h=i;return c=a.to_ary(s.get("QUOTE_TAGS")["$[]"](b.$type())),d=null==c[0]?i:c[0],e=null==c[1]?i:c[1],f=null==c[2]?i:c[2],h=(c=g=b.$role())===i||c.$$is_boolean&&1!=c?""+d+b.$text()+e:f!==!1&&f!==i?""+d.$chop()+' class="'+g+'">'+b.$text()+e:'<span class="'+g+'">'+d+b.$text()+e+"</span>",(c=b.$id())===i||c.$$is_boolean&&1!=c?h:'<a id="'+b.$id()+'"></a>'+h},r.$append_boolean_attribute=function(a,b){return b!==!1&&b!==i?" "+a+'="'+a+'"':" "+a},r.$read_svg_contents=function(a,b){var c,d,e,f=this,g=i,h=i;return(c=g=a.$read_contents(b,l(["start","normalize","label"],{start:a.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))===i||c.$$is_boolean&&1!=c||(g=g.$sub(s.get("SvgPreambleRx"),""),h=i,(c=(d=["width","height"]).$each,c.$$p=(e=function(b){var c;e.$$s||this;return null==b&&(b=i),(c=a["$attr?"](b))===i||c.$$is_boolean&&1!=c?i:((c=h)!==!1&&c!==i?c:h=g.$match(s.get("SvgStartTagRx"))["$[]"](0).$gsub(s.get("DimensionAttributeRx"),""),h=""+h.$chop()+" "+b+'="'+a.$attr(b)+'px">')},e.$$s=f,e),c).call(d),h!==!1&&h!==i&&(g=g.$sub(s.get("SvgStartTagRx"),h))),g},i&&"read_svg_contents"}(o.get("Converter"),o.get("Converter").$$scope.get("BuiltIn"))}(h)},Opal.modules["asciidoctor/document"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>=b:a["$>="](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var e=a.top,f=a.nil,g=(a.breaker,a.slice),h=a.module,i=a.klass,j=a.hash2,k=a.range;return function(e){var l=h(e,"Asciidoctor"),m=(l.$$proto,l.$$scope);!function(e,h){function l(){}var m,n,o,p=l=i(e,h,"Document",l),q=p.$$proto,r=p.$$scope;return q.attributes=q.safe=q.reader=q.base_dir=q.parsed=q.parent_document=q.extensions=q.options=q.counters=q.references=q.doctype=q.backend=q.header=q.blocks=q.attributes_modified=q.id=q.callouts=q.header_attributes=q.attribute_overrides=q.converter=q.outfilesuffix=q.docinfo_processor_extensions=q.document=f,a.cdecl(r,"Footnote",a.get("Struct").$new("index","id","text")),function(a,b){function c(){}var d=c=i(a,b,"AttributeEntry",c),e=d.$$proto;d.$$scope;return d.$attr_reader("name","value","negate"),e.$initialize=function(a,b,c){var d,e=this;return null==c&&(c=f),e.name=a,e.value=b,e.negate=function(){return(d=c["$nil?"]())===f||d.$$is_boolean&&1!=d?c:b["$nil?"]()}()},e.$save_to=function(a){var b,c,d,e=this;return(b="attribute_entries",c=a,(d=c["$[]"](b))!==!1&&d!==f?d:c["$[]="](b,[]))["$<<"](e)},f&&"save_to"}(p,null),function(b,c){function d(){}var e=d=i(b,c,"Title",d),g=e.$$proto,h=e.$$scope;return g.sanitized=g.subtitle=g.combined=f,e.$attr_reader("main"),a.defn(e,"$title",g.$main),e.$attr_reader("subtitle"),e.$attr_reader("combined"),g.$initialize=function(b,c){var d,e,g,i=this,k=f,l=f;return null==c&&(c=j([],{})),e=i.sanitized=c["$[]"]("sanitize"),(d=e!==!1&&e!==f?b["$include?"]("<"):e)===f||d.$$is_boolean&&1!=d||(b=b.$gsub(h.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip()),(d=(e=(k=(g=c["$[]"]("separator"))!==!1&&g!==f?g:":")["$empty?"]())!==!1&&e!==f?e:b["$include?"](k=""+k+" ")["$!"]())===f||d.$$is_boolean&&1!=d?(d=a.to_ary(b.$rpartition(k)),i.main=null==d[0]?f:d[0],l=null==d[1]?f:d[1],i.subtitle=null==d[2]?f:d[2]):(i.main=b,i.subtitle=f),i.combined=b},g["$sanitized?"]=function(){var a=this;return a.sanitized},g["$subtitle?"]=function(){var a=this;return a.subtitle["$!"]()["$!"]()},g.$to_s=function(){var a=this;return a.combined},f&&"to_s"}(p,null),p.$attr_reader("safe"),p.$attr_reader("compat_mode"),p.$attr_reader("sourcemap"),p.$attr_reader("references"),p.$attr_reader("counters"),p.$attr_reader("callouts"),p.$attr_reader("header"),p.$attr_reader("base_dir"),p.$attr_reader("options"),p.$attr_reader("outfilesuffix"),p.$attr_reader("parent_document"),p.$attr_reader("reader"),p.$attr_reader("converter"),p.$attr_reader("extensions"),q.$initialize=m=function(d,e){var g,h,i,l,n,o,p,q,s,t,u,v=this,w=(m.$$p,f),x=f,y=f,z=f,A=f,B=f,C=f,D=f,E=f,F=f,G=f,H=f,I=f,J=f;if(null==d&&(d=f),null==e&&(e=j([],{})),m.$$p=null,a.find_super_dispatcher(v,"initialize",m,null).apply(v,[v,"document"]),(g=w=e.$delete("parent"))===f||g.$$is_boolean&&1!=g){if(v.parent_document=f,v.references=j(["ids","footnotes","links","images","indexterms","includes"],{ids:j([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.get("Set").$new()}),x=j([],{}),(g=(i=(o=e["$[]"]("attributes"))!==!1&&o!==f?o:j([],{})).$each,g.$$p=(n=function(a,b){var c;n.$$s||this;return null==a&&(a=f),null==b&&(b=f),(c=a["$start_with?"]("!"))===f||c.$$is_boolean&&1!=c?(c=a["$end_with?"]("!"))===f||c.$$is_boolean&&1!=c||(a=a.$chop(),b=f):(a=a["$[]"](k(1,-1,!1)),b=f),x["$[]="](a.$downcase(),b)},n.$$s=v,n),g).call(i),v.attribute_overrides=x,(g=(z=e["$[]"]("safe"))["$!"]())===f||g.$$is_boolean&&1!=g)if((g=a.get("Fixnum")["$==="](z))===f||g.$$is_boolean&&1!=g)try{v.safe=r.get("SafeMode").$const_get(z.$to_s().$upcase())}catch(K){v.safe=r.get("SafeMode").$$scope.get("SECURE")}else v.safe=z;else v.safe=r.get("SafeMode").$$scope.get("SECURE");v.sourcemap=e["$[]"]("sourcemap"),v.compat_mode=!1,v.converter=f,y=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Extensions")?"constant":f}catch(b){if(b.$$class===a.NameError)return f;throw b}}(),v.extensions=f}else v.parent_document=w,g="base_dir",h=e,(i=h["$[]"](g))!==!1&&i!==f?i:h["$[]="](g,w.$base_dir()),v.references=(g=(h=w.$references()).$inject,g.$$p=(l=function(a,b){l.$$s||this;null==a&&(a=f);var c=b[0],d=b[1];return c["$=="]("footnotes")?a["$[]="]("footnotes",[]):a["$[]="](c,d),a},l.$$s=v,l),g).call(h,j([],{})),x=w.$attributes().$dup(),x.$delete("doctype"),x.$delete("compat-mode"),v.attribute_overrides=x,v.safe=w.$safe(),v.compat_mode=w.$compat_mode(),v.sourcemap=w.$sourcemap(),v.converter=w.$converter(),y=!1,v.extensions=w.$extensions();if(v.parsed=!1,v.header=f,v.counters=j([],{}),v.callouts=r.get("Callouts").$new(),v.attributes_modified=a.get("Set").$new(),v.options=e,v.docinfo_processor_extensions=j([],{}),g="header_footer",o=e,A=(p=o["$[]"](g))!==!1&&p!==f?p:o["$[]="](g,!1),e.$freeze(),B=v.attributes,B["$[]="]("sectids",""),A!==!1&&A!==f||B["$[]="]("notitle",""),B["$[]="]("toc-placement","auto"),B["$[]="]("stylesheet",""),B["$[]="]("webfonts",""),A!==!1&&A!==f&&B["$[]="]("copycss",""),B["$[]="]("prewrap",""),B["$[]="]("attribute-undefined",r.get("Compliance").$attribute_undefined()),B["$[]="]("attribute-missing",r.get("Compliance").$attribute_missing()),B["$[]="]("iconfont-remote",""),B["$[]="]("caution-caption","Caution"),B["$[]="]("important-caption","Important"),B["$[]="]("note-caption","Note"),B["$[]="]("tip-caption","Tip"),B["$[]="]("warning-caption","Warning"),B["$[]="]("appendix-caption","Appendix"),B["$[]="]("example-caption","Example"),B["$[]="]("figure-caption","Figure"),B["$[]="]("table-caption","Table"),B["$[]="]("toc-title","Table of Contents"),B["$[]="]("manname-title","NAME"),B["$[]="]("untitled-label","Untitled"),B["$[]="]("version-label","Version"),B["$[]="]("last-update-label","Last updated"),x["$[]="]("asciidoctor",""),x["$[]="]("asciidoctor-version",r.get("VERSION")),C=(g=(o=r.get("SafeMode").$constants()).$detect,g.$$p=(q=function(a){var b=q.$$s||this;return null==b.safe&&(b.safe=f),null==a&&(a=f),r.get("SafeMode").$const_get(a)["$=="](b.safe)},q.$$s=v,q),g).call(o).$to_s().$downcase(),x["$[]="]("safe-mode-name",C),x["$[]="]("safe-mode-"+C,""),x["$[]="]("safe-mode-level",v.safe),x["$[]="]("embedded",function(){return A!==!1&&A!==f?f:""}()),g="max-include-depth",p=x,(s=p["$[]"](g))!==!1&&s!==f?s:p["$[]="](g,64),((g=x["$[]"]("allow-uri-read")["$nil?"]()["$!"]())===f||g.$$is_boolean&&1!=g)&&x["$[]="]("allow-uri-read",f),x["$[]="]("user-home",r.get("USER_HOME")),(g=x["$key?"]("numbered"))===f||g.$$is_boolean&&1!=g||x["$[]="]("sectnums",x.$delete("numbered")),(g=e["$[]"]("base_dir"))===f||g.$$is_boolean&&1!=g?(g=x["$[]"]("docdir"))===f||g.$$is_boolean&&1!=g?v.base_dir=x["$[]="]("docdir",a.get("File").$expand_path(a.get("Dir").$pwd())):v.base_dir=x["$[]="]("docdir",a.get("File").$expand_path(x["$[]"]("docdir"))):v.base_dir=x["$[]="]("docdir",a.get("File").$expand_path(e["$[]"]("base_dir"))),(g=D=e["$[]"]("backend"))===f||g.$$is_boolean&&1!=g||x["$[]="]("backend",""+D),(g=E=e["$[]"]("doctype"))===f||g.$$is_boolean&&1!=g||x["$[]="]("doctype",""+E),b(v.safe,r.get("SafeMode").$$scope.get("SERVER"))&&(g="copycss",p=x,(s=p["$[]"](g))!==!1&&s!==f?s:p["$[]="](g,f),g="source-highlighter",p=x,(s=p["$[]"](g))!==!1&&s!==f?s:p["$[]="](g,f),g="backend",p=x,(s=p["$[]"](g))!==!1&&s!==f?s:p["$[]="](g,r.get("DEFAULT_BACKEND")),p=w["$!"](),(g=p!==!1&&p!==f?x["$key?"]("docfile"):p)===f||g.$$is_boolean&&1!=g||x["$[]="]("docfile",x["$[]"]("docfile")["$[]"](k(c(x["$[]"]("docdir").$length(),1),-1,!1))),x["$[]="]("docdir",""),x["$[]="]("user-home","."),b(v.safe,r.get("SafeMode").$$scope.get("SECURE"))&&(((g=x.$fetch("linkcss","")["$nil?"]())===f||g.$$is_boolean&&1!=g)&&x["$[]="]("linkcss",""),g="icons",p=x,(s=p["$[]"](g))!==!1&&s!==f?s:p["$[]="](g,f))),(g=(p=x).$delete_if,g.$$p=(t=function(b,c){var d,e,g=(t.$$s||this,f);return null==b&&(b=f),null==c&&(c=f),g=!1,(d=c["$nil?"]())===f||d.$$is_boolean&&1!=d?(e=a.get("String")["$==="](c),(d=e!==!1&&e!==f?c["$end_with?"]("@"):e)===f||d.$$is_boolean&&1!=d||(c=c.$chop(),g=!0),B["$[]="](b,c)):B.$delete(b),g},t.$$s=v,t),g).call(p),(g=B["$key?"]("compat-mode"))===f||g.$$is_boolean&&1!=g||(v.compat_mode=!0),w!==!1&&w!==f)return g="doctype",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,r.get("DEFAULT_DOCTYPE")),v.reader=r.get("Reader").$new(d,e["$[]"]("cursor")),r.get("Parser").$parse(v.reader,v),v.$restore_attributes(),v.parsed=!0;if((g="backend",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,r.get("DEFAULT_BACKEND")))["$=="]("manpage")?B["$[]="]("doctype",x["$[]="]("doctype","manpage")):(g="doctype",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,r.get("DEFAULT_DOCTYPE"))),v.$update_backend_attributes(B["$[]"]("backend"),!0),F=a.get("Time").$now(),g="localdate",s=B,G=(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,F.$strftime("%Y-%m-%d")),(g=H=B["$[]"]("localtime"))===f||g.$$is_boolean&&1!=g)try{H=B["$[]="]("localtime",F.$strftime("%H:%M:%S %Z"))}catch(K){H=B["$[]="]("localtime",F.$strftime("%H:%M:%S"))}else;return g="localdatetime",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,""+G+" "+H),g="docdate",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,G),g="doctime",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,H),g="docdatetime",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,""+G+" "+H),g="stylesdir",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,"."),g="iconsdir",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,a.get("File").$join(B.$fetch("imagesdir","./images"),"icons")),y!==!1&&y!==f&&((g=I=e["$[]"]("extensions_registry"))===f||g.$$is_boolean&&1!=g?I=(g=a.get("Proc")["$==="](J=e["$[]"]("extensions")))===f||g.$$is_boolean&&1!=g?r.get("Extensions").$$scope.get("Registry").$new():(g=(s=r.get("Extensions")).$build_registry,g.$$p=J.$to_proc(),g).call(s):((g=(s=r.get("Extensions").$$scope.get("Registry")["$==="](I))!==!1&&s!==f?s:(u=a.get("RUBY_ENGINE_JRUBY"),u!==!1&&u!==f?a.get("AsciidoctorJ").$$scope.get("Extensions").$$scope.get("ExtensionRegistry")["$==="](I):u))===f||g.$$is_boolean&&1!=g)&&(I=r.get("Extensions").$$scope.get("Registry").$new()),v.extensions=I.$activate(v)),v.reader=r.get("PreprocessorReader").$new(v,d,r.get("Reader").$$scope.get("Cursor").$new(B["$[]"]("docfile"),v.base_dir))},q.$parse=function(a){var b,c,d,e,g,h=this,i=f,k=f;return null==a&&(a=f),(b=h.parsed)===f||b.$$is_boolean&&1!=b?(i=h,a!==!1&&a!==f&&(h.reader=r.get("PreprocessorReader").$new(i,a,r.get("Reader").$$scope.get("Cursor").$new(h.attributes["$[]"]("docfile"),h.base_dir))),c=k=function(){return(d=h.parent_document)===f||d.$$is_boolean&&1!=d?h.extensions:f}(),(b=c!==!1&&c!==f?k["$preprocessors?"]():c)===f||b.$$is_boolean&&1!=b||(b=(c=k.$preprocessors()).$each,b.$$p=(e=function(a){var b,c=e.$$s||this;return null==c.reader&&(c.reader=f),null==a&&(a=f),c.reader=(b=a.$process_method()["$[]"](i,c.reader))!==!1&&b!==f?b:c.reader},e.$$s=h,e),b).call(c),r.get("Parser").$parse(h.reader,i,j(["header_only"],{header_only:h.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),h.$restore_attributes(),(b=(d=k!==!1&&k!==f)?k["$treeprocessors?"]():d)===f||b.$$is_boolean&&1!=b||(b=(d=k.$treeprocessors()).$each,b.$$p=(g=function(a){var b,c,d,e=(g.$$s||this,f);return null==a&&(a=f),d=e=a.$process_method()["$[]"](i),c=d!==!1&&d!==f?r.get("Document")["$==="](e):d,(b=c!==!1&&c!==f?e["$=="](i)["$!"]():c)===f||b.$$is_boolean&&1!=b?f:i=e},g.$$s=h,g),b).call(d),h.parsed=!0,i):h},q.$counter=function(a,b){var c,d,e=this,g=f,h=f;return null==b&&(b=f),d=g=(h=e.attributes["$[]"](a))["$nil_or_empty?"]()["$!"](),(c=d!==!1&&d!==f?e.counters["$key?"](a):d)===f||c.$$is_boolean&&1!=c?((c=b["$nil?"]())===f||c.$$is_boolean&&1!=c?b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()):b=e.$nextval(function(){return g!==!1&&g!==f?h:0}()),e.counters["$[]="](a,b)):e.counters["$[]="](a,e.$nextval(h)),e.attributes["$[]="](a,e.counters["$[]"](a))},q.$counter_increment=function(a,b){var c=this,d=f;return d=c.$counter(a),r.get("AttributeEntry").$new(a,d).$save_to(b.$attributes()),d},q.$nextval=function(b){var d,e=f;return(d=a.get("Integer")["$==="](b))===f||d.$$is_boolean&&1!=d?(e=b.$to_i(),(d=e.$to_s()["$=="](b.$to_s())["$!"]())===f||d.$$is_boolean&&1!=d?c(e,1):c(b["$[]"](0).$ord(),1).$chr()):c(b,1)},q.$register=function(b,d,e){var g,h,i,j=this,k=f,l=f,m=f;return null==e&&(e=!1),function(){return k=b,"ids"["$==="](k)?(g=a.to_ary([].concat(d)),l=null==g[0]?f:g[0],m=null==g[1]?f:g[1],(g=m)!==!1&&g!==f?g:m=c(c("[",l),"]"),e!==!1&&e!==f?j.references["$[]"]("ids")["$[]="](l,m):(g=l,h=j.references["$[]"]("ids"),(i=h["$[]"](g))!==!1&&i!==f?i:h["$[]="](g,m))):"footnotes"["$==="](k)||"indexterms"["$==="](k)?j.references["$[]"](b)["$<<"](d):(g=j.options["$[]"]("catalog_assets"))===f||g.$$is_boolean&&1!=g?f:j.references["$[]"](b)["$<<"](d)}()},q["$footnotes?"]=function(){var a=this;return a.references["$[]"]("footnotes")["$empty?"]()["$!"]()},q.$footnotes=function(){var a=this;return a.references["$[]"]("footnotes")},q["$nested?"]=function(){var a=this;return a.parent_document["$!"]()["$!"]()},q["$embedded?"]=function(){var a=this;return a.attributes["$key?"]("embedded")},q["$extensions?"]=function(){var a=this;return a.extensions["$!"]()["$!"]()},q.$source=function(){var a,b=this;return(a=b.reader)===f||a.$$is_boolean&&1!=a?f:b.reader.$source()},q.$source_lines=function(){var a,b=this;return(a=b.reader)===f||a.$$is_boolean&&1!=a?f:b.reader.$source_lines()},q.$doctype=function(){var a,b=this;return(a=b.doctype)!==!1&&a!==f?a:b.doctype=b.attributes["$[]"]("doctype")},q.$backend=function(){var a,b=this;return(a=b.backend)!==!1&&a!==f?a:b.backend=b.attributes["$[]"]("backend")},q["$basebackend?"]=function(a){var b=this;return b.attributes["$[]"]("basebackend")["$=="](a)},q.$title=function(){var a=this;return a.attributes["$[]"]("title")},q["$title="]=function(a){var b,c,d=this;return(b=d.header)!==!1&&b!==f?b:d.header=r.get("Section").$new(d,0),b=[a],c=d.header,c["$title="].apply(c,b),b[b.length-1]},q.$doctitle=function(a){var b,c,d=this,e=f,g=f,h=f;if(null==a&&(a=j([],{})),(b=(e=d.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())===f||b.$$is_boolean&&1!=b)if(c=g=d.$first_section(),(b=c!==!1&&c!==f?g["$title?"]():c)===f||b.$$is_boolean&&1!=b){if(c=a["$[]"]("use_fallback"),(b=c!==!1&&c!==f?e=d.attributes["$[]"]("untitled-label"):c)===f||b.$$is_boolean&&1!=b)return f}else e=g.$title();else e=d.$title();return(b=h=a["$[]"]("partition"))===f||b.$$is_boolean&&1!=b?(c=a["$[]"]("sanitize"),(b=c!==!1&&c!==f?e["$include?"]("<"):c)===f||b.$$is_boolean&&1!=b?e:e.$gsub(r.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip()):r.get("Title").$new(e,a.$merge(j(["separator"],{separator:function(){return h["$=="](!0)?d.attributes["$[]"]("title-separator"):h}()})))},a.defn(p,"$name",q.$doctitle),q.$author=function(){var a=this;return a.attributes["$[]"]("author")},q.$revdate=function(){var a=this;return a.attributes["$[]"]("revdate")},q.$notitle=function(){var a,b=this;return a=b.attributes["$key?"]("showtitle")["$!"](),a!==!1&&a!==f?b.attributes["$key?"]("notitle"):a},q.$noheader=function(){var a=this;return a.attributes["$key?"]("noheader")},q.$nofooter=function(){var a=this;return a.attributes["$key?"]("nofooter")},q.$first_section=function(){var a,b,c,d,e=this;return(a=e["$has_header?"]())===f||a.$$is_boolean&&1!=a?(a=(b=(d=e.blocks)!==!1&&d!==f?d:[]).$detect,a.$$p=(c=function(a){c.$$s||this;return null==a&&(a=f),a.$context()["$=="]("section")},c.$$s=e,c),a).call(b):e.header},q["$has_header?"]=function(){var a,b=this;return(a=b.header)===f||a.$$is_boolean&&1!=a?!1:!0},a.defn(p,"$header?",q["$has_header?"]),q["$<<"]=n=function(b){var c=g.call(arguments,0),d=this,e=n.$$p;return n.$$p=null,a.find_super_dispatcher(d,"<<",n,e).apply(d,c),b.$context()["$=="]("section")?d.$assign_index(b):f},q.$finalize_header=function(a,b){var c=this;return null==b&&(b=!0),c.$clear_playback_attributes(a),c.$save_attributes(),b!==!1&&b!==f||a["$[]="]("invalid-header",!0),a},q.$save_attributes=function(){var a,b,c,d,e=this,g=f,h=f,i=f,j=f,k=f,l=f,m=f,n=f,o=f;return(g=e.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(((a=(b=e["$attribute_locked?"]("toc"))!==!1&&b!==f?b:e.attributes_modified["$include?"]("toc"))===f||a.$$is_boolean&&1!=a)&&g["$[]="]("toc",""),((a=(b=e["$attribute_locked?"]("sectnums"))!==!1&&b!==f?b:e.attributes_modified["$include?"]("sectnums"))===f||a.$$is_boolean&&1!=a)&&g["$[]="]("sectnums","")),((a=(b=g["$key?"]("doctitle"))!==!1&&b!==f?b:(h=e.$doctitle())["$!"]())===f||a.$$is_boolean&&1!=a)&&g["$[]="]("doctitle",h),((a=e.id)===f||a.$$is_boolean&&1!=a)&&(e.id=g["$[]"]("css-signature")),i=function(){return(a=j=function(){return(b=g.$delete("toc2"))===f||b.$$is_boolean&&1!=b?g["$[]"]("toc"):"left"}())===f||a.$$is_boolean&&1!=a?f:(b=k=g.$fetch("toc-placement","macro"),(a=b!==!1&&b!==f?k["$=="]("auto")["$!"]():b)===f||a.$$is_boolean&&1!=a?g["$[]"]("toc-position"):k)}(),(a=(b=j!==!1&&j!==f)?(c=j["$empty?"]()["$!"]())!==!1&&c!==f?c:i["$nil_or_empty?"]()["$!"]():b)===f||a.$$is_boolean&&1!=a||(l="left",m="toc2",n=(a=i["$nil_or_empty?"]()["$!"]())===f||a.$$is_boolean&&1!=a?(a=j["$empty?"]()["$!"]())===f||a.$$is_boolean&&1!=a?l:j:i,g["$[]="]("toc",""),g["$[]="]("toc-placement","auto"),o=n,"left"["$==="](o)||"<"["$==="](o)||"&lt;"["$==="](o)?g["$[]="]("toc-position","left"):"right"["$==="](o)||">"["$==="](o)||"&gt;"["$==="](o)?g["$[]="]("toc-position","right"):"top"["$==="](o)||"^"["$==="](o)?g["$[]="]("toc-position","top"):"bottom"["$==="](o)||"v"["$==="](o)?g["$[]="]("toc-position","bottom"):"preamble"["$==="](o)||"macro"["$==="](o)?(g["$[]="]("toc-position","content"),g["$[]="]("toc-placement",n),m=f):(g.$delete("toc-position"),m=f),m!==!1&&m!==f&&(a="toc-class",b=g,(c=b["$[]"](a))!==!1&&c!==f?c:b["$[]="](a,m))),(a=g["$key?"]("compat-mode"))===f||a.$$is_boolean&&1!=a?e.compat_mode=!1:((a=g["$has_key?"]("language"))===f||a.$$is_boolean&&1!=a||g["$[]="]("source-language",g["$[]"]("language")),e.compat_mode=!0),e.outfilesuffix=g["$[]"]("outfilesuffix"),e.header_attributes=g.$dup(),(a=e["$nested?"]())===f||a.$$is_boolean&&1!=a?(a=(b=r.get("FLEXIBLE_ATTRIBUTES")).$each,a.$$p=(d=function(a){var b,c,e=d.$$s||this;return null==e.attribute_overrides&&(e.attribute_overrides=f),null==a&&(a=f),c=e.attribute_overrides["$key?"](a),(b=c!==!1&&c!==f?e.attribute_overrides["$[]"](a):c)===f||b.$$is_boolean&&1!=b?f:e.attribute_overrides.$delete(a)},d.$$s=e,d),a).call(b):f},q.$restore_attributes=function(){var a=this;return a.callouts.$rewind(),a.attributes=a.header_attributes},q.$clear_playback_attributes=function(a){return a.$delete("attribute_entries")},q.$playback_attributes=function(a){var b,c,d,e=this;return(b=a["$key?"]("attribute_entries"))===f||b.$$is_boolean&&1!=b?f:(b=(c=a["$[]"]("attribute_entries")).$each,b.$$p=(d=function(a){var b,c=d.$$s||this,e=f;return null==c.attributes&&(c.attributes=f),null==a&&(a=f),e=a.$name(),(b=a.$negate())===f||b.$$is_boolean&&1!=b?(c.attributes["$[]="](e,a.$value()),e["$=="]("compat-mode")?c.compat_mode=!0:f):(c.attributes.$delete(e),e["$=="]("compat-mode")?c.compat_mode=!1:f)},d.$$s=e,d),b).call(c)},q.$set_attribute=function(a,b){var c,d=this,e=f;return(c=d["$attribute_locked?"](a))===f||c.$$is_boolean&&1!=c?(e=a,"backend"["$==="](e)?d.$update_backend_attributes(d.$apply_attribute_value_subs(b),d.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]()):"doctype"["$==="](e)?d.$update_doctype_attributes(d.$apply_attribute_value_subs(b)):d.attributes["$[]="](a,d.$apply_attribute_value_subs(b)),d.attributes_modified["$<<"](a),!0):!1},q.$delete_attribute=function(a){var b,c=this;return(b=c["$attribute_locked?"](a))===f||b.$$is_boolean&&1!=b?(c.attributes.$delete(a),c.attributes_modified["$<<"](a),!0):!1},q["$attribute_locked?"]=function(a){var b=this;return b.attribute_overrides["$key?"](a)},q.$apply_attribute_value_subs=function(a){var b,c=this,d=f,e=f;return(b=d=r.get("AttributeEntryPassMacroRx").$match(a))===f||b.$$is_boolean&&1!=b?c.$apply_header_subs(a):(b=d["$[]"](1)["$empty?"]()["$!"]())===f||b.$$is_boolean&&1!=b?d["$[]"](2):(e=c.$resolve_pass_subs(d["$[]"](1)),(b=e["$empty?"]())===f||b.$$is_boolean&&1!=b?c.$apply_subs(d["$[]"](2),e):d["$[]"](2))},q.$update_backend_attributes=function(a,b){var c,d,e,g=this,h=f,i=f,j=f,l=f,m=f,n=f,o=f,p=f,q=f,s=f;return null==b&&(b=!1),(c=(d=b)!==!1&&d!==f?d:(e=a!==!1&&a!==f)?a["$=="](g.attributes["$[]"]("backend"))["$!"]():e)===f||c.$$is_boolean&&1!=c?f:(h=g.attributes,i=h["$[]"]("backend"),j=h["$[]"]("basebackend"),l=h["$[]"]("doctype"),(c=a["$start_with?"]("xhtml"))===f||c.$$is_boolean&&1!=c?(c=a["$start_with?"]("html"))===f||c.$$is_boolean&&1!=c||h["$[]"]("htmlsyntax")["$=="]("xml")||h["$[]="]("htmlsyntax","html"):(h["$[]="]("htmlsyntax","xml"),a=a["$[]"](k(1,-1,!1))),(c=m=r.get("BACKEND_ALIASES")["$[]"](a))===f||c.$$is_boolean&&1!=c||(a=m),i!==!1&&i!==f&&(h.$delete("backend-"+i),l!==!1&&l!==f&&h.$delete("backend-"+i+"-doctype-"+l)),l!==!1&&l!==f&&(h["$[]="]("doctype-"+l,""),h["$[]="]("backend-"+a+"-doctype-"+l,"")),h["$[]="]("backend",a),h["$[]="]("backend-"+a,""),(c=r.get("Converter").$$scope.get("BackendInfo")["$==="](g.converter=g.$create_converter()))===f||c.$$is_boolean&&1!=c?(n=a.$sub(r.get("TrailingDigitsRx"),""),p=(c=r.get("DEFAULT_EXTENSIONS")["$[]"](n))!==!1&&c!==f?c:".html",o=p["$[]"](k(1,-1,!1)),((c=g["$attribute_locked?"]("outfilesuffix"))===f||c.$$is_boolean&&1!=c)&&h["$[]="]("outfilesuffix",p)):(n=g.converter.$basebackend(),((c=g["$attribute_locked?"]("outfilesuffix"))===f||c.$$is_boolean&&1!=c)&&h["$[]="]("outfilesuffix",g.converter.$outfilesuffix()),o=g.converter.$filetype()),(c=q=h["$[]"]("filetype"))===f||c.$$is_boolean&&1!=c||h.$delete("filetype-"+q),h["$[]="]("filetype",o),h["$[]="]("filetype-"+o,""),(c=s=r.get("DEFAULT_PAGE_WIDTHS")["$[]"](n))===f||c.$$is_boolean&&1!=c?h.$delete("pagewidth"):h["$[]="]("pagewidth",s),(c=n["$=="](j)["$!"]())===f||c.$$is_boolean&&1!=c||(j!==!1&&j!==f&&(h.$delete("basebackend-"+j),l!==!1&&l!==f&&h.$delete("basebackend-"+j+"-doctype-"+l)),h["$[]="]("basebackend",n),h["$[]="]("basebackend-"+n,""),l!==!1&&l!==f&&h["$[]="]("basebackend-"+n+"-doctype-"+l,"")),g.backend=f)},q.$update_doctype_attributes=function(a){var b,c,d=this,e=f,g=f,h=f,i=f;return(b=(c=a!==!1&&a!==f)?a["$=="](d.attributes["$[]"]("doctype"))["$!"]():c)===f||b.$$is_boolean&&1!=b?f:(e=d.attributes,g=e["$[]"]("doctype"),h=e["$[]"]("backend"),i=e["$[]"]("basebackend"),g!==!1&&g!==f&&(e.$delete("doctype-"+g),h!==!1&&h!==f&&e.$delete("backend-"+h+"-doctype-"+g),i!==!1&&i!==f&&e.$delete("basebackend-"+i+"-doctype-"+g)),e["$[]="]("doctype",a),e["$[]="]("doctype-"+a,""),h!==!1&&h!==f&&e["$[]="]("backend-"+h+"-doctype-"+a,""),i!==!1&&i!==f&&e["$[]="]("basebackend-"+i+"-doctype-"+a,""),d.doctype=f)},q.$create_converter=function(){var b,c=this,d=f,e=f,g=f,h=f,i=f;return d=j([],{}),d["$[]="]("htmlsyntax",c.attributes["$[]"]("htmlsyntax")),e=function(){return(b=g=c.options["$[]"]("template_dir"))===f||b.$$is_boolean&&1!=b?(b=e=c.options["$[]"]("template_dirs"))===f||b.$$is_boolean&&1!=b?f:d["$[]="]("template_dirs",e):d["$[]="]("template_dirs",[g]);
}(),e!==!1&&e!==f&&(d["$[]="]("template_cache",c.options.$fetch("template_cache",!0)),d["$[]="]("template_engine",c.options["$[]"]("template_engine")),d["$[]="]("template_engine_options",c.options["$[]"]("template_engine_options")),d["$[]="]("eruby",c.options["$[]"]("eruby")),d["$[]="]("safe",c.safe)),i=(b=h=c.options["$[]"]("converter"))===f||b.$$is_boolean&&1!=b?r.get("Converter").$$scope.get("Factory").$default(!1):r.get("Converter").$$scope.get("Factory").$new(a.get("Hash")["$[]"](c.$backend(),h)),i.$create(c.$backend(),d)},q.$convert=function(a){var c,d,e,g=this,h=f,i=f,k=f,l=f;return null==a&&(a=j([],{})),((c=g.parsed)===f||c.$$is_boolean&&1!=c)&&g.$parse(),((c=(d=b(g.safe,r.get("SafeMode").$$scope.get("SERVER")))!==!1&&d!==f?d:a["$empty?"]())===f||c.$$is_boolean&&1!=c)&&(((c=g.attributes["$[]="]("outfile",a["$[]"]("outfile")))===f||c.$$is_boolean&&1!=c)&&g.attributes.$delete("outfile"),((c=g.attributes["$[]="]("outdir",a["$[]"]("outdir")))===f||c.$$is_boolean&&1!=c)&&g.attributes.$delete("outdir")),((c=g.converter)===f||c.$$is_boolean&&1!=c)&&g.$fail("asciidoctor: FAILED: missing converter for backend '"+g.$backend()+"'. Processing aborted."),g.$doctype()["$=="]("inline")?(d=h=g.blocks["$[]"](0),i=(c=d!==!1&&d!==f?h.$content_model()["$=="]("compound")["$!"]():d)===f||c.$$is_boolean&&1!=c?f:h.$content()):(k=function(){return(c=function(){return(d=a["$key?"]("header_footer"))===f||d.$$is_boolean&&1!=d?g.options["$[]"]("header_footer"):a["$[]"]("header_footer")}())===f||c.$$is_boolean&&1!=c?"embedded":"document"}(),i=g.converter.$convert(g,k)),((c=g.parent_document)===f||c.$$is_boolean&&1!=c)&&(d=l=g.extensions,(c=d!==!1&&d!==f?l["$postprocessors?"]():d)===f||c.$$is_boolean&&1!=c||(c=(d=l.$postprocessors()).$each,c.$$p=(e=function(a){var b=e.$$s||this;return null==a&&(a=f),i=a.$process_method()["$[]"](b,i)},e.$$s=g,e),c).call(d)),i},a.defn(p,"$render",q.$convert),q.$write=function(b,c){var d,e,g,h=this;return(d=r.get("Writer")["$==="](h.converter))===f||d.$$is_boolean&&1!=d?((d=c["$respond_to?"]("write"))===f||d.$$is_boolean&&1!=d?(d=(e=a.get("File")).$open,d.$$p=(g=function(a){g.$$s||this;return null==a&&(a=f),a.$write(b)},g.$$s=h,g),d).call(e,c,"w"):((d=b["$nil_or_empty?"]())===f||d.$$is_boolean&&1!=d)&&(c.$write(b.$chomp()),c.$write(r.get("EOL"))),f):h.converter.$write(b,c)},q.$content=o=function(){var b=g.call(arguments,0),c=this,d=o.$$p;return o.$$p=null,c.attributes.$delete("title"),a.find_super_dispatcher(c,"content",o,d).apply(c,b)},q.$docinfo=function(a,c){var e,g,h,i,k=this,l=f,m=f,n=f,o=f,p=f,q=f,s=f,t=f,u=f;return null==a&&(a="head"),null==c&&(c=f),b(k.$safe(),r.get("SafeMode").$$scope.get("SECURE"))?"":(l=function(){return a["$=="]("footer")?"-footer":f}(),c!==!1&&c!==f||(c=k.outfilesuffix),m=k.attributes["$[]"]("docinfodir"),n=f,o=(e=(o=k.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===f||e.$$is_boolean&&1!=e?(e=(g=o.$split(",")).$map,e.$$p="strip".$to_proc(),e).call(g):(e=k.attributes["$key?"]("docinfo2"))===f||e.$$is_boolean&&1!=e?(e=k.attributes["$key?"]("docinfo1"))===f||e.$$is_boolean&&1!=e?function(){return o!==!1&&o!==f?["private"]:f}():["shared"]:["private","shared"],o!==!1&&o!==f&&(p="docinfo"+l+c,((e=o["$&"](["shared","shared-"+a])["$empty?"]())===f||e.$$is_boolean&&1!=e)&&(q=k.$normalize_system_path(p,m),(e=n=k.$read_asset(q,j(["normalize"],{normalize:!0})))===f||e.$$is_boolean&&1!=e||(e=(h=s)!==!1&&h!==f?h:s=k.$resolve_docinfo_subs())===f||e.$$is_boolean&&1!=e||(n=function(){return(e=s["$=="]("attributes"))===f||e.$$is_boolean&&1!=e?k.$apply_subs(n,s):k.$sub_attributes(n)}())),((e=(h=k.attributes["$[]"]("docname")["$nil_or_empty?"]())!==!1&&h!==f?h:o["$&"](["private","private-"+a])["$empty?"]())===f||e.$$is_boolean&&1!=e)&&(q=k.$normalize_system_path(""+k.attributes["$[]"]("docname")+"-"+p,m),(e=t=k.$read_asset(q,j(["normalize"],{normalize:!0})))===f||e.$$is_boolean&&1!=e||((e=(h=s)!==!1&&h!==f?h:s=k.$resolve_docinfo_subs())===f||e.$$is_boolean&&1!=e||(t=function(){return(e=s["$=="]("attributes"))===f||e.$$is_boolean&&1!=e?k.$apply_subs(t,s):k.$sub_attributes(t)}()),n=function(){return n!==!1&&n!==f?""+n+r.get("EOL")+t:t}()))),h=k.extensions,(e=h!==!1&&h!==f?k["$docinfo_processors?"](a):h)===f||e.$$is_boolean&&1!=e||(u=d((e=(h=k.docinfo_processor_extensions["$[]"](a)).$map,e.$$p=(i=function(a){var b=i.$$s||this;return null==a&&(a=f),a.$process_method()["$[]"](b)},i.$$s=k,i),e).call(h).$compact(),r.get("EOL")),n=function(){return n!==!1&&n!==f?""+n+r.get("EOL")+u:u}()),""+n)},q.$resolve_docinfo_subs=function(){var a,b=this,c=f;return(a=b.attributes["$key?"]("docinfosubs"))===f||a.$$is_boolean&&1!=a?"attributes":(c=b.$resolve_subs(b.attributes["$[]"]("docinfosubs"),"block",f,"docinfo"),(a=c["$empty?"]())===f||a.$$is_boolean&&1!=a?c:f)},q["$docinfo_processors?"]=function(a){var b,c,d=this;return null==a&&(a="head"),(b=d.docinfo_processor_extensions["$key?"](a))===f||b.$$is_boolean&&1!=b?(c=d.extensions,(b=c!==!1&&c!==f?d.document.$extensions()["$docinfo_processors?"](a):c)===f||b.$$is_boolean&&1!=b?d.docinfo_processor_extensions["$[]="](a,!1):d.docinfo_processor_extensions["$[]="](a,d.document.$extensions().$docinfo_processors(a))["$!"]()["$!"]()):d.docinfo_processor_extensions["$[]"](a)["$=="](!1)["$!"]()},q.$to_s=function(){var a,b=this;return"#<"+b.$class()+"@"+b.$object_id()+" {doctype: "+b.$doctype().$inspect()+", doctitle: "+function(){return(a=b.header["$=="](f)["$!"]())===f||a.$$is_boolean&&1!=a?f:b.header.$title()}().$inspect()+", blocks: "+b.blocks.$size()+"}>"},f&&"to_s"}(l,m.get("AbstractBlock"))}(e)},Opal.modules["asciidoctor/inline"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){var g=d(b,"Asciidoctor"),h=(g.$$proto,g.$$scope);!function(b,d){function g(){}var h,i=g=e(b,d,"Inline",g),j=i.$$proto;i.$$scope;return i.$attr_reader("text"),i.$attr_reader("type"),i.$attr_accessor("target"),j.$initialize=h=function(b,d,e,g){var i,j=this,k=(h.$$p,c);return null==e&&(e=c),null==g&&(g=f([],{})),h.$$p=null,a.find_super_dispatcher(j,"initialize",h,null).apply(j,[b,d]),j.node_name="inline_"+d,j.text=e,j.id=g["$[]"]("id"),j.type=g["$[]"]("type"),j.target=g["$[]"]("target"),(i=(k=g["$[]"]("attributes"))["$nil_or_empty?"]())===c||i.$$is_boolean&&1!=i?j.$update_attributes(k):c},j["$block?"]=function(){return!1},j["$inline?"]=function(){return!0},j.$convert=function(){var a=this;return a.$converter().$convert(a)},a.defn(i,"$render",j.$convert)}(g,h.get("AbstractNode"))}(b)},Opal.modules["asciidoctor/list"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass;return function(b){var g=e(b,"Asciidoctor"),h=(g.$$proto,g.$$scope);!function(b,e){function g(){}var h,i,j=g=f(b,e,"List",g),k=j.$$proto;j.$$scope;return k.context=k.document=k.style=c,a.defn(j,"$items",k.$blocks),a.defn(j,"$content",k.$blocks),a.defn(j,"$items?",k["$blocks?"]),k.$initialize=h=function(b,c){var e=d.call(arguments,0),f=this,g=h.$$p;return h.$$p=null,a.find_super_dispatcher(f,"initialize",h,g).apply(f,e)},k["$outline?"]=function(){var a,b=this;return(a=b.context["$=="]("ulist"))!==!1&&a!==c?a:b.context["$=="]("olist")},k.$convert=i=function(){var b=d.call(arguments,0),e=this,f=i.$$p,g=c;return i.$$p=null,e.context["$=="]("colist")?(g=a.find_super_dispatcher(e,"convert",i,f).apply(e,b),e.document.$callouts().$next_list(),g):a.find_super_dispatcher(e,"convert",i,f).apply(e,b)},a.defn(j,"$render",k.$convert),k.$to_s=function(){var a=this;return"#<"+a.$class()+"@"+a.$object_id()+" {context: "+a.context.$inspect()+", style: "+a.style.$inspect()+", items: "+a.$items().$size()+"}>"},c&&"to_s"}(g,h.get("AbstractBlock")),function(b,d){function e(){}var g,h=e=f(b,d,"ListItem",e),i=h.$$proto,j=h.$$scope;return i.text=i.blocks=c,h.$attr_accessor("marker"),i.$initialize=g=function(b,d){var e=this;g.$$p;return null==d&&(d=c),g.$$p=null,a.find_super_dispatcher(e,"initialize",g,null).apply(e,[b,"list_item"]),e.text=d,e.level=b.$level()},i["$text?"]=function(){var a=this;return a.text["$nil_or_empty?"]()["$!"]()},i.$text=function(){var a=this;return a.$apply_subs(a.text)},i["$simple?"]=function(){var a,b,d,e=this,f=c;return(a=e.blocks["$empty?"]())!==!1&&a!==c?a:(b=(d=e.blocks.$size()["$=="](1))?j.get("List")["$==="](f=e.blocks["$[]"](0)):d,b!==!1&&b!==c?f["$outline?"]():b)},i["$compound?"]=function(){var a=this;return a["$simple?"]()["$!"]()},i.$fold_first=function(a,b){var d,e,f,g,h,i,k=this,l=c,m=c;return null==a&&(a=!1),null==b&&(b=!1),f=l=k.blocks["$[]"](0),e=f!==!1&&f!==c?j.get("Block")["$==="](l):f,(d=e!==!1&&e!==c?(f=(g=l.$context()["$=="]("paragraph"))?a["$!"]():g)!==!1&&f!==c?f:(h=(i=b)!==!1&&i!==c?i:a["$!"](),g=h!==!1&&h!==c?l.$context()["$=="]("literal"):h,g!==!1&&g!==c?l["$option?"]("listparagraph"):g):e)===c||d.$$is_boolean&&1!=d||(m=k.$blocks().$shift(),((d=k.text["$nil_or_empty?"]())===c||d.$$is_boolean&&1!=d)&&m.$lines().$unshift(k.text),k.text=m.$source()),c},i.$to_s=function(){var a,b=this;return"#<"+b.$class()+"@"+b.$object_id()+" {list_context: "+b.$parent().$context().$inspect()+", text: "+b.text.$inspect()+", blocks: "+((a=b.blocks)!==!1&&a!==c?a:[]).$size()+"}>"},c&&"to_s"}(g,h.get("AbstractBlock"))}(b)},Opal.modules["asciidoctor/parser"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a>=b:a["$>="](b)}function f(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function g(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}function h(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function i(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}a.dynamic_require_severity="ignore";var j=a.top,k=a.nil,l=a.breaker,m=(a.slice,a.module),n=a.klass,o=a.hash2,p=a.range,q=a.gvars;return function(j){var r=m(j,"Asciidoctor");r.$$proto,r.$$scope;!function(j,m){function r(){}var s,t,u,v,w,x,y,z=r=n(j,m,"Parser",r),A=z.$$proto,B=z.$$scope;return a.cdecl(B,"BlockMatchData",B.get("Struct").$new("context","masq","tip","terminator")),a.cdecl(B,"TabRx",/\t/),a.cdecl(B,"TabIndentRx",/^\t+/),a.cdecl(B,"StartOfBlockProc",(s=(t=z).$lambda,s.$$p=(u=function(a){var b,c,d=u.$$s||this;return null==a&&(a=k),c=a["$start_with?"]("["),(b=c!==!1&&c!==k?B.get("BlockAttributeLineRx")["$=~"](a):c)!==!1&&b!==k?b:d["$is_delimited_block?"](a)},u.$$s=z,u),s).call(t)),a.cdecl(B,"StartOfListProc",(s=(v=z).$lambda,s.$$p=(w=function(a){w.$$s||this;return null==a&&(a=k),B.get("AnyListRx")["$=~"](a)},w.$$s=z,w),s).call(v)),a.cdecl(B,"StartOfBlockOrListProc",(s=(x=z).$lambda,s.$$p=(y=function(a){var b,c,d,e=y.$$s||this;return null==a&&(a=k),(b=(c=e["$is_delimited_block?"](a))!==!1&&c!==k?c:(d=a["$start_with?"]("["),d!==!1&&d!==k?B.get("BlockAttributeLineRx")["$=~"](a):d))!==!1&&b!==k?b:B.get("AnyListRx")["$=~"](a)},y.$$s=z,y),s).call(x)),a.cdecl(B,"NoOp",k),A.$initialize=function(){var a=this;return a.$raise("Au contraire, mon frere. No lexer instances will be running around.")},a.defs(z,"$parse",function(b,c,d){var e,f,g=this,h=k,i=k;if(null==d&&(d=o([],{})),h=g.$parse_document_header(b,c),(e=d["$[]"]("header_only"))===k||e.$$is_boolean&&1!=e)for(;(f=b["$has_more_lines?"]())!==k&&(!f.$$is_boolean||1==f);)f=a.to_ary(g.$next_section(b,c,h)),i=null==f[0]?k:f[0],h=null==f[1]?k:f[1],i!==!1&&i!==k&&c["$<<"](i);else;return c}),a.defs(z,"$parse_document_header",function(b,c){var d,e,f=this,g=k,h=k,i=k,j=k,l=k,m=k,n=k,o=k,p=k;return g=f.$parse_block_metadata_lines(b,c),(d=g["$has_key?"]("title"))===k||d.$$is_boolean&&1!=d?(h=k,((d=(i=c.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===k||d.$$is_boolean&&1!=d)&&(d=[i],e=c,e["$title="].apply(e,d),d[d.length-1],h=i),j=k,(d=f["$is_next_line_document_title?"](b,g))===k||d.$$is_boolean&&1!=d||((d=c.$sourcemap())===k||d.$$is_boolean&&1!=d||(l=b.$cursor()),d=a.to_ary(f.$parse_section_title(b,c)),c["$id="](null==d[0]?k:d[0]),m=null==d[1]?k:d[1],n=null==d[2]?k:d[2],m=null==d[3]?k:d[3],o=null==d[4]?k:d[4],h!==!1&&h!==k||(d=[n],e=c,e["$title="].apply(e,d),d[d.length-1],h=n),o!==!1&&o!==k||c.$set_attribute("compat-mode",""),(d=p=g.$delete("separator"))===k||d.$$is_boolean&&1!=d||c.$set_attribute("title-separator",p),l!==!1&&l!==k&&(d=[l],e=c.$header(),e["$source_location="].apply(e,d),d[d.length-1]),c.$attributes()["$[]="]("doctitle",j=n),((d=c.$id())===k||d.$$is_boolean&&1!=d)&&(d=[g.$delete("id")],e=c,e["$id="].apply(e,d),d[d.length-1]),f.$parse_header_metadata(b,c)),e=(i=c.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]()["$!"](),(d=e!==!1&&e!==k?i["$=="](j)["$!"]():e)===k||d.$$is_boolean&&1!=d||(d=[i],e=c,e["$title="].apply(e,d),d[d.length-1],h=i),h!==!1&&h!==k&&c.$attributes()["$[]="]("doctitle",h),c.$doctype()["$=="]("manpage")&&f.$parse_manpage_header(b,c),c.$finalize_header(g)):c.$finalize_header(g,!1)}),a.defs(z,"$parse_manpage_header",function(a,b){var c,d=this,e=k,f=k,g=k;return(c=e=B.get("ManpageTitleVolnumRx").$match(b.$attributes()["$[]"]("doctitle")))===k||c.$$is_boolean&&1!=c?(d.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"),b.$attributes()["$[]="]("mantitle",b.$attributes()["$[]"]("doctitle")),b.$attributes()["$[]="]("manvolnum","1")):(b.$attributes()["$[]="]("mantitle",b.$sub_attributes(e["$[]"](1).$rstrip().$downcase())),b.$attributes()["$[]="]("manvolnum",e["$[]"](2).$strip())),a.$skip_blank_lines(),(c=d["$is_next_line_section?"](a,o([],{})))===k||c.$$is_boolean&&1!=c?d.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section expected"):(f=d.$initialize_section(a,b,o([],{})),f.$level()["$=="](1)?(g=a.$read_lines_until(o(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," "),(c=e=B.get("ManpageNamePurposeRx").$match(g))===k||c.$$is_boolean&&1!=c?d.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body"):(b.$attributes()["$[]="]("manname",b.$sub_attributes(e["$[]"](1))),b.$attributes()["$[]="]("manpurpose",e["$[]"](2)),b.$backend()["$=="]("manpage")?(b.$attributes()["$[]="]("docname",b.$attributes()["$[]"]("manname")),b.$attributes()["$[]="]("outfilesuffix","."+b.$attributes()["$[]"]("manvolnum"))):k)):d.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1"))}),a.defs(z,"$next_section",function(e,f,g){var h,i,j,l,m=this,n=k,p=k,q=k,r=k,s=k,t=k,u=k,v=k,w=k,x=k,y=k,z=k,A=k,C=k,D=k,E=k;for(null==g&&(g=o([],{})),n=!1,p=!1,q=!1,i=(j=f.$context()["$=="]("document"))?f.$blocks()["$empty?"]():j,(h=i!==!1&&i!==k?(j=(l=r=f["$has_header?"]())!==!1&&l!==k?l:g.$delete("invalid-header"))!==!1&&j!==k?j:m["$is_next_line_section?"](e,g)["$!"]():i)===k||h.$$is_boolean&&1!=h?(s=f.$document().$doctype(),t=m.$initialize_section(e,f,g),g=function(){return(h=w=g["$[]"]("title"))===k||h.$$is_boolean&&1!=h?o([],{}):o(["title"],{title:w})}(),u=t.$level(),(h=(i=u["$=="](0))?s["$=="]("book"):i)===k||h.$$is_boolean&&1!=h?v=[b(u,1)]:(p=t.$special()["$!"](),i=t.$special(),v=(h=i!==!1&&i!==k?["preface","appendix"]["$include?"](t.$sectname()):i)===k||h.$$is_boolean&&1!=h?[b(u,1)]:[b(u,2)])):(s=f.$doctype(),(h=(i=r)!==!1&&i!==k?i:(j=s["$=="]("book"))?g["$[]"](1)["$=="]("abstract")["$!"]():j)===k||h.$$is_boolean&&1!=h||(n=q=B.get("Block").$new(f,"preamble",o(["content_model"],{content_model:"compound"})),(h=(i=s["$=="]("book"))?f["$attr?"]("preface-title"):i)===k||h.$$is_boolean&&1!=h||(h=[f.$attr("preface-title")],i=n,i["$title="].apply(i,h),h[h.length-1]),f["$<<"](n)),t=f,u=0,v=(h=f.$attributes()["$has_key?"]("fragment"))===k||h.$$is_boolean&&1!=h?s["$=="]("book")?[0,1]:[1]:k),e.$skip_blank_lines();(i=e["$has_more_lines?"]())!==k&&(!i.$$is_boolean||1==i);){if(m.$parse_block_metadata_lines(e,t,g),(i=x=m["$is_next_line_section?"](e,g))===k||i.$$is_boolean&&1!=i)z=e.$line_info(),(i=A=m.$next_block(e,(j=q)!==!1&&j!==k?j:t,g,o(["parse_metadata"],{parse_metadata:!1})))===k||i.$$is_boolean&&1!=i||(p!==!1&&p!==k&&((i=t["$blocks?"]()["$!"]())===k||i.$$is_boolean&&1!=i?t.$blocks().$size()["$=="](1)&&(C=t.$blocks()["$[]"](0),j=q["$!"](),(i=j!==!1&&j!==k?C.$content_model()["$=="]("compound"):j)===k||i.$$is_boolean&&1!=i?(i=C.$content_model()["$=="]("compound")["$!"]())===k||i.$$is_boolean&&1!=i||(q=B.get("Block").$new(t,"open",o(["content_model"],{content_model:"compound"})),i=["partintro"],j=q,j["$style="].apply(j,i),i[i.length-1],t.$blocks().$shift(),C.$style()["$=="]("partintro")&&(i=["paragraph"],j=C,j["$context="].apply(j,i),i[i.length-1],i=[k],j=C,j["$style="].apply(j,i),i[i.length-1]),i=[q],j=C,j["$parent="].apply(j,i),i[i.length-1],q["$<<"](C),i=[q],j=A,j["$parent="].apply(j,i),i[i.length-1],t["$<<"](q)):m.$warn("asciidoctor: ERROR: "+z+": illegal block content outside of partintro block")):(i=A.$style()["$=="]("partintro")["$!"]())===k||i.$$is_boolean&&1!=i||(A.$context()["$=="]("paragraph")?(i=["open"],j=A,j["$context="].apply(j,i),i[i.length-1],i=["partintro"],j=A,j["$style="].apply(j,i),i[i.length-1]):(q=B.get("Block").$new(t,"open",o(["content_model"],{content_model:"compound"})),i=["partintro"],j=q,j["$style="].apply(j,i),i[i.length-1],i=[q],j=A,j["$parent="].apply(j,i),i[i.length-1],t["$<<"](q)))),((i=q)!==!1&&i!==k?i:t)["$<<"](A),g=o([],{}));else{if(x=b(x,t.$document().$attr("leveloffset",0).$to_i()),(i=(j=c(x,u))!==!1&&j!==k?j:(l=t.$context()["$=="]("document"))?x["$=="](0):l)===k||i.$$is_boolean&&1!=i){(i=(j=x["$=="](0))?s["$=="]("book")["$!"]():j)===k||i.$$is_boolean&&1!=i||m.$warn("asciidoctor: ERROR: "+e.$line_info()+": only book doctypes can contain level 0 sections");break}(i=(j=x["$=="](0))?s["$=="]("book")["$!"]():j)===k||i.$$is_boolean&&1!=i?(i=(j=v!==!1&&v!==k)?v["$include?"](x)["$!"]():j)===k||i.$$is_boolean&&1!=i||m.$warn(b(b("asciidoctor: WARNING: "+e.$line_info()+": section title out of sequence: ","expected "+function(){return c(v.$size(),1)?"levels":"level"}()+" "+d(v," or ")+", "),"got level "+x)):m.$warn("asciidoctor: ERROR: "+e.$line_info()+": only book doctypes can contain level 0 sections"),i=a.to_ary(m.$next_section(e,t,g)),y=null==i[0]?k:i[0],g=null==i[1]?k:i[1],t["$<<"](y)}e.$skip_blank_lines()}if(p!==!1&&p!==k)i=t["$blocks?"](),((h=i!==!1&&i!==k?t.$blocks()["$[]"](-1).$context()["$=="]("section"):i)===k||h.$$is_boolean&&1!=h)&&m.$warn("asciidoctor: ERROR: "+e.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(n!==!1&&n!==k)if(D=f,(h=n["$blocks?"]())===k||h.$$is_boolean&&1!=h)D.$blocks().$shift();else if(j=B.get("Compliance").$unwrap_standalone_preamble(),i=j!==!1&&j!==k?D.$blocks().$size()["$=="](1):j,(h=i!==!1&&i!==k?s["$=="]("book")["$!"]():i)!==k&&(!h.$$is_boolean||1==h))for(D.$blocks().$shift();(i=E=n.$blocks().$shift())!==k&&(!i.$$is_boolean||1==i);)i=[D],j=E,j["$parent="].apply(j,i),i[i.length-1],D["$<<"](E);return[function(){return(h=t["$=="](f)["$!"]())===k||h.$$is_boolean&&1!=h?k:t}(),g.$dup()]}),a.defs(z,"$next_block",function(d,g,h,i){var j,l,m,n,q,r,s,t,u,v,w,x=this,y=k,z=k,A=k,C=k,D=k,E=k,F=k,G=k,H=k,I=k,J=k,K=k,L=k,M=k,N=k,O=k,P=k,Q=k,R=k,S=k,T=k,U=k,V=k,W=k,X=k,Y=k,Z=k,$=k,_=k,aa=k,ba=k,ca=k,da=k,ea=k,fa=k,ga=k,ha=k,ia=k,ja=k,ka=k,la=k,ma=k,na=k,oa=k,pa=k,qa=k,ra=k,sa=k,ta=k,ua=k,va=k,wa=k,xa=k,ya=k,za=k,Aa=k,Ba=k;if(null==h&&(h=o([],{})),null==i&&(i=o([],{})),y=d.$skip_blank_lines(),(j=d["$has_more_lines?"]())===k||j.$$is_boolean&&1!=j)return k;for(l=z=i["$[]"]("text"),(j=l!==!1&&l!==k?c(y,0):l)===k||j.$$is_boolean&&1!=j||(i.$delete("text"),z=!1),A=i.$fetch("parse_metadata",!0),C=g.$document(),(j=D=C.$extensions())===k||j.$$is_boolean&&1!=j?E=F=!1:(E=D["$blocks?"](),F=D["$block_macros?"]()),G=B.get("ListItem")["$==="](g),H=k,I=k,J=k,K=C.$sourcemap(),L=k;m=H["$!"](),(l=m!==!1&&m!==k?d["$has_more_lines?"]():m)!==k&&(!l.$$is_boolean||1==l);)if((l=(m=A!==!1&&A!==k)?x.$parse_block_metadata_line(d,C,h,i):m)===k||l.$$is_boolean&&1!=l){if(K!==!1&&K!==k&&(L=d.$cursor()),M=d.$read_line(),N=!1,O=k,P=k,Q=k,(l=h["$[]"](1))===k||l.$$is_boolean&&1!=l||(l=a.to_ary(x.$parse_style_attribute(h,d)),I=null==l[0]?k:l[0],J=null==l[1]?k:l[1]),(l=R=x["$is_delimited_block?"](M,!0))===k||l.$$is_boolean&&1!=l||(N=!0,O=P=R.$context(),Q=R.$terminator(),(l=I["$!"]())===k||l.$$is_boolean&&1!=l?(l=I["$=="](O.$to_s())["$!"]())===k||l.$$is_boolean&&1!=l||((l=R.$masq()["$include?"](I))===k||l.$$is_boolean&&1!=l?(m=R.$masq()["$include?"]("admonition"),(l=m!==!1&&m!==k?B.get("ADMONITION_STYLES")["$include?"](I):m)===k||l.$$is_boolean&&1!=l?(l=(m=E!==!1&&E!==k)?D["$registered_for_block?"](I,O):m)===k||l.$$is_boolean&&1!=l?(x.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+": invalid style for "+O+" block: "+I),I=O.$to_s()):O=I.$to_sym():O="admonition"):O=I.$to_sym()):I=h["$[]="]("style",O.$to_s())),N!==!1&&N!==k);else for(;(m=!0)!==k&&(!m.$$is_boolean||1==m);){if(n=(q=I!==!1&&I!==k)?B.get("Compliance").$strict_verbatim_paragraphs():q,(m=n!==!1&&n!==k?B.get("VERBATIM_STYLES")["$include?"](I):n)!==k&&(!m.$$is_boolean||1==m)){O=I.$to_sym(),d.$unshift_line(M);break}if(z!==!1&&z!==k);else{if(S=function(){return(m=B.get("Compliance").$markdown_syntax())===k||m.$$is_boolean&&1!=m?M.$chr():M.$lstrip().$chr()}(),q=B.get("LAYOUT_BREAK_LINES")["$has_key?"](S),n=q!==!1&&q!==k?e(M.$length(),3):q,!((m=n!==!1&&n!==k?function(){return(q=B.get("Compliance").$markdown_syntax())===k||q.$$is_boolean&&1!=q?B.get("LayoutBreakLineRx"):B.get("LayoutBreakLinePlusRx")}()["$=~"](M):n)===k||m.$$is_boolean&&1!=m)){H=B.get("Block").$new(g,B.get("LAYOUT_BREAK_LINES")["$[]"](S),o(["content_model"],{content_model:"empty"}));break}if(n=M["$end_with?"]("]"),!((m=n!==!1&&n!==k?T=B.get("MediaBlockMacroRx").$match(M):n)===k||m.$$is_boolean&&1!=m)){if(U=T["$[]"](1).$to_sym(),H=B.get("Block").$new(g,U,o(["content_model"],{content_model:"empty"})),V=U["$=="]("image")?["alt","width","height"]:U["$=="]("video")?["poster","width","height"]:[],((m=(n=I["$!"]())!==!1&&n!==k?n:J)===k||m.$$is_boolean&&1!=m)&&(U["$=="]("image")&&h["$[]="]("alt",I),h.$delete("style"),I=k),H.$parse_attributes(T["$[]"](3),V,o(["unescape_input","sub_input","sub_result","into"],{unescape_input:U["$=="]("image"),sub_input:!0,sub_result:!1,into:h})),W=H.$sub_attributes(T["$[]"](2),o(["attribute_missing"],{attribute_missing:"drop-line"})),(m=W["$empty?"]())!==k&&(!m.$$is_boolean||1==m))return C.$attributes().$fetch("attribute-missing",B.get("Compliance").$attribute_missing())["$=="]("skip")?B.get("Block").$new(g,"paragraph",o(["content_model","source"],{content_model:"simple",source:[M]})):(h.$clear(),k);h["$[]="]("target",W);break}if(!((m=(n=S["$=="]("t"))?T=B.get("TocBlockMacroRx").$match(M):n)===k||m.$$is_boolean&&1!=m)){H=B.get("Block").$new(g,"toc",o(["content_model"],{content_model:"empty"})),H.$parse_attributes(T["$[]"](1),[],o(["sub_result","into"],{sub_result:!1,into:h}));break}if(n=(q=F!==!1&&F!==k)?T=B.get("GenericBlockMacroRx").$match(M):q,(m=n!==!1&&n!==k?X=D["$registered_for_block_macro?"](T["$[]"](1)):n)!==k&&(!m.$$is_boolean||1==m)){if(W=T["$[]"](2),Y=T["$[]"](3),X.$config()["$[]"]("content_model")["$=="]("attributes")?((m=Y["$empty?"]())===k||m.$$is_boolean&&1!=m)&&C.$parse_attributes(Y,(m=X.$config()["$[]"]("pos_attrs"))!==!1&&m!==k?m:[],o(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:h})):h["$[]="]("text",Y),(m=Z=X.$config()["$[]"]("default_attrs"))===k||m.$$is_boolean&&1!=m||(m=(n=Z).$each,m.$$p=(r=function(a,b){var c,d,e;r.$$s||this;return null==a&&(a=k),null==b&&(b=k),c=a,d=h,(e=d["$[]"](c))!==!1&&e!==k?e:d["$[]="](c,b)},r.$$s=x,r),m).call(n),(m=H=X.$process_method()["$[]"](g,W,h.$dup()))===k||m.$$is_boolean&&1!=m)return h.$clear(),k;h.$replace(H.$attributes());break}}if(!((m=T=B.get("CalloutListRx").$match(M))===k||m.$$is_boolean&&1!=m)){for(H=B.get("List").$new(g,"colist"),h["$[]="]("style","arabic"),d.$unshift_line(M),$=1;(q=(s=T)!==!1&&s!==k?s:(t=d["$has_more_lines?"](),t!==!1&&t!==k?T=B.get("CalloutListRx").$match(d.$peek_line()):t))!==k&&(!q.$$is_boolean||1==q);)(q=T["$[]"](1).$to_i()["$=="]($)["$!"]())===k||q.$$is_boolean&&1!=q||x.$warn("asciidoctor: WARNING: "+d.$path()+": line "+f(d.$lineno(),2)+": callout list item index: expected "+$+" got "+T["$[]"](1)),_=x.$next_list_item(d,H,T),$=b($,1),_!==!1&&_!==k&&(H["$<<"](_),aa=C.$callouts().$callout_ids(H.$items().$size()),(q=aa["$empty?"]()["$!"]())===k||q.$$is_boolean&&1!=q?x.$warn("asciidoctor: WARNING: "+d.$path()+": line "+f(d.$lineno(),2)+": no callouts refer to list item "+H.$items().$size()):_.$attributes()["$[]="]("coids",aa)),T=k;C.$callouts().$next_list();break}if(!((m=B.get("UnorderedListRx")["$=~"](M))===k||m.$$is_boolean&&1!=m)){d.$unshift_line(M),H=x.$next_outline_list(d,"ulist",g);break}if(!((m=T=B.get("OrderedListRx").$match(M))===k||m.$$is_boolean&&1!=m)){d.$unshift_line(M),H=x.$next_outline_list(d,"olist",g),q=h["$[]"]("style")["$!"](),(m=q!==!1&&q!==k?H.$attributes()["$[]"]("style")["$!"]():q)===k||m.$$is_boolean&&1!=m||(ba=H.$items()["$[]"](0).$marker(),(m=ba["$start_with?"]("."))===k||m.$$is_boolean&&1!=m?(I=(m=(q=B.get("ORDERED_LIST_STYLES")).$detect,m.$$p=(u=function(a){u.$$s||this;return null==a&&(a=k),B.get("OrderedListMarkerRxMap")["$[]"](a)["$=~"](ba)},u.$$s=x,u),m).call(q),h["$[]="]("style",((m=I)!==!1&&m!==k?m:B.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s())):h["$[]="]("style",((m=B.get("ORDERED_LIST_STYLES")["$[]"](f(ba.$length(),1)))!==!1&&m!==k?m:B.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s()));break}if(!((m=T=B.get("DefinitionListRx").$match(M))===k||m.$$is_boolean&&1!=m)){d.$unshift_line(M),H=x.$next_labeled_list(d,T,g);break}if(s=(t=I["$=="]("float"))!==!1&&t!==k?t:I["$=="]("discrete"),!((m=s!==!1&&s!==k?x["$is_section_title?"](M,function(){return(t=B.get("Compliance").$underline_style_section_titles())===k||t.$$is_boolean&&1!=t?k:d.$peek_line(!0)}()):s)===k||m.$$is_boolean&&1!=m)){d.$unshift_line(M),m=a.to_ary(x.$parse_section_title(d,C)),ca=null==m[0]?k:m[0],da=null==m[1]?k:m[1],ea=null==m[2]?k:m[2],fa=null==m[3]?k:m[3],ga=null==m[4]?k:m[4],da!==!1&&da!==k&&h["$[]="]("reftext",da),(m=h["$has_key?"]("id"))===k||m.$$is_boolean&&1!=m||((m=ca)!==!1&&m!==k?m:ca=h["$[]"]("id")),H=B.get("Block").$new(g,"floating_title",o(["content_model"],{content_model:"empty"})),(m=ca["$nil_or_empty?"]())===k||m.$$is_boolean&&1!=m?(m=[ca],s=H,s["$id="].apply(s,m),m[m.length-1]):(ha=B.get("Section").$new(g),m=[ea],s=ha,s["$title="].apply(s,m),m[m.length-1],m=[ha.$generate_id()],s=H,s["$id="].apply(s,m),m[m.length-1]),m=[fa],s=H,s["$level="].apply(s,m),m[m.length-1],m=[ea],s=H,s["$title="].apply(s,m),m[m.length-1];break}if((m=(s=I!==!1&&I!==k)?I["$=="]("normal")["$!"]():s)!==k&&(!m.$$is_boolean||1==m)){if(!((m=B.get("PARAGRAPH_STYLES")["$include?"](I))===k||m.$$is_boolean&&1!=m)){O=I.$to_sym(),P="paragraph",d.$unshift_line(M);break}if(!((m=B.get("ADMONITION_STYLES")["$include?"](I))===k||m.$$is_boolean&&1!=m)){O="admonition",P="paragraph",d.$unshift_line(M);break}if(!((m=(s=E!==!1&&E!==k)?D["$registered_for_block?"](I,"paragraph"):s)===k||m.$$is_boolean&&1!=m)){O=I.$to_sym(),P="paragraph",d.$unshift_line(M);break}x.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+": invalid style for paragraph: "+I),I=k}if(ia=(m=y["$=="](0))?G:m,s=I["$=="]("normal")["$!"](),(m=s!==!1&&s!==k?B.get("LiteralParagraphRx")["$=~"](M):s)===k||m.$$is_boolean&&1!=m){if(d.$unshift_line(M),ja=x.$read_paragraph_lines(d,ia,o(["skip_line_comments"],{skip_line_comments:!0})),(m=ja["$empty?"]())!==k&&(!m.$$is_boolean||1==m))return d.$advance(),k;if(x.$catalog_inline_anchors(ja.$join(B.get("EOL")),C),ka=ja["$[]"](0),s=z["$!"](),(m=s!==!1&&s!==k?la=B.get("AdmonitionParagraphRx").$match(ka):s)===k||m.$$is_boolean&&1!=m)if(t=z["$!"](),s=t!==!1&&t!==k?B.get("Compliance").$markdown_syntax():t,(m=s!==!1&&s!==k?ka["$start_with?"]("> "):s)===k||m.$$is_boolean&&1!=m)if(t=z["$!"](),(m=t!==!1&&t!==k?x["$blockquote?"](ja,ka):t)===k||m.$$is_boolean&&1!=m)I["$=="]("normal")&&x["$adjust_indentation!"](ja),H=B.get("Block").$new(g,"paragraph",o(["content_model","source","attributes"],{content_model:"simple",source:ja,attributes:h}));else{for(ja["$[]="](0,ka["$[]"](p(1,-1,!1))),m=a.to_ary(ja.$pop()["$[]"](p(3,-1,!1)).$split(", ",2)),na=null==m[0]?k:m[0],oa=null==m[1]?k:m[1];(t=ja["$[]"](-1)["$empty?"]())!==k&&(!t.$$is_boolean||1==t);)ja.$pop();ja["$[]="](-1,ja["$[]"](-1).$chop()),h["$[]="]("style","quote"),na!==!1&&na!==k&&h["$[]="]("attribution",na),oa!==!1&&oa!==k&&h["$[]="]("citetitle",oa),H=B.get("Block").$new(g,"quote",o(["content_model","source","attributes"],{content_model:"simple",source:ja,attributes:h}))}else{if((m=(s=ja)["$map!"],m.$$p=(v=function(a){var b;v.$$s||this;return null==a&&(a=k),a["$=="](">")?a["$[]"](p(1,-1,!1)):(b=a["$start_with?"]("> "))===k||b.$$is_boolean&&1!=b?a:a["$[]"](p(2,-1,!1))},v.$$s=x,v),m).call(s),(m=ja["$[]"](-1)["$start_with?"]("-- "))===k||m.$$is_boolean&&1!=m)m=a.to_ary(k),na=null==m[0]?k:m[0],oa=null==m[1]?k:m[1];else for(m=a.to_ary(ja.$pop()["$[]"](p(3,-1,!1)).$split(", ",2)),na=null==m[0]?k:m[0],oa=null==m[1]?k:m[1];(t=ja["$[]"](-1)["$empty?"]())!==k&&(!t.$$is_boolean||1==t);)ja.$pop();h["$[]="]("style","quote"),na!==!1&&na!==k&&h["$[]="]("attribution",na),oa!==!1&&oa!==k&&h["$[]="]("citetitle",oa),H=x.$build_block("quote","compound",!1,g,B.get("Reader").$new(ja),h)}else ja["$[]="](0,la.$post_match().$lstrip()),h["$[]="]("style",la["$[]"](1)),h["$[]="]("name",ma=la["$[]"](1).$downcase()),m="caption",s=h,(t=s["$[]"](m))!==!1&&t!==k?t:s["$[]="](m,C.$attributes()["$[]"](""+ma+"-caption")),H=B.get("Block").$new(g,"admonition",o(["content_model","source","attributes"],{content_model:"simple",source:ja,attributes:h}))}else d.$unshift_line(M),ja=x.$read_paragraph_lines(d,ia,o(["skip_line_comments"],{skip_line_comments:z})),x["$adjust_indentation!"](ja),H=B.get("Block").$new(g,"literal",o(["content_model","source","attributes"],{content_model:"verbatim",source:ja,attributes:h})),G!==!1&&G!==k&&H.$set_option("listparagraph");break}if(m=H["$!"](),(l=m!==!1&&m!==k?O:m)!==k&&(!l.$$is_boolean||1==l))if((l=(m=O["$=="]("abstract"))!==!1&&m!==k?m:O["$=="]("partintro"))===k||l.$$is_boolean&&1!=l||(O="open"),pa=O,"admonition"["$==="](pa))h["$[]="]("name",ma=I.$downcase()),l="caption",m=h,(t=m["$[]"](l))!==!1&&t!==k?t:m["$[]="](l,C.$attributes()["$[]"](""+ma+"-caption")),H=x.$build_block(O,"compound",Q,g,d,h);else{if("comment"["$==="](pa))return x.$build_block(O,"skip",Q,g,d,h),k;if("example"["$==="](pa))H=x.$build_block(O,"compound",Q,g,d,h);else if("listing"["$==="](pa)||"fenced_code"["$==="](pa)||"source"["$==="](pa))O["$=="]("fenced_code")?(I=h["$[]="]("style","source"),l=a.to_ary(M["$[]"](p(3,-1,!1)).$tr(" ","").$split(",",2)),qa=null==l[0]?k:l[0],ra=null==l[1]?k:l[1],(l=qa["$nil_or_empty?"]()["$!"]())===k||l.$$is_boolean&&1!=l?(l=sa=C.$attributes()["$[]"]("source-language"))===k||l.$$is_boolean&&1!=l||h["$[]="]("language",sa):(h["$[]="]("language",qa),((l=ra["$nil_or_empty?"]())===k||l.$$is_boolean&&1!=l)&&h["$[]="]("linenums","")),m=h["$key?"]("indent")["$!"](),(l=m!==!1&&m!==k?C.$attributes()["$key?"]("source-indent"):m)===k||l.$$is_boolean&&1!=l||h["$[]="]("indent",C.$attributes()["$[]"]("source-indent")),Q=Q["$[]"](p(0,2,!1))):O["$=="]("source")&&(B.get("AttributeList").$rekey(h,[k,"language","linenums"]),((l=h["$key?"]("language"))===k||l.$$is_boolean&&1!=l)&&((l=sa=C.$attributes()["$[]"]("source-language"))===k||l.$$is_boolean&&1!=l||h["$[]="]("language",sa)),m=h["$key?"]("indent")["$!"](),(l=m!==!1&&m!==k?C.$attributes()["$key?"]("source-indent"):m)===k||l.$$is_boolean&&1!=l||h["$[]="]("indent",C.$attributes()["$[]"]("source-indent"))),H=x.$build_block("listing","verbatim",Q,g,d,h);else if("literal"["$==="](pa))H=x.$build_block(O,"verbatim",Q,g,d,h);else if("pass"["$==="](pa))H=x.$build_block(O,"raw",Q,g,d,h);else if("stem"["$==="](pa)||"latexmath"["$==="](pa)||"asciimath"["$==="](pa))O["$=="]("stem")&&h["$[]="]("style",function(){return(l=ta=h["$[]"](2))===k||l.$$is_boolean&&1!=l?(l=(ua=C.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===k||l.$$is_boolean&&1!=l?ua:"asciimath":(l=ta["$include?"]("tex"))===k||l.$$is_boolean&&1!=l?"asciimath":"latexmath";
}()),H=x.$build_block("stem","raw",Q,g,d,h);else if("open"["$==="](pa)||"sidebar"["$==="](pa))H=x.$build_block(O,"compound",Q,g,d,h);else if("table"["$==="](pa))va=d.$cursor(),wa=B.get("Reader").$new(d.$read_lines_until(o(["terminator","skip_line_comments"],{terminator:Q,skip_line_comments:!0})),va),pa=Q.$chr(),","["$==="](pa)?h["$[]="]("format","csv"):":"["$==="](pa)&&h["$[]="]("format","dsv"),H=x.$next_table(wa,g,h);else if("quote"["$==="](pa)||"verse"["$==="](pa))B.get("AttributeList").$rekey(h,[k,"attribution","citetitle"]),H=x.$build_block(O,function(){return O["$=="]("verse")?"verbatim":"compound"}(),Q,g,d,h);else if((l=(m=E!==!1&&E!==k)?X=D["$registered_for_block?"](O,P):m)===k||l.$$is_boolean&&1!=l)x.$raise("Unsupported block type "+O+" at "+d.$line_info());else if((l=(xa=X.$config()["$[]"]("content_model"))["$=="]("skip")["$!"]())===k||l.$$is_boolean&&1!=l||((l=(ya=(m=X.$config()["$[]"]("pos_attrs"))!==!1&&m!==k?m:[])["$empty?"]()["$!"]())===k||l.$$is_boolean&&1!=l||B.get("AttributeList").$rekey(h,[k].$concat(ya)),(l=Z=X.$config()["$[]"]("default_attrs"))===k||l.$$is_boolean&&1!=l||(l=(m=Z).$each,l.$$p=(w=function(a,b){var c,d,e;w.$$s||this;return null==a&&(a=k),null==b&&(b=k),c=a,d=h,(e=d["$[]"](c))!==!1&&e!==k?e:d["$[]="](c,b)},w.$$s=x,w),l).call(m)),H=x.$build_block(O,xa,Q,g,d,h,o(["extension"],{extension:X})),(l=(t=H!==!1&&H!==k)?xa["$=="]("skip")["$!"]():t)===k||l.$$is_boolean&&1!=l)return h.$clear(),k}}else d.$advance();return H!==!1&&H!==k&&(L!==!1&&L!==k&&(j=[L],l=H,l["$source_location="].apply(l,j),j[j.length-1]),((j=H["$title?"]())===k||j.$$is_boolean&&1!=j)&&(j=[h["$[]"]("title")],l=H,l["$title="].apply(l,j),j[j.length-1]),H.$context()["$=="]("image")?(za=h["$[]"]("target"),H.$document().$register("images",za),j="alt",l=h,(t=l["$[]"](j))!==!1&&t!==k?t:l["$[]="](j,B.get("Helpers").$basename(za,!0).$tr("_-"," ")),h["$[]="]("alt",H.$sub_specialchars(h["$[]"]("alt"))),H.$assign_caption(h.$delete("caption"),"figure"),(j=Aa=h["$[]"]("scaledwidth"))===k||j.$$is_boolean&&1!=j||(j=p(48,57,!1)["$include?"](((l=Aa["$[]"](-1))!==!1&&l!==k?l:0).$ord()))===k||j.$$is_boolean&&1!=j||h["$[]="]("scaledwidth",""+Aa+"%")):(j=H,(l=j.$caption())!==!1&&l!==k?l:j["$caption="](h.$delete("caption"))),j=[h["$[]"]("style")],l=H,l["$style="].apply(l,j),j[j.length-1],l=H,(j=Ba=(t=l.$id())!==!1&&t!==k?t:l["$id="](h["$[]"]("id")))===k||j.$$is_boolean&&1!=j||C.$register("ids",[Ba,(j=h["$[]"]("reftext"))!==!1&&j!==k?j:function(){return(l=H["$title?"]())===k||l.$$is_boolean&&1!=l?k:H.$title()}()]),((j=h["$empty?"]())===k||j.$$is_boolean&&1!=j)&&H.$attributes().$update(h),H.$lock_in_subs(),(j=H["$sub?"]("callouts"))===k||j.$$is_boolean&&1!=j||((j=x.$catalog_callouts(H.$source(),C))===k||j.$$is_boolean&&1!=j)&&H.$remove_sub("callouts")),H}),a.defs(z,"$blockquote?",function(a,b){var d,e,f,g;return null==b&&(b=k),e=(f=c(a.$size(),1))?((g=b)!==!1&&g!==k?g:a["$[]"](0))["$start_with?"]('"'):f,d=e!==!1&&e!==k?a["$[]"](-1)["$start_with?"]("-- "):e,d!==!1&&d!==k?a["$[]"](-2)["$end_with?"]('"'):d}),a.defs(z,"$read_paragraph_lines",function(a,b,c){var d,e,f=k;return null==c&&(c=o([],{})),c["$[]="]("break_on_blank_lines",!0),c["$[]="]("break_on_list_continuation",!0),c["$[]="]("preserve_last_line",!0),f=function(){return b!==!1&&b!==k?function(){return(d=B.get("Compliance").$block_terminates_paragraph())===k||d.$$is_boolean&&1!=d?B.get("StartOfListProc"):B.get("StartOfBlockOrListProc")}():function(){return(d=B.get("Compliance").$block_terminates_paragraph())===k||d.$$is_boolean&&1!=d?B.get("NoOp"):B.get("StartOfBlockProc")}()}(),(d=(e=a).$read_lines_until,d.$$p=f.$to_proc(),d).call(e,c)}),a.defs(z,"$is_delimited_block?",function(a,b){var e,i,j=k,l=k,m=k,n=k,o=k,q=k,r=k;if(null==b&&(b=!1),(e=(i=c(j=a.$length(),1))?B.get("DELIMITED_BLOCK_LEADERS")["$include?"](a["$[]"](p(0,1,!1))):i)===k||e.$$is_boolean&&1!=e)return k;if(j["$=="](2))l=a,m=2;else{if(g(j,4)?(l=a,m=j):(l=a["$[]"](p(0,3,!1)),m=4),n=!1,(e=B.get("Compliance").$markdown_syntax())!==k&&(!e.$$is_boolean||1==e)&&(o=function(){return m["$=="](4)?l.$chop():l}(),o["$=="]("```"))){if((e=(i=m["$=="](4))?l["$end_with?"]("`"):i)!==k&&(!e.$$is_boolean||1==e))return k;l=o,m=3,n=!0}if((e=(i=m["$=="](3))?n["$!"]():i)!==k&&(!e.$$is_boolean||1==e))return k}return(e=B.get("DELIMITED_BLOCKS")["$has_key?"](l))===k||e.$$is_boolean&&1!=e?k:(e=(i=h(m,4))!==!1&&i!==k?i:m["$=="](j))===k||e.$$is_boolean&&1!=e?(""+l+d(l["$[]"](p(-1,-1,!1)),f(j,m)))["$=="](a)?b!==!1&&b!==k?((e=B.get("DELIMITED_BLOCKS")["$[]"](l)).$to_a&&!e.$to_a.$$stub?e=e.$to_a():e.$$is_array?e:e=[e],q=null==e[0]?k:e[0],r=null==e[1]?k:e[1],B.get("BlockMatchData").$new(q,r,l,a)):!0:k:b!==!1&&b!==k?((e=B.get("DELIMITED_BLOCKS")["$[]"](l)).$to_a&&!e.$to_a.$$stub?e=e.$to_a():e.$$is_array?e:e=[e],q=null==e[0]?k:e[0],r=null==e[1]?k:e[1],B.get("BlockMatchData").$new(q,r,l,l)):!0}),a.defs(z,"$build_block",function(a,b,d,e,f,g,h){var i,j,l=this,m=k,n=k,p=k,q=k,r=k,s=k,t=k,u=k,v=k;if(null==h&&(h=o([],{})),(i=(j=b["$=="]("skip"))!==!1&&j!==k?j:b["$=="]("raw"))===k||i.$$is_boolean&&1!=i?(m=!1,n=b):(m=b["$=="]("skip"),n="simple"),(i=d["$nil?"]())===k||i.$$is_boolean&&1!=i?(i=n["$=="]("compound")["$!"]())===k||i.$$is_boolean&&1!=i?d["$=="](!1)?(p=k,q=f):(p=k,r=f.$cursor(),q=B.get("Reader").$new(f.$read_lines_until(o(["terminator","skip_processing"],{terminator:d,skip_processing:m})),r)):(p=f.$read_lines_until(o(["terminator","skip_processing"],{terminator:d,skip_processing:m})),q=k):(n["$=="]("verbatim")?p=f.$read_lines_until(o(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(b["$=="]("compound")&&(b="simple"),p=l.$read_paragraph_lines(f,!1,o(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),q=k),b["$=="]("skip"))return g.$clear(),p;if(b["$=="]("verbatim")&&((i=s=g["$[]"]("indent"))===k||i.$$is_boolean&&1!=i?c(t=((i=g["$[]"]("tabsize"))!==!1&&i!==k?i:e.$document().$attributes()["$[]"]("tabsize")).$to_i(),0)&&l["$adjust_indentation!"](p,k,t):l["$adjust_indentation!"](p,s,(i=g["$[]"]("tabsize"))!==!1&&i!==k?i:e.$document().$attributes()["$[]"]("tabsize"))),(i=u=h["$[]"]("extension"))===k||i.$$is_boolean&&1!=i)v=B.get("Block").$new(e,a,o(["content_model","source","attributes"],{content_model:b,source:p,attributes:g}));else{if(g.$delete("style"),(i=v=u.$process_method()["$[]"](e,(j=q)!==!1&&j!==k?j:B.get("Reader").$new(p),g.$dup()))===k||i.$$is_boolean&&1!=i)return k;g.$replace(v.$attributes()),(i=(j=v.$content_model()["$=="]("compound"))?(p=v.$lines())["$nil_or_empty?"]()["$!"]():j)===k||i.$$is_boolean&&1!=i||(b="compound",q=B.get("Reader").$new(p))}return j=g["$has_key?"]("title"),(i=j!==!1&&j!==k?v.$document()["$attr?"](""+v.$context()+"-caption"):j)===k||i.$$is_boolean&&1!=i||(i=[g.$delete("title")],j=v,j["$title="].apply(j,i),i[i.length-1],v.$assign_caption(g.$delete("caption"))),b["$=="]("compound")&&l.$parse_blocks(q,v),v}),a.defs(z,"$parse_blocks",function(a,b){for(var c,d=k;(c=a["$has_more_lines?"]())!==k&&(!c.$$is_boolean||1==c);)d=B.get("Parser").$next_block(a,b),d!==!1&&d!==k&&b["$<<"](d)}),a.defs(z,"$next_outline_list",function(a,d,e){var f,g,i,j=this,l=k,m=k,n=k,o=k,p=k,q=k;for(l=B.get("List").$new(e,d),e.$context()["$=="](d)?(f=[b(e.$level(),1)],g=l,g["$level="].apply(g,f),f[f.length-1]):(f=[1],g=l,g["$level="].apply(g,f),f[f.length-1]);i=a["$has_more_lines?"](),(g=i!==!1&&i!==k?m=B.get("ListRxMap")["$[]"](d).$match(a.$peek_line()):i)!==k&&(!g.$$is_boolean||1==g);){if(n=j.$resolve_list_marker(d,m["$[]"](1)),i=l["$items?"](),(g=i!==!1&&i!==k?n["$=="](l.$items()["$[]"](0).$marker())["$!"]():i)===k||g.$$is_boolean&&1!=g)o=l.$level();else for(o=b(l.$level(),1),p=e;p.$context()["$=="](d);){if(n["$=="](p.$items()["$[]"](0).$marker())){o=p.$level();break}p=p.$parent()}if((g=(i=l["$items?"]()["$!"]())!==!1&&i!==k?i:o["$=="](l.$level()))===k||g.$$is_boolean&&1!=g){if(h(o,l.$level()))break;c(o,l.$level())&&l.$items()["$[]"](-1)["$<<"](j.$next_block(a,l))}else q=j.$next_list_item(a,l,m);q!==!1&&q!==k&&l["$<<"](q),q=k,a.$skip_blank_lines()}return l}),a.defs(z,"$catalog_callouts",function(a,b){var c,d,e,f=this,g=k;return g=!1,(c=a["$include?"]("<"))===k||c.$$is_boolean&&1!=c||(c=(d=a).$scan,c.$$p=(e=function(){var a,c=(e.$$s||this,k);return null==q["~"]&&(q["~"]=k),c=q["~"],(a=c["$[]"](0).$chr()["$=="]("\\")["$!"]())===k||a.$$is_boolean&&1!=a||b.$callouts().$register(c["$[]"](2)),g=!0},e.$$s=f,e),c).call(d,B.get("CalloutQuickScanRx")),g}),a.defs(z,"$catalog_inline_anchors",function(a,b){var c,d,e,f=this;return(c=a["$include?"]("["))===k||c.$$is_boolean&&1!=c||(c=(d=a).$scan,c.$$p=(e=function(){var a,c=(e.$$s||this,k),d=k,f=k;return null==q["~"]&&(q["~"]=k),c=q["~"],(a=c["$[]"](0)["$start_with?"]("\\"))===k||a.$$is_boolean&&1!=a?(d=(a=c["$[]"](1))!==!1&&a!==k?a:c["$[]"](3),f=(a=c["$[]"](2))!==!1&&a!==k?a:c["$[]"](4),b.$register("ids",[d,f])):k},e.$$s=f,e),c).call(d,B.get("InlineAnchorRx")),k}),a.defs(z,"$next_labeled_list",function(b,c,d){var e,f,g,h=this,i=k,j=k,l=k,m=k,n=k;for(i=B.get("List").$new(d,"dlist"),j=k,l=B.get("DefinitionListSiblingRx")["$[]"](c["$[]"](2));(e=(f=c)!==!1&&f!==k?f:(g=b["$has_more_lines?"](),g!==!1&&g!==k?c=l.$match(b.$peek_line()):g))!==k&&(!e.$$is_boolean||1==e);)e=a.to_ary(h.$next_list_item(b,i,c,l)),m=null==e[0]?k:e[0],n=null==e[1]?k:e[1],(e=(f=j!==!1&&j!==k)?j["$[]"](-1)["$!"]():f)===k||e.$$is_boolean&&1!=e?i.$items()["$<<"](j=[[m],n]):(j.$pop(),j["$[]"](0)["$<<"](m),j["$<<"](n)),c=k;return i}),a.defs(z,"$next_list_item",function(a,b,c,d){var e,f,g=this,h=k,i=k,j=k,l=k,m=k,n=k,q=k,r=k,s=k,t=k,u=k,v=k,w=k,x=k,y=k;if(null==d&&(d=k),(h=b.$context())["$=="]("dlist")?(i=B.get("ListItem").$new(b,c["$[]"](1)),j=B.get("ListItem").$new(b,c["$[]"](3)),l=c["$[]"](3)["$nil_or_empty?"]()["$!"]()):(m=c["$[]"](2),n=!1,(e=(f=h["$=="]("ulist"))?m["$start_with?"]("["):f)===k||e.$$is_boolean&&1!=e||((e=m["$start_with?"]("[ ] "))===k||e.$$is_boolean&&1!=e?(e=(f=m["$start_with?"]("[x] "))!==!1&&f!==k?f:m["$start_with?"]("[*] "))===k||e.$$is_boolean&&1!=e||(n=!0,q=!0,m=m["$[]"](p(3,-1,!1)).$lstrip()):(n=!0,q=!1,m=m["$[]"](p(3,-1,!1)).$lstrip())),j=B.get("ListItem").$new(b,m),n!==!1&&n!==k&&(b.$attributes()["$[]="]("checklist-option",""),j.$attributes()["$[]="]("checkbox",""),q!==!1&&q!==k&&j.$attributes()["$[]="]("checked","")),(e=d)!==!1&&e!==k?e:d=g.$resolve_list_marker(h,c["$[]"](1),b.$items().$size(),!0,a),e=[d],f=j,f["$marker="].apply(f,e),e[e.length-1],l=!0),a.$advance(),r=a.$cursor(),s=B.get("Reader").$new(g.$read_lines_for_list_item(a,h,d,l),r),(e=s["$has_more_lines?"]())!==k&&(!e.$$is_boolean||1==e)){for(t=s.$skip_line_comments(),u=s.$peek_line(),((e=t["$empty?"]())===k||e.$$is_boolean&&1!=e)&&s.$unshift_lines(t),(e=u["$nil?"]()["$!"]())===k||e.$$is_boolean&&1!=e?(v=!1,w=!1):(v=u["$empty?"](),f=v["$!"](),(e=f!==!1&&f!==k?h["$=="]("dlist")["$!"]():f)===k||e.$$is_boolean&&1!=e||(l=!1),e=v["$!"](),w=e!==!1&&e!==k?u["$empty?"]()["$!"]():e),x=o(["text"],{text:l["$!"]()});(f=s["$has_more_lines?"]())!==k&&(!f.$$is_boolean||1==f);)(f=y=g.$next_block(s,j,o([],{}),x))===k||f.$$is_boolean&&1!=f||j["$<<"](y);j.$fold_first(v,w)}return h["$=="]("dlist")?(((e=(f=j["$text?"]())!==!1&&f!==k?f:j["$blocks?"]())===k||e.$$is_boolean&&1!=e)&&(j=k),[i,j]):j}),a.defs(z,"$read_lines_for_list_item",function(a,b,c,d){var e,f,g,h,i,j,l,m,n,p,r,s,t,u=this,v=k,w=k,x=k,y=k,z=k,A=k,C=k,D=k;for(null==q["~"]&&(q["~"]=k),null==c&&(c=k),null==d&&(d=!0),v=[],w="inactive",x=!1,y=k;(f=a["$has_more_lines?"]())!==k&&(!f.$$is_boolean||1==f)&&(z=a.$read_line(),(f=u["$is_sibling_list_item?"](z,b,c))===k||f.$$is_boolean&&1!=f);)if(A=function(){return(f=v["$empty?"]())===k||f.$$is_boolean&&1!=f?v["$[]"](-1):k}(),A["$=="](B.get("LIST_CONTINUATION"))&&(w["$=="]("inactive")&&(w="active",d=!0,x!==!1&&x!==k||v["$[]="](-1,"")),z["$=="](B.get("LIST_CONTINUATION"))))(f=w["$=="]("frozen")["$!"]())===k||f.$$is_boolean&&1!=f||(w="frozen",v["$<<"](z)),z=k;else{if((f=C=u["$is_delimited_block?"](z,!0))===k||f.$$is_boolean&&1!=f){if(g=(h=b["$=="]("dlist"))?w["$=="]("active")["$!"]():h,!((f=g!==!1&&g!==k?B.get("BlockAttributeLineRx")["$=~"](z):g)===k||f.$$is_boolean&&1!=f))break;if((f=(g=w["$=="]("active"))?z["$empty?"]()["$!"]():g)===k||f.$$is_boolean&&1!=f)if(h=A["$nil?"]()["$!"](),(f=h!==!1&&h!==k?A["$empty?"]():h)===k||f.$$is_boolean&&1!=f)(f=z["$empty?"]()["$!"]())===k||f.$$is_boolean&&1!=f||(d=!0),(f=D=(r=(s=function(){return x!==!1&&x!==k?["dlist"]:B.get("NESTABLE_LIST_CONTEXTS")}()).$detect,r.$$p=(t=function(a){t.$$s||this;return null==a&&(a=k),B.get("ListRxMap")["$[]"](a)["$=~"](z)},t.$$s=u,t),r).call(s))===k||f.$$is_boolean&&1!=f||(x=!0,(f=(r=D["$=="]("dlist"))?q["~"]["$[]"](3)["$nil_or_empty?"]():r)===k||f.$$is_boolean&&1!=f||(d=!1)),v["$<<"](z);else{if(!((f=z["$empty?"]())===k||f.$$is_boolean&&1!=f||(a.$skip_blank_lines(),z=a.$read_line(),(f=(h=z["$nil?"]())!==!1&&h!==k?h:u["$is_sibling_list_item?"](z,b,c))===k||f.$$is_boolean&&1!=f)))break;if(z["$=="](B.get("LIST_CONTINUATION")))y=v.$size(),v["$<<"](z);else if(d!==!1&&d!==k){if(!((f=u["$is_sibling_list_item?"](z,b,c))===k||f.$$is_boolean&&1!=f))break;if((f=D=(h=(m=B.get("NESTABLE_LIST_CONTEXTS")).$detect,h.$$p=(n=function(a){n.$$s||this;return null==a&&(a=k),B.get("ListRxMap")["$[]"](a)["$=~"](z)},n.$$s=u,n),h).call(m))===k||f.$$is_boolean&&1!=f){if((f=B.get("LiteralParagraphRx")["$=~"](z))===k||f.$$is_boolean&&1!=f)break;a.$unshift_line(z),v.$concat((f=(h=a).$read_lines_until,f.$$p=(p=function(a){var d,e=p.$$s||this;return null==a&&(a=k),(d=b["$=="]("dlist"))?e["$is_sibling_list_item?"](a,b,c):d},p.$$s=u,p),f).call(h,o(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})))}else v["$<<"](z),x=!0,(f=(h=D["$=="]("dlist"))?q["~"]["$[]"](3)["$nil_or_empty?"]():h)===k||f.$$is_boolean&&1!=f||(d=!1)}else x!==!1&&x!==k||v.$pop(),v["$<<"](z),d=!0}else(f=B.get("LiteralParagraphRx")["$=~"](z))===k||f.$$is_boolean&&1!=f?(f=(h=(j=B.get("BlockTitleRx")["$=~"](z))!==!1&&j!==k?j:B.get("BlockAttributeLineRx")["$=~"](z))!==!1&&h!==k?h:B.get("AttributeEntryRx")["$=~"](z))===k||f.$$is_boolean&&1!=f?((f=D=(h=(j=function(){return x!==!1&&x!==k?["dlist"]:B.get("NESTABLE_LIST_CONTEXTS")}()).$detect,h.$$p=(l=function(a){l.$$s||this;return null==a&&(a=k),B.get("ListRxMap")["$[]"](a)["$=~"](z)},l.$$s=u,l),h).call(j))===k||f.$$is_boolean&&1!=f||(x=!0,(f=(h=D["$=="]("dlist"))?q["~"]["$[]"](3)["$nil_or_empty?"]():h)===k||f.$$is_boolean&&1!=f||(d=!1)),v["$<<"](z),w="inactive"):v["$<<"](z):(a.$unshift_line(z),v.$concat((f=(g=a).$read_lines_until,f.$$p=(i=function(a){var d,e=i.$$s||this;return null==a&&(a=k),(d=b["$=="]("dlist"))?e["$is_sibling_list_item?"](a,b,c):d},i.$$s=u,i),f).call(g,o(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),w="inactive")}else{if(!w["$=="]("active"))break;v["$<<"](z),v.$concat(a.$read_lines_until(o(["terminator","read_last_line"],{terminator:C.$terminator(),read_last_line:!0}))),w="inactive"}z=k}for(z!==!1&&z!==k&&a.$unshift_line(z),y!==!1&&y!==k&&v.$delete_at(y);r=v["$empty?"]()["$!"](),(f=r!==!1&&r!==k?v["$[]"](-1)["$empty?"]():r)!==k&&(!f.$$is_boolean||1==f);)v.$pop();return f=v["$empty?"]()["$!"](),(e=f!==!1&&f!==k?v["$[]"](-1)["$=="](B.get("LIST_CONTINUATION")):f)===k||e.$$is_boolean&&1!=e||v.$pop(),v}),a.defs(z,"$initialize_section",function(b,c,d){var e,f,g=this,h=k,i=k,j=k,l=k,m=k,n=k,p=k,q=k,r=k,s=k;return null==d&&(d=o([],{})),h=c.$document(),(e=h.$sourcemap())===k||e.$$is_boolean&&1!=e||(i=b.$cursor()),e=a.to_ary(g.$parse_section_title(b,h)),j=null==e[0]?k:e[0],l=null==e[1]?k:e[1],m=null==e[2]?k:e[2],n=null==e[3]?k:e[3],p=null==e[4]?k:e[4],l!==!1&&l!==k&&d["$[]="]("reftext",l),q=B.get("Section").$new(c,n,h.$attributes()["$has_key?"]("sectnums")),i!==!1&&i!==k&&(e=[i],f=q,f["$source_location="].apply(f,e),e[e.length-1]),e=[j],f=q,f["$id="].apply(f,e),e[e.length-1],e=[m],f=q,f["$title="].apply(f,e),e[e.length-1],(e=d["$[]"](1))===k||e.$$is_boolean&&1!=e?(e=(f=m.$downcase()["$=="]("synopsis"))?h.$doctype()["$=="]("manpage"):f)===k||e.$$is_boolean&&1!=e?(e=["sect"+q.$level()],f=q,f["$sectname="].apply(f,e),e[e.length-1]):(e=[!0],f=q,f["$special="].apply(f,e),e[e.length-1],e=["synopsis"],f=q,f["$sectname="].apply(f,e),e[e.length-1]):(e=a.to_ary(g.$parse_style_attribute(d,b)),r=null==e[0]?k:e[0],p=null==e[1]?k:e[1],r!==!1&&r!==k?(e=[r],f=q,f["$sectname="].apply(f,e),e[e.length-1],e=[!0],f=q,f["$special="].apply(f,e),e[e.length-1],(e=(f=q.$sectname()["$=="]("abstract"))?h.$doctype()["$=="]("book"):f)===k||e.$$is_boolean&&1!=e||(e=["sect1"],f=q,f["$sectname="].apply(f,e),e[e.length-1],e=[!1],f=q,f["$special="].apply(f,e),e[e.length-1],e=[1],f=q,f["$level="].apply(f,e),e[e.length-1])):(e=["sect"+q.$level()],f=q,f["$sectname="].apply(f,e),e[e.length-1])),f=q.$id()["$!"](),(e=f!==!1&&f!==k?s=d["$[]"]("id"):f)===k||e.$$is_boolean&&1!=e?(e=q,(f=e.$id())!==!1&&f!==k?f:e["$id="](q.$generate_id())):(e=[s],f=q,f["$id="].apply(f,e),e[e.length-1]),(e=q.$id())===k||e.$$is_boolean&&1!=e||q.$document().$register("ids",[q.$id(),(e=d["$[]"]("reftext"))!==!1&&e!==k?e:q.$title()]),q.$update_attributes(d),b.$skip_blank_lines(),q}),a.defs(z,"$section_level",function(a){return B.get("SECTION_LEVELS")["$[]"](a.$chr())}),a.defs(z,"$single_line_section_level",function(a){return f(a.$length(),1)}),a.defs(z,"$is_next_line_section?",function(a,b){var c,d,e,f,g=this,h=k,i=k;return e=(h=b["$[]"](1))["$nil?"]()["$!"](),d=e!==!1&&e!==k?(f=(i=h["$[]"](0).$ord())["$=="](100))!==!1&&f!==k?f:i["$=="](102):e,(c=d!==!1&&d!==k?h["$=~"](B.get("FloatingTitleStyleRx")):d)===k||c.$$is_boolean&&1!=c?(c=a["$has_more_lines?"]())===k||c.$$is_boolean&&1!=c?!1:(c=B.get("Compliance").$underline_style_section_titles())===k||c.$$is_boolean&&1!=c?g["$is_section_title?"](a.$peek_line()):(c=g)["$is_section_title?"].apply(c,[].concat(a.$peek_lines(2))):!1}),a.defs(z,"$is_next_line_document_title?",function(a,b){var c=this;return c["$is_next_line_section?"](a,b)["$=="](0)}),a.defs(z,"$is_section_title?",function(a,b){var c,d,e=this,f=k;return null==b&&(b=k),((c=f=e["$is_single_line_section_title?"](a))===k||c.$$is_boolean&&1!=c)&&((c=(d=b!==!1&&b!==k)?f=e["$is_two_line_section_title?"](a,b):d)===k||c.$$is_boolean&&1!=c)?!1:f}),a.defs(z,"$is_single_line_section_title?",function(a){var b,c,d,e,f=this,g=k,h=k;return g=function(){return a!==!1&&a!==k?a.$chr():k}(),c=(d=g["$=="]("="))!==!1&&d!==k?d:(e=B.get("Compliance").$markdown_syntax(),e!==!1&&e!==k?g["$=="]("#"):e),(b=c!==!1&&c!==k?h=B.get("AtxSectionRx").$match(a):c)===k||b.$$is_boolean&&1!=b?!1:f.$single_line_section_level(h["$[]"](1))}),a.defs(z,"$is_two_line_section_title?",function(a,b){var c,d,e,h,i,j,l=this;return i=(j=a!==!1&&a!==k)?b:j,h=i!==!1&&i!==k?B.get("SECTION_LEVELS")["$has_key?"](b.$chr()):i,e=h!==!1&&h!==k?b["$=~"](B.get("SetextSectionLineRx")):h,d=e!==!1&&e!==k?a["$=~"](B.get("SetextSectionTitleRx")):e,(c=d!==!1&&d!==k?g(f(l.$line_length(a),l.$line_length(b)).$abs(),1):d)===k||c.$$is_boolean&&1!=c?!1:l.$section_level(b)}),a.defs(z,"$parse_section_title",function(a,c){var d,h,i,j,l,m=this,n=k,o=k,p=k,q=k,r=k,s=k,t=k,u=k,v=k,w=k,x=k;return n=a.$read_line(),o=k,p=k,q=-1,r=k,s=!0,t=n.$chr(),h=(i=t["$=="]("="))!==!1&&i!==k?i:(j=B.get("Compliance").$markdown_syntax(),j!==!1&&j!==k?t["$=="]("#"):j),(d=h!==!1&&h!==k?u=B.get("AtxSectionRx").$match(n):h)===k||d.$$is_boolean&&1!=d?(d=B.get("Compliance").$underline_style_section_titles())===k||d.$$is_boolean&&1!=d||(l=w=a.$peek_line(!0),j=l!==!1&&l!==k?B.get("SECTION_LEVELS")["$has_key?"](w.$chr()):l,i=j!==!1&&j!==k?w["$=~"](B.get("SetextSectionLineRx")):j,h=i!==!1&&i!==k?x=B.get("SetextSectionTitleRx").$match(n):i,(d=h!==!1&&h!==k?g(f(m.$line_length(n),m.$line_length(w)).$abs(),1):h)===k||d.$$is_boolean&&1!=d||(p=x["$[]"](1),h=p["$end_with?"]("]]"),(d=h!==!1&&h!==k?v=B.get("InlineSectionAnchorRx").$match(p):h)===k||d.$$is_boolean&&1!=d||(d=v["$[]"](2)["$nil?"]())===k||d.$$is_boolean&&1!=d||(p=v["$[]"](1),o=v["$[]"](3),r=v["$[]"](4)),q=m.$section_level(w),s=!1,a.$advance())):(q=m.$single_line_section_level(u["$[]"](1)),p=u["$[]"](2),h=p["$end_with?"]("]]"),(d=h!==!1&&h!==k?v=B.get("InlineSectionAnchorRx").$match(p):h)===k||d.$$is_boolean&&1!=d||(d=v["$[]"](2)["$nil?"]())===k||d.$$is_boolean&&1!=d||(p=v["$[]"](1),o=v["$[]"](3),r=v["$[]"](4))),e(q,0)&&(q=b(q,c.$attr("leveloffset",0).$to_i())),[o,r,p,q,s]}),a.defs(z,"$line_length",function(a){var b;return(b=B.get("FORCE_UNICODE_LINE_LENGTH"))===k||b.$$is_boolean&&1!=b?a.$length():a.$scan(B.get("UnicodeCharScanRx")).$length()}),a.defs(z,"$parse_header_metadata",function(d,e){var f,g,h,i,j,l,m=this,n=k,q=k,r=k,s=k,t=k,u=k,v=k,w=k,x=k,y=k,z=k;if(null==e&&(e=k),m.$process_attribute_entries(d,e),n=o([],{}),q=k,r=k,g=d["$has_more_lines?"](),(f=g!==!1&&g!==k?d["$next_line_empty?"]()["$!"]():g)===k||f.$$is_boolean&&1!=f||(s=m.$process_authors(d.$read_line()),((f=s["$empty?"]())===k||f.$$is_boolean&&1!=f)&&(e!==!1&&e!==k&&((f=(g=s).$each,f.$$p=(h=function(b,c){var d;h.$$s||this;return null==b&&(b=k),null==c&&(c=k),(d=e.$attributes()["$has_key?"](b))===k||d.$$is_boolean&&1!=d?e.$attributes()["$[]="](b,function(){return(d=c["$is_a?"](a.get("String")))===k||d.$$is_boolean&&1!=d?c:e.$apply_header_subs(c)}()):k},h.$$s=m,h),f).call(g),q=e.$attributes()["$[]"]("author"),r=e.$attributes()["$[]"]("authors")),n=s),m.$process_attribute_entries(d,e),t=o([],{}),i=d["$has_more_lines?"](),(f=i!==!1&&i!==k?d["$next_line_empty?"]()["$!"]():i)===k||f.$$is_boolean&&1!=f||(u=d.$read_line(),(f=v=B.get("RevisionInfoLineRx").$match(u))===k||f.$$is_boolean&&1!=f?d.$unshift_line(u):((f=v["$[]"](1))===k||f.$$is_boolean&&1!=f||t["$[]="]("revnumber",v["$[]"](1).$rstrip()),(w=v["$[]"](2).$strip())["$=="]("")||(i=v["$[]"](1)["$!"](),(f=i!==!1&&i!==k?w["$start_with?"]("v"):i)===k||f.$$is_boolean&&1!=f?t["$[]="]("revdate",w):t["$[]="]("revnumber",w["$[]"](p(1,-1,!1)))),(f=v["$[]"](3))===k||f.$$is_boolean&&1!=f||t["$[]="]("revremark",v["$[]"](3).$rstrip()))),((f=t["$empty?"]())===k||f.$$is_boolean&&1!=f)&&(e!==!1&&e!==k&&(f=(i=t).$each,f.$$p=(j=function(a,b){var c;j.$$s||this;return null==a&&(a=k),null==b&&(b=k),(c=e.$attributes()["$has_key?"](a))===k||c.$$is_boolean&&1!=c?e.$attributes()["$[]="](a,e.$apply_header_subs(b)):k},j.$$s=m,j),f).call(i),n.$update(t)),m.$process_attribute_entries(d,e),d.$skip_blank_lines()),e!==!1&&e!==k){if(s=k,l=e.$attributes()["$has_key?"]("author"),(f=l!==!1&&l!==k?(x=e.$attributes()["$[]"]("author"))["$=="](q)["$!"]():l)===k||f.$$is_boolean&&1!=f)if(l=e.$attributes()["$has_key?"]("authors"),(f=l!==!1&&l!==k?(x=e.$attributes()["$[]"]("authors"))["$=="](r)["$!"]():l)===k||f.$$is_boolean&&1!=f){for(y=[],z="author_"+b(y.$size(),1);(l=e.$attributes()["$has_key?"](z))!==k&&(!l.$$is_boolean||1==l);)y["$<<"](e.$attributes()["$[]"](z)),z="author_"+b(y.$size(),1);y.$size()["$=="](1)?s=m.$process_authors(y["$[]"](0),!0,!1):c(y.$size(),1)&&(s=m.$process_authors(y.$join("; "),!0))}else s=m.$process_authors(x,!0);else s=m.$process_authors(x,!0,!1);s!==!1&&s!==k&&(e.$attributes().$update(s),l=e.$attributes()["$has_key?"]("email")["$!"](),(f=l!==!1&&l!==k?e.$attributes()["$has_key?"]("email_1"):l)===k||f.$$is_boolean&&1!=f||e.$attributes()["$[]="]("email",e.$attributes()["$[]"]("email_1")))}return n}),a.defs(z,"$process_authors",function(a,c,d){var e,f,g,h,i,j=this,l=k,m=k,n=k;return null==c&&(c=!1),null==d&&(d=!0),l=o([],{}),m=["author","authorinitials","firstname","middlename","lastname","email"],n=function(){return d!==!1&&d!==k?(e=(f=a.$split(";")).$map,e.$$p=(g=function(a){g.$$s||this;return null==a&&(a=k),a.$strip()},g.$$s=j,g),e).call(f):[a]}(),(e=(h=n).$each_with_index,e.$$p=(i=function(a,d){var e,f,g,h,j,n,p,q=i.$$s||this,r=k,s=k,t=k,u=k,v=k,w=k;return null==a&&(a=k),null==d&&(d=k),(e=a["$empty?"]())===k||e.$$is_boolean&&1!=e?(r=o([],{}),(e=d["$zero?"]())===k||e.$$is_boolean&&1!=e?(e=(h=m).$each,e.$$p=(j=function(a){j.$$s||this;return null==a&&(a=k),r["$[]="](a.$to_sym(),""+a+"_"+b(d,1))},j.$$s=q,j),e).call(h):(e=(f=m).$each,e.$$p=(g=function(a){g.$$s||this;return null==a&&(a=k),r["$[]="](a.$to_sym(),a)},g.$$s=q,g),e).call(f),s=k,c!==!1&&c!==k?s=a.$split(" ",3):(e=t=B.get("AuthorInfoLineRx").$match(a))===k||e.$$is_boolean&&1!=e||(s=t.$to_a(),s.$shift()),(e=s["$nil?"]())===k||e.$$is_boolean&&1!=e?(l["$[]="](r["$[]"]("firstname"),u=s["$[]"](0).$tr("_"," ")),l["$[]="](r["$[]"]("author"),u),l["$[]="](r["$[]"]("authorinitials"),u["$[]"](0,1)),n=s["$[]"](1)["$nil?"]()["$!"](),(e=n!==!1&&n!==k?s["$[]"](2)["$nil?"]()["$!"]():n)===k||e.$$is_boolean&&1!=e?(e=s["$[]"](1)["$nil?"]()["$!"]())===k||e.$$is_boolean&&1!=e||(l["$[]="](r["$[]"]("lastname"),w=s["$[]"](1).$tr("_"," ")),l["$[]="](r["$[]"]("author"),[u,w].$join(" ")),l["$[]="](r["$[]"]("authorinitials"),[u["$[]"](0,1),w["$[]"](0,1)].$join())):(l["$[]="](r["$[]"]("middlename"),v=s["$[]"](1).$tr("_"," ")),l["$[]="](r["$[]"]("lastname"),w=s["$[]"](2).$tr("_"," ")),l["$[]="](r["$[]"]("author"),[u,v,w].$join(" ")),l["$[]="](r["$[]"]("authorinitials"),[u["$[]"](0,1),v["$[]"](0,1),w["$[]"](0,1)].$join())),((e=(n=c)!==!1&&n!==k?n:s["$[]"](3)["$nil?"]())===k||e.$$is_boolean&&1!=e)&&l["$[]="](r["$[]"]("email"),s["$[]"](3))):(l["$[]="](r["$[]"]("author"),l["$[]="](r["$[]"]("firstname"),u=a.$strip().$tr_s(" "," "))),l["$[]="](r["$[]"]("authorinitials"),u["$[]"](0,1))),l["$[]="]("authorcount",b(d,1)),d["$=="](1)&&(e=(n=m).$each,e.$$p=(p=function(a){var b;p.$$s||this;return null==a&&(a=k),(b=l["$has_key?"](a))===k||b.$$is_boolean&&1!=b?k:l["$[]="](""+a+"_1",l["$[]"](a))},p.$$s=q,p),e).call(n),(e=d["$zero?"]())===k||e.$$is_boolean&&1!=e?l["$[]="]("authors",""+l["$[]"]("authors")+", "+l["$[]"](r["$[]"]("author"))):l["$[]="]("authors",l["$[]"](r["$[]"]("author")))):k},i.$$s=j,i),e).call(h),l}),a.defs(z,"$parse_block_metadata_lines",function(a,b,c,d){var e,f=this;for(null==c&&(c=o([],{})),null==d&&(d=o([],{}));(e=f.$parse_block_metadata_line(a,b,c,d))!==k&&(!e.$$is_boolean||1==e);)a.$advance(),a.$skip_blank_lines();return c}),a.defs(z,"$parse_block_metadata_line",function(a,b,c,d){var e,f,g,h=this,i=k,j=k,l=k,m=k,n=k;if(null==d&&(d=o([],{})),(e=a["$has_more_lines?"]())===k||e.$$is_boolean&&1!=e)return!1;if(i=a.$peek_line(),f=j=i["$start_with?"]("//"),(e=f!==!1&&f!==k?l=B.get("CommentBlockRx").$match(i):f)===k||e.$$is_boolean&&1!=e)if((e=(f=j!==!1&&j!==k)?B.get("CommentLineRx")["$=~"](i):f)===k||e.$$is_boolean&&1!=e)if(g=d["$[]"]("text")["$!"](),f=g!==!1&&g!==k?i["$start_with?"](":"):g,(e=f!==!1&&f!==k?l=B.get("AttributeEntryRx").$match(i):f)===k||e.$$is_boolean&&1!=e)if(g=i["$start_with?"]("["),f=n=g!==!1&&g!==k?i["$end_with?"]("]"):g,(e=f!==!1&&f!==k?l=B.get("BlockAnchorRx").$match(i):f)===k||e.$$is_boolean&&1!=e)if((e=(f=n!==!1&&n!==k)?l=B.get("BlockAttributeListRx").$match(i):f)===k||e.$$is_boolean&&1!=e){if(f=d["$[]"]("text")["$!"](),(e=f!==!1&&f!==k?l=B.get("BlockTitleRx").$match(i):f)===k||e.$$is_boolean&&1!=e)return!1;c["$[]="]("title",l["$[]"](1))}else b.$document().$parse_attributes(l["$[]"](1),[],o(["sub_input","into"],{sub_input:!0,into:c}));else((e=l["$[]"](1)["$nil_or_empty?"]())===k||e.$$is_boolean&&1!=e)&&(c["$[]="]("id",l["$[]"](1)),((e=l["$[]"](2)["$nil?"]())===k||e.$$is_boolean&&1!=e)&&c["$[]="]("reftext",l["$[]"](2)));else h.$process_attribute_entry(a,b,c,l);else;else m=l["$[]"](0),a.$read_lines_until(o(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:m,skip_processing:!0}));return!0}),a.defs(z,"$process_attribute_entries",function(a,b,c){var d,e=this;for(null==c&&(c=k),a.$skip_comment_lines();(d=e.$process_attribute_entry(a,b,c))!==k&&(!d.$$is_boolean||1==d);)a.$advance(),a.$skip_comment_lines()}),a.defs(z,"$process_attribute_entry",function(a,b,c,d){var e,f,g=this,h=k,i=k,j=k,l=k,m=k,n=k;if(null==c&&(c=k),null==d&&(d=k),(e=d)!==!1&&e!==k?e:d=function(){return(f=a["$has_more_lines?"]())===k||f.$$is_boolean&&1!=f?k:B.get("AttributeEntryRx").$match(a.$peek_line())}(),d!==!1&&d!==k){if(h=d["$[]"](1),(e=(i=(f=d["$[]"](2))!==!1&&f!==k?f:"")["$empty?"]())===k||e.$$is_boolean&&1!=e){if((e=(f=i["$end_with?"](j=B.get("LINE_CONTINUATION")))!==!1&&f!==k?f:i["$end_with?"](j=B.get("LINE_CONTINUATION_LEGACY")))!==k&&(!e.$$is_boolean||1==e))for(i=i.$chop().$rstrip();(f=a.$advance())!==k&&(!f.$$is_boolean||1==f)&&((f=(l=a.$peek_line().$strip())["$empty?"]())===k||f.$$is_boolean&&1!=f)&&((f=m=l["$end_with?"](j))===k||f.$$is_boolean&&1!=f||(l=l.$chop().$rstrip()),n=function(){return(f=i["$end_with?"](B.get("LINE_BREAK")))===k||f.$$is_boolean&&1!=f?" ":B.get("EOL")}(),i=""+i+n+l,m!==!1&&m!==k););}else;return g.$store_attribute(h,i,function(){return b!==!1&&b!==k?b.$document():k}(),c),!0}return!1}),a.defs(z,"$store_attribute",function(a,c,d,e){var g,h,i=this,j=k,l=k;return null==d&&(d=k),null==e&&(e=k),(g=a["$end_with?"]("!"))===k||g.$$is_boolean&&1!=g?(g=a["$start_with?"]("!"))===k||g.$$is_boolean&&1!=g||(c=k,a=a["$[]"](p(1,-1,!1))):(c=k,a=a.$chop()),a=i.$sanitize_attribute_name(a),j=!0,d!==!1&&d!==k&&(a["$=="]("numbered")?a="sectnums":a["$=="]("leveloffset")&&c!==!1&&c!==k&&(l=c.$chr(),"+"["$==="](l)?c=b(d.$attr("leveloffset",0).$to_i(),((g=c["$[]"](p(1,-1,!1)))!==!1&&g!==k?g:0).$to_i()).$to_s():"-"["$==="](l)&&(c=f(d.$attr("leveloffset",0).$to_i(),((g=c["$[]"](p(1,-1,!1)))!==!1&&g!==k?g:0).$to_i()).$to_s())),j=function(){return c!==!1&&c!==k?d.$set_attribute(a,c):d.$delete_attribute(a)}()),(g=(h=j!==!1&&j!==k)?e:h)===k||g.$$is_boolean&&1!=g||(c!==!1&&c!==k&&(c=d.$attributes()["$[]"](a)),B.get("Document").$$scope.get("AttributeEntry").$new(a,c).$save_to(e)),[a,c]}),a.defs(z,"$resolve_list_marker",function(a,b,c,d,e){var f,g,h=this;return null==c&&(c=0),null==d&&(d=!1),null==e&&(e=k),(f=(g=a["$=="]("olist"))?b["$start_with?"](".")["$!"]():g)===k||f.$$is_boolean&&1!=f?a["$=="]("colist")?"<1>":b:h.$resolve_ordered_list_marker(b,c,d,e)}),a.defs(z,"$resolve_ordered_list_marker",function(a,c,d,e){var f,g,h,i,j=this,l=k,m=k,n=k,o=k;return null==c&&(c=0),null==d&&(d=!1),null==e&&(e=k),l=(f=(g=B.get("ORDERED_LIST_STYLES")).$detect,f.$$p=(h=function(b){h.$$s||this;return null==b&&(b=k),B.get("OrderedListMarkerRxMap")["$[]"](b)["$=~"](a)},h.$$s=j,h),f).call(g),m=n=k,o=l,"arabic"["$==="](o)?(d!==!1&&d!==k&&(m=b(c,1),n=a.$to_i()),a="1."):"loweralpha"["$==="](o)?(d!==!1&&d!==k&&(m=b("a"["$[]"](0).$ord(),c).$chr(),n=a.$chomp(".")),a="a."):"upperalpha"["$==="](o)?(d!==!1&&d!==k&&(m=b("A"["$[]"](0).$ord(),c).$chr(),n=a.$chomp(".")),a="A."):"lowerroman"["$==="](o)?(d!==!1&&d!==k&&(m=b(c,1),n=j.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](o)&&(d!==!1&&d!==k&&(m=b(c,1),n=j.$roman_numeral_to_int(a.$chomp(")"))),a="I)"),(f=(i=d!==!1&&d!==k)?m["$=="](n)["$!"]():i)===k||f.$$is_boolean&&1!=f||j.$warn("asciidoctor: WARNING: "+e.$line_info()+": list item index: expected "+m+", got "+n),a}),a.defs(z,"$is_sibling_list_item?",function(b,c,d){var e,f=this,g=k,h=k,i=k;return(e=d["$is_a?"](a.get("Regexp")))===k||e.$$is_boolean&&1!=e?(g=B.get("ListRxMap")["$[]"](c),h=d):(g=d,h=!1),(e=i=g.$match(b))===k||e.$$is_boolean&&1!=e?!1:h!==!1&&h!==k?h["$=="](f.$resolve_list_marker(c,i["$[]"](1))):!0}),a.defs(z,"$next_table",function(c,d,e){var f,g,h,j,l,m,n,o=this,q=k,r=k,s=k,t=k,u=k,v=k,w=k,x=k,y=k,z=k,A=k,C=k;for(q=B.get("Table").$new(d,e),(f=e["$has_key?"]("title"))===k||f.$$is_boolean&&1!=f||(f=[e.$delete("title")],g=q,g["$title="].apply(g,f),f[f.length-1],q.$assign_caption(e.$delete("caption"))),(f=e["$[]"]("cols")["$nil_or_empty?"]())===k||f.$$is_boolean&&1!=f?(q.$create_columns(o.$parse_col_specs(e["$[]"]("cols"))),r=!0):r=!1,s=c.$skip_blank_lines(),t=B.get("Table").$$scope.get("ParserContext").$new(c,q,e),u=-1;(g=c["$has_more_lines?"]())!==k&&(!g.$$is_boolean||1==g);){for(u=b(u,1),v=c.$read_line(),l=(m=s["$=="](0))?u["$zero?"]():m,j=l!==!1&&l!==k?e["$has_key?"]("options")["$!"]():l,h=j!==!1&&j!==k?(w=c.$peek_line())["$nil?"]()["$!"]():j,(g=h!==!1&&h!==k?w["$empty?"]():h)===k||g.$$is_boolean&&1!=g||(g=[!0],h=q,h["$has_header_option="].apply(h,g),
g[g.length-1],q.$set_option("header")),t.$format()["$=="]("psv")&&((g=t["$starts_with_delimiter?"](v))===k||g.$$is_boolean&&1!=g?(g=a.to_ary(o.$parse_cell_spec(v,"start",t.$delimiter())),x=null==g[0]?k:g[0],v=null==g[1]?k:g[1],(g=x["$nil?"]()["$!"]())===k||g.$$is_boolean&&1!=g||t.$close_open_cell(x)):(v=v["$[]"](p(1,-1,!1)),t.$close_open_cell())),y=!1;(h=(j=y["$!"]())!==!1&&j!==k?j:v["$empty?"]()["$!"]())!==k&&(!h.$$is_boolean||1==h);)if(y=!0,(h=z=t.$match_delimiter(v))===k||h.$$is_boolean&&1!=h)h=[""+t.$buffer()+v+B.get("EOL")],j=t,j["$buffer="].apply(j,h),h[h.length-1],t.$format()["$=="]("csv")&&(h=[""+t.$buffer().$rstrip()+" "],j=t,j["$buffer="].apply(j,h),h[h.length-1]),v="",(h=(j=t.$format()["$=="]("psv"))!==!1&&j!==k?j:(l=t.$format()["$=="]("csv"))?t["$buffer_has_unclosed_quotes?"]():l)===k||h.$$is_boolean&&1!=h?t.$close_cell(!0):t.$keep_cell_open();else{if(t.$format()["$=="]("csv")){if((h=t["$buffer_has_unclosed_quotes?"](z.$pre_match()))!==k&&(!h.$$is_boolean||1==h)){v=t.$skip_matched_delimiter(z);continue}}else if((h=z.$pre_match()["$end_with?"]("\\"))!==k&&(!h.$$is_boolean||1==h)){if((h=(v=t.$skip_matched_delimiter(z,!0))["$empty?"]())!==k&&(!h.$$is_boolean||1==h)){h=[""+t.$buffer()+B.get("EOL")],j=t,j["$buffer="].apply(j,h),h[h.length-1],t.$keep_cell_open();break}continue}t.$format()["$=="]("psv")?(h=a.to_ary(o.$parse_cell_spec(z.$pre_match(),"end")),x=null==h[0]?k:h[0],A=null==h[1]?k:h[1],t.$push_cell_spec(x),h=[""+t.$buffer()+A],j=t,j["$buffer="].apply(j,h),h[h.length-1]):(h=[""+t.$buffer()+z.$pre_match()],j=t,j["$buffer="].apply(j,h),h[h.length-1]),(v=z.$post_match())["$=="]("")&&(y=!1),t.$close_cell()}((g=t["$cell_open?"]())===k||g.$$is_boolean&&1!=g)&&(s=c.$skip_blank_lines()),((g=c["$has_more_lines?"]())===k||g.$$is_boolean&&1!=g)&&((g=t["$cell_open?"]())===k||g.$$is_boolean&&1!=g||t.$close_cell(!0))}return f="colcount",g=q.$attributes(),(h=g["$[]"](f))!==!1&&h!==k?h:g["$[]="](f,t.$col_count()),(f=r["$!"]())===k||f.$$is_boolean&&1!=f||(C=i(100,t.$col_count()).$floor(),(f=(g=q.$columns()).$each,f.$$p=(n=function(a){n.$$s||this;return null==a&&(a=k),a.$assign_width(0,C)},n.$$s=o,n),f).call(g)),q.$partition_header_footer(e),q}),a.defs(z,"$parse_col_specs",function(b){var c,d,e,f,g,h=this,i=k;return(c=B.get("DigitsRx")["$=~"](b))===k||c.$$is_boolean&&1!=c?(i=[],(c=(f=b.$split(",",-1)).$each,c.$$p=(g=function(b){var c,d,e,f=g.$$s||this,h=k,j=k,l=k,m=k;return null==b&&(b=k),b["$=="]("")?i["$<<"](o(["width"],{width:1})):(c=h=B.get("ColumnSpecRx").$match(b))===k||c.$$is_boolean&&1!=c?k:(j=o([],{}),(c=h["$[]"](2))===k||c.$$is_boolean&&1!=c||(c=a.to_ary(h["$[]"](2).$split(".")),l=null==c[0]?k:c[0],m=null==c[1]?k:c[1],d=l["$nil_or_empty?"]()["$!"](),(c=d!==!1&&d!==k?B.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](l):d)===k||c.$$is_boolean&&1!=c||j["$[]="]("halign",B.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](l)),d=m["$nil_or_empty?"]()["$!"](),(c=d!==!1&&d!==k?B.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](m):d)===k||c.$$is_boolean&&1!=c||j["$[]="]("valign",B.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](m))),j["$[]="]("width",function(){return(c=h["$[]"](3))===k||c.$$is_boolean&&1!=c?1:h["$[]"](3).$to_i()}()),d=h["$[]"](4),(c=d!==!1&&d!==k?B.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](h["$[]"](4)):d)===k||c.$$is_boolean&&1!=c||j["$[]="]("style",B.get("Table").$$scope.get("TEXT_STYLES")["$[]"](h["$[]"](4))),(c=h["$[]"](1))===k||c.$$is_boolean&&1!=c?i["$<<"](j):(c=(d=1).$upto,c.$$p=(e=function(){e.$$s||this;return i["$<<"](j.$dup())},e.$$s=f,e),c).call(d,h["$[]"](1).$to_i()))},g.$$s=h,g),c).call(f),i):(c=(d=a.get("Array")).$new,c.$$p=(e=function(){e.$$s||this;return o(["width"],{width:1})},e.$$s=h,e),c).call(d,b.$to_i())}),a.defs(z,"$parse_cell_spec",function(b,c,d){var e,f,g=k,h=k,i=k,j=k,l=k,m=k,n=k;if(null==c&&(c="start"),null==d&&(d=k),g=k,h="",i=c,"start"["$==="](i)){if((e=b["$include?"](d))===k||e.$$is_boolean&&1!=e)return[k,b];if(e=a.to_ary(b.$split(d,2)),j=null==e[0]?k:e[0],h=null==e[1]?k:e[1],(e=g=B.get("CellSpecStartRx").$match(j))===k||e.$$is_boolean&&1!=e)return[k,b];if((e=g["$[]"](0)["$empty?"]())!==k&&(!e.$$is_boolean||1==e))return[o([],{}),h]}else if("end"["$==="](i)){if((e=g=B.get("CellSpecEndRx").$match(b))===k||e.$$is_boolean&&1!=e)return[o([],{}),b];if((e=g["$[]"](0).$lstrip()["$empty?"]())!==k&&(!e.$$is_boolean||1==e))return[o([],{}),b.$rstrip()];h=g.$pre_match()}return l=o([],{}),(e=g["$[]"](1))===k||e.$$is_boolean&&1!=e||(e=a.to_ary(g["$[]"](1).$split(".")),m=null==e[0]?k:e[0],n=null==e[1]?k:e[1],m=function(){return(e=m["$nil_or_empty?"]())===k||e.$$is_boolean&&1!=e?m.$to_i():1}(),n=function(){return(e=n["$nil_or_empty?"]())===k||e.$$is_boolean&&1!=e?n.$to_i():1}(),g["$[]"](2)["$=="]("+")?(m["$=="](1)||l["$[]="]("colspan",m),n["$=="](1)||l["$[]="]("rowspan",n)):g["$[]"](2)["$=="]("*")&&(m["$=="](1)||l["$[]="]("repeatcol",m))),(e=g["$[]"](3))===k||e.$$is_boolean&&1!=e||(e=a.to_ary(g["$[]"](3).$split(".")),m=null==e[0]?k:e[0],n=null==e[1]?k:e[1],f=m["$nil_or_empty?"]()["$!"](),(e=f!==!1&&f!==k?B.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](m):f)===k||e.$$is_boolean&&1!=e||l["$[]="]("halign",B.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](m)),f=n["$nil_or_empty?"]()["$!"](),(e=f!==!1&&f!==k?B.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](n):f)===k||e.$$is_boolean&&1!=e||l["$[]="]("valign",B.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](n))),f=g["$[]"](4),(e=f!==!1&&f!==k?B.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](g["$[]"](4)):f)===k||e.$$is_boolean&&1!=e||l["$[]="]("style",B.get("Table").$$scope.get("TEXT_STYLES")["$[]"](g["$[]"](4))),[l,h]}),a.defs(z,"$parse_style_attribute",function(a,c){var e,f,g,h,i,j,l,m=this,n=k,p=k,q=k,r=k,s=k,t=k,u=k,v=k,w=k;return null==c&&(c=k),n=a["$[]"]("style"),p=a["$[]"](1),f=(g=p!==!1&&p!==k)?p["$include?"](" ")["$!"]():g,(e=f!==!1&&f!==k?B.get("Compliance").$shorthand_property_syntax():f)===k||e.$$is_boolean&&1!=e?(a["$[]="]("style",p),[p,n]):(q="style",r=[],s=o([],{}),t=(e=(f=m).$lambda,e.$$p=(h=function(){var a,b,d,e=h.$$s||this,f=k;return(a=r["$empty?"]())===k||a.$$is_boolean&&1!=a?(f=q,"role"["$==="](f)||"option"["$==="](f)?(a=q,b=s,(d=b["$[]"](a))!==!1&&d!==k?d:b["$[]="](a,[]),s["$[]"](q).$push(r.$join())):"id"["$==="](f)?((a=s["$has_key?"]("id"))===k||a.$$is_boolean&&1!=a||e.$warn("asciidoctor: WARNING:"+function(){return(a=c["$nil?"]())===k||a.$$is_boolean&&1!=a?" "+c.$prev_line_info()+":":k}()+" multiple ids detected in style attribute"),s["$[]="](q,r.$join())):s["$[]="](q,r.$join()),r=[]):(a=q["$=="]("style")["$!"]())===k||a.$$is_boolean&&1!=a?k:e.$warn("asciidoctor: WARNING:"+function(){return(a=c["$nil?"]())===k||a.$$is_boolean&&1!=a?" "+c.$prev_line_info()+":":k}()+" invalid empty "+q+" detected in style attribute")},h.$$s=m,h),e).call(f),(e=(g=p).$each_char,e.$$p=(i=function(a){var b,c,d,e=(i.$$s||this,k);return null==a&&(a=k),(b=(c=(d=a["$=="]("."))!==!1&&d!==k?d:a["$=="]("#"))!==!1&&c!==k?c:a["$=="]("%"))===k||b.$$is_boolean&&1!=b?r.$push(a):(t.$call(),function(){return e=a,"."["$==="](e)?q="role":"#"["$==="](e)?q="id":"%"["$==="](e)?q="option":k}())},i.$$s=m,i),e).call(g),q["$=="]("style")?u=a["$[]="]("style",p):(t.$call(),u=(e=s["$has_key?"]("style"))===k||e.$$is_boolean&&1!=e?k:a["$[]="]("style",s["$[]"]("style")),(e=s["$has_key?"]("id"))===k||e.$$is_boolean&&1!=e||a["$[]="]("id",s["$[]"]("id")),(e=s["$has_key?"]("role"))===k||e.$$is_boolean&&1!=e||a["$[]="]("role",d(s["$[]"]("role")," ")),(e=s["$has_key?"]("option"))===k||e.$$is_boolean&&1!=e||((e=(j=v=s["$[]"]("option")).$each,e.$$p=(l=function(b){l.$$s||this;return null==b&&(b=k),a["$[]="](""+b+"-option","")},l.$$s=m,l),e).call(j),(e=w=a["$[]"]("options"))===k||e.$$is_boolean&&1!=e?a["$[]="]("options",d(v,",")):a["$[]="]("options",d(b(v,w.$split(",")),",")))),[u,n])}),a.defs(z,"$adjust_indentation!",function(a,e,g){var h,i,j,m,n,o,r,s,t,u,v,w=this,x=k,y=k,z=k;return null==e&&(e=0),null==g&&(g=0),(h=a["$empty?"]())===k||h.$$is_boolean&&1!=h?((h=(i=c(g=g.$to_i(),0))?a.$join()["$include?"](B.get("TAB")):i)===k||h.$$is_boolean&&1!=h||(x=d(" ",g),(h=(i=a)["$map!"],h.$$p=(j=function(a){var c,e,h,i,l,m=j.$$s||this,n=k;return null==a&&(a=k),(c=a["$empty?"]())===k||c.$$is_boolean&&1!=c?((c=a["$start_with?"](B.get("TAB")))===k||c.$$is_boolean&&1!=c||(c=(e=a)["$sub!"],c.$$p=(h=function(a){h.$$s||this;return null==a&&(a=k),d(x,a.$length())},h.$$s=m,h),c).call(e,B.get("TabIndentRx")),(c=a["$include?"](B.get("TAB")))===k||c.$$is_boolean&&1!=c?a:(n=0,(c=(i=a)["$gsub!"],c.$$p=(l=function(){var a=(l.$$s||this,k),c=k;return null==q["~"]&&(q["~"]=k),(a=b(q["~"].$begin(0),n))["$%"](g)["$=="](0)?(n=b(n,f(g,1)),x):((c=f(g,a["$%"](g)))["$=="](1)||(n=b(n,f(c,1))),d(" ",c))},l.$$s=m,l),c).call(i,B.get("TabRx")))):a},j.$$s=w,j),h).call(i)),(h=(m=e!==!1&&e!==k)?c(e=e.$to_i(),-1):m)===k||h.$$is_boolean&&1!=h?k:(y=k,(h=(m=a).$each,h.$$p=(n=function(a){var b,d,e=(n.$$s||this,k);return null==a&&(a=k),(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?(e=f(a.$length(),a.$lstrip().$length()))["$=="](0)?(y=k,l.$v=k,l):(b=(d=y!==!1&&y!==k)?c(e,y):d)===k||b.$$is_boolean&&1!=b?y=e:k:k},n.$$s=w,n),h).call(m),e["$=="](0)?y!==!1&&y!==k&&(h=(o=a)["$map!"],h.$$p=(r=function(a){var b;r.$$s||this;return null==a&&(a=k),(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?a["$[]"](p(y,-1,!1)):a},r.$$s=w,r),h).call(o):(z=d(" ",e),y!==!1&&y!==k?(h=(s=a)["$map!"],h.$$p=(t=function(a){var c;t.$$s||this;return null==a&&(a=k),(c=a["$empty?"]())===k||c.$$is_boolean&&1!=c?b(z,a["$[]"](p(y,-1,!1))):a},t.$$s=w,t),h).call(s):(h=(u=a)["$map!"],h.$$p=(v=function(a){var c;v.$$s||this;return null==a&&(a=k),(c=a["$empty?"]())===k||c.$$is_boolean&&1!=c?b(z,a):a},v.$$s=w,v),h).call(u)),k)):k}),a.defs(z,"$sanitize_attribute_name",function(a){return a.$gsub(B.get("InvalidAttributeNameCharsRx"),"").$downcase()}),a.defs(z,"$roman_numeral_to_int",function(a){var d,e,g,i=this,j=k,l=k;return a=a.$downcase(),j=o(["i","v","x"],{i:1,v:5,x:10}),l=0,(d=(e=p(0,f(a.$length(),1),!1)).$each,d.$$p=(g=function(d){var e,i,m=(g.$$s||this,k);return null==d&&(d=k),m=j["$[]"](a["$[]"](p(d,d,!1))),l=(e=(i=h(b(d,1),a.$length()))?c(j["$[]"](a["$[]"](p(b(d,1),b(d,1),!1))),m):i)===k||e.$$is_boolean&&1!=e?b(l,m):f(l,m)},g.$$s=i,g),d).call(e),l}),k&&"roman_numeral_to_int"}(r,null)}(j)},Opal.modules["asciidoctor/path_resolver"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var e=a.top,f=a.nil,g=(a.breaker,a.slice,a.module),h=a.klass,i=a.hash2,j=a.range;return function(e){var k=g(e,"Asciidoctor");k.$$proto,k.$$scope;!function(e,g){function k(){}var l=k=h(e,g,"PathResolver",k),m=l.$$proto,n=l.$$scope;return m.file_separator=m._partition_path_web=m._partition_path_sys=m.working_dir=f,a.cdecl(n,"DOT","."),a.cdecl(n,"DOT_DOT",".."),a.cdecl(n,"DOT_SLASH","./"),a.cdecl(n,"SLASH","/"),a.cdecl(n,"BACKSLASH","\\"),a.cdecl(n,"DOUBLE_SLASH","//"),a.cdecl(n,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),l.$attr_accessor("file_separator"),l.$attr_accessor("working_dir"),m.$initialize=function(b,c){var d,e=this;return null==b&&(b=f),null==c&&(c=f),e.file_separator=function(){return b!==!1&&b!==f?b:(d=a.get("File").$$scope.get("ALT_SEPARATOR"))!==!1&&d!==f?d:a.get("File").$$scope.get("SEPARATOR")}(),c!==!1&&c!==f?e.working_dir=function(){return(d=e["$is_root?"](c))===f||d.$$is_boolean&&1!=d?a.get("File").$expand_path(c):c}():e.working_dir=a.get("File").$expand_path(a.get("Dir").$pwd()),e._partition_path_sys=i([],{}),e._partition_path_web=i([],{})},m["$is_root?"]=function(a){var b,c,d=this;return((b=a["$start_with?"](n.get("SLASH")))===f||b.$$is_boolean&&1!=b)&&((b=(c=d.file_separator["$=="](n.get("BACKSLASH")))?n.get("WindowsRootRx")["$=~"](a):c)===f||b.$$is_boolean&&1!=b)?!1:!0},m["$is_unc?"]=function(a){return a["$start_with?"](n.get("DOUBLE_SLASH"))},m["$is_web_root?"]=function(a){return a["$start_with?"](n.get("SLASH"))},m.$posixfy=function(a){var b;return(b=a["$nil_or_empty?"]())===f||b.$$is_boolean&&1!=b?(b=a["$include?"](n.get("BACKSLASH")))===f||b.$$is_boolean&&1!=b?a:a.$tr(n.get("BACKSLASH"),n.get("SLASH")):""},m.$expand_path=function(b){var c,d=this,e=f,g=f,h=f;return c=a.to_ary(d.$partition_path(b)),e=null==c[0]?f:c[0],g=null==c[1]?f:c[1],h=null==c[2]?f:c[2],d.$join_path(e,g)},m.$partition_path=function(a,b){var c,d=this,e=f,g=f,h=f,i=f;return null==b&&(b=!1),(c=e=function(){return b!==!1&&b!==f?d._partition_path_web["$[]"](a):d._partition_path_sys["$[]"](a)}())===f||c.$$is_boolean&&1!=c?(g=d.$posixfy(a),h=function(){return b!==!1&&b!==f?(c=d["$is_web_root?"](g))===f||c.$$is_boolean&&1!=c?(c=g["$start_with?"](n.get("DOT_SLASH")))===f||c.$$is_boolean&&1!=c?f:n.get("DOT_SLASH"):n.get("SLASH"):(c=d["$is_root?"](g))===f||c.$$is_boolean&&1!=c?(c=g["$start_with?"](n.get("DOT_SLASH")))===f||c.$$is_boolean&&1!=c?f:n.get("DOT_SLASH"):(c=d["$is_unc?"](g))===f||c.$$is_boolean&&1!=c?(c=g["$start_with?"](n.get("SLASH")))===f||c.$$is_boolean&&1!=c?g["$[]"](j(0,g.$index(n.get("SLASH")),!1)):n.get("SLASH"):n.get("DOUBLE_SLASH")}(),i=g.$split(n.get("SLASH")),h["$=="](n.get("DOUBLE_SLASH"))?i=i["$[]"](j(2,-1,!1)):h!==!1&&h!==f&&i.$shift(),i.$delete(n.get("DOT")),function(){return b!==!1&&b!==f?d._partition_path_web:d._partition_path_sys}()["$[]="](a,[i,h,g])):e},m.$join_path=function(a,c){return null==c&&(c=f),c!==!1&&c!==f?""+c+b(a,n.get("SLASH")):b(a,n.get("SLASH"))},m.$system_path=function(b,d,e,g){var h,j,k,l=this,m=f,o=f,p=f,q=f,r=f,s=f,t=f,u=f,v=f,w=f;if(null==e&&(e=f),null==g&&(g=i([],{})),e!==!1&&e!==f&&(((h=l["$is_root?"](e))===f||h.$$is_boolean&&1!=h)&&l.$raise(a.get("SecurityError"),"Jail is not an absolute path: "+e),e=l.$posixfy(e)),(h=b["$nil_or_empty?"]())===f||h.$$is_boolean&&1!=h?(h=a.to_ary(l.$partition_path(b)),m=null==h[0]?f:h[0],o=null==h[1]?f:h[1],p=null==h[2]?f:h[2]):m=[],(h=m["$empty?"]())!==f&&(!h.$$is_boolean||1==h)){if(!((h=d["$nil_or_empty?"]())===f||h.$$is_boolean&&1!=h))return function(){return e!==!1&&e!==f?e:l.working_dir}();if((h=l["$is_root?"](d))===f||h.$$is_boolean&&1!=h)return l.$system_path(d,e,e,g);if(e===!1||e===f)return l.$expand_path(d)}return(h=(j=o!==!1&&o!==f)?o["$=="](n.get("DOT_SLASH"))["$!"]():j)===f||h.$$is_boolean&&1!=h||(q=l.$join_path(m,o),(h=(j=e["$!"]())!==!1&&j!==f?j:q["$start_with?"](e))===f||h.$$is_boolean&&1!=h)?(d=(h=d["$nil_or_empty?"]())===f||h.$$is_boolean&&1!=h?(h=l["$is_root?"](d))===f||h.$$is_boolean&&1!=h?l.$system_path(d,e,e,g):l.$posixfy(d):function(){return e!==!1&&e!==f?e:l.working_dir}(),e["$=="](d)?(h=a.to_ary(l.$partition_path(e)),r=null==h[0]?f:h[0],s=null==h[1]?f:h[1],p=null==h[2]?f:h[2],t=r.$dup()):e!==!1&&e!==f?(((h=d["$start_with?"](e))===f||h.$$is_boolean&&1!=h)&&l.$raise(a.get("SecurityError"),""+((h=g["$[]"]("target_name"))!==!1&&h!==f?h:"Start path")+" "+d+" is outside of jail: "+e+" (disallowed in safe mode)"),h=a.to_ary(l.$partition_path(d)),t=null==h[0]?f:h[0],u=null==h[1]?f:h[1],p=null==h[2]?f:h[2],h=a.to_ary(l.$partition_path(e)),r=null==h[0]?f:h[0],s=null==h[1]?f:h[1],p=null==h[2]?f:h[2]):(h=a.to_ary(l.$partition_path(d)),t=null==h[0]?f:h[0],u=null==h[1]?f:h[1],p=null==h[2]?f:h[2],s=u),v=t.$dup(),w=!1,(h=(j=m).$each,h.$$p=(k=function(d){var h,i,j=k.$$s||this,l=f;return null==d&&(d=f),d["$=="](n.get("DOT_DOT"))?e!==!1&&e!==f?c(v.$length(),r.$length())?v.$pop():(h=((i=l)!==!1&&i!==f?i:l=g.$fetch("recover",!0))["$!"]())===f||h.$$is_boolean&&1!=h?(h=w["$!"]())===f||h.$$is_boolean&&1!=h?f:(j.$warn("asciidoctor: WARNING: "+((h=g["$[]"]("target_name"))!==!1&&h!==f?h:"path")+" has illegal reference to ancestor of jail, auto-recovering"),w=!0):j.$raise(a.get("SecurityError"),""+((h=g["$[]"]("target_name"))!==!1&&h!==f?h:"path")+" "+b+" refers to location outside jail: "+e+" (disallowed in safe mode)"):v.$pop():v.$push(d)},k.$$s=l,k),h).call(j),l.$join_path(v,s)):q},m.$web_path=function(b,c){var d,e,g,h=this,i=f,k=f,l=f,m=f,o=f;return null==c&&(c=f),b=h.$posixfy(b),c=h.$posixfy(c),i=f,((d=(e=c["$nil_or_empty?"]())!==!1&&e!==f?e:h["$is_web_root?"](b))===f||d.$$is_boolean&&1!=d)&&(b=""+c+n.get("SLASH")+b,(d=i=n.get("Helpers").$uri_prefix(b))===f||d.$$is_boolean&&1!=d||(b=b["$[]"](j(i.$length(),-1,!1)))),d=a.to_ary(h.$partition_path(b,!0)),k=null==d[0]?f:d[0],l=null==d[1]?f:d[1],m=null==d[2]?f:d[2],o=[],(d=(e=k).$each,d.$$p=(g=function(a){var b,c;g.$$s||this;return null==a&&(a=f),a["$=="](n.get("DOT_DOT"))?(b=o["$empty?"]())===f||b.$$is_boolean&&1!=b?o["$[]"](-1)["$=="](n.get("DOT_DOT"))?o["$<<"](a):o.$pop():(b=(c=l!==!1&&l!==f)?l["$=="](n.get("DOT_SLASH"))["$!"]():c)===f||b.$$is_boolean&&1!=b?o["$<<"](a):f:o["$<<"](a)},g.$$s=h,g),d).call(e),i!==!1&&i!==f?""+i+h.$join_path(o,l):h.$join_path(o,l)},m.$relative_path=function(a,b){var c,e,g=this,h=f;return e=g["$is_root?"](a),(c=e!==!1&&e!==f?g["$is_root?"](b):e)===f||c.$$is_boolean&&1!=c?a:(h=d(b.$chomp(g.file_separator).$length(),1),a["$[]"](j(h,-1,!1)))},f&&"relative_path"}(k,null)}(e)},Opal.modules["asciidoctor/reader"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function f(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function g(a,b){return"number"==typeof a&&"number"==typeof b?a>=b:a["$>="](b)}function h(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}function i(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}a.dynamic_require_severity="ignore";var j=a.top,k=a.nil,l=a.breaker,m=a.slice,n=a.module,o=a.klass,p=a.hash2,q=a.range;return function(j){var r=n(j,"Asciidoctor"),s=(r.$$proto,r.$$scope);!function(f,g){function h(){}var i,j=h=o(f,g,"Reader",h),m=j.$$proto,n=j.$$scope;return m.file=m.dir=m.lines=m.process_lines=m.look_ahead=m.eof=m.unescape_next_line=m.lineno=m.path=m.source_lines=k,function(b,c){function d(){}var e=d=o(b,c,"Cursor",d),f=e.$$proto;e.$$scope;return e.$attr_accessor("file"),e.$attr_accessor("dir"),e.$attr_accessor("path"),e.$attr_accessor("lineno"),f.$initialize=function(a,b,c,d){var e=this;return null==b&&(b=k),null==c&&(c=k),null==d&&(d=k),e.file=a,e.dir=b,e.path=c,e.lineno=d},f.$line_info=function(){var a=this;return""+a.$path()+": line "+a.$lineno()},a.defn(e,"$to_s",f.$line_info)}(j,null),j.$attr_reader("file"),j.$attr_reader("dir"),j.$attr_reader("path"),j.$attr_reader("lineno"),j.$attr_reader("source_lines"),j.$attr_accessor("process_lines"),m.$initialize=function(b,c,d){var e,f=this;return null==b&&(b=k),null==c&&(c=k),null==d&&(d=p(["normalize"],{normalize:!1})),(e=c["$!"]())===k||e.$$is_boolean&&1!=e?(e=c["$is_a?"](a.get("String")))===k||e.$$is_boolean&&1!=e?(f.file=c.$file(),f.dir=c.$dir(),f.path=(e=c.$path())!==!1&&e!==k?e:"<stdin>",(e=f.file)===k||e.$$is_boolean&&1!=e||(((e=f.dir)===k||e.$$is_boolean&&1!=e)&&(f.dir=a.get("File").$dirname(f.file),f.dir["$=="](".")&&(f.dir=k)),((e=c.$path())===k||e.$$is_boolean&&1!=e)&&(f.path=a.get("File").$basename(f.file))),f.lineno=(e=c.$lineno())!==!1&&e!==k?e:1):(f.file=c,e=a.to_ary(a.get("File").$split(f.file)),f.dir=null==e[0]?k:e[0],f.path=null==e[1]?k:e[1],f.lineno=1):(f.file=f.dir=k,f.path="<stdin>",f.lineno=1),f.lines=function(){return b!==!1&&b!==k?f.$prepare_lines(b,d):[]}(),f.source_lines=f.lines.$dup(),f.eof=f.lines["$empty?"](),f.look_ahead=0,f.process_lines=!0,f.unescape_next_line=!1},m.$prepare_lines=function(b,c){var d;return null==c&&(c=p([],{})),(d=b["$is_a?"](a.get("String")))===k||d.$$is_boolean&&1!=d?(d=c["$[]"]("normalize"))===k||d.$$is_boolean&&1!=d?b.$dup():n.get("Helpers").$normalize_lines_array(b):(d=c["$[]"]("normalize"))===k||d.$$is_boolean&&1!=d?b.$split(n.get("EOL")):n.get("Helpers").$normalize_lines_from_string(b)},m.$process_line=function(a){var c,d=this;return(c=d.process_lines)===k||c.$$is_boolean&&1!=c||(d.look_ahead=b(d.look_ahead,1)),a},m["$has_more_lines?"]=function(){var a,b=this;return((a=b.eof)!==!1&&a!==k?a:b.eof=b.$peek_line()["$nil?"]())["$!"]()},m["$next_line_empty?"]=function(){var a=this;return a.$peek_line()["$nil_or_empty?"]()},m.$peek_line=function(a){var b,d,e=this,f=k;return null==a&&(a=!1),(b=(d=a)!==!1&&d!==k?d:c(e.look_ahead,0))===k||b.$$is_boolean&&1!=b?(b=(d=e.eof)!==!1&&d!==k?d:e.lines["$empty?"]())===k||b.$$is_boolean&&1!=b?(b=(f=e.$process_line(e.lines["$[]"](0)))["$!"]())===k||b.$$is_boolean&&1!=b?f:e.$peek_line():(e.eof=!0,e.look_ahead=0,k):(b=e.unescape_next_line)===k||b.$$is_boolean&&1!=b?e.lines["$[]"](0):e.lines["$[]"](0)["$[]"](q(1,-1,!1))},m.$peek_lines=function(a,b){var c,d,e,f,g,h=this,i=k,j=k;return null==a&&(a=1),null==b&&(b=!0),i=h.look_ahead,j=[],(c=(d=a).$times,c.$$p=(e=function(){var a,c=e.$$s||this,d=k;return(a=d=c.$read_line(b))===k||a.$$is_boolean&&1!=a?(l.$v=k,l):j["$<<"](d)},e.$$s=h,e),c).call(d),((c=j["$empty?"]())===k||c.$$is_boolean&&1!=c)&&((c=(f=j).$reverse_each,c.$$p=(g=function(a){var b=g.$$s||this;return null==a&&(a=k),b.$unshift(a)},g.$$s=h,g),c).call(f),b!==!1&&b!==k&&(h.look_ahead=i)),j},m.$read_line=function(a){var b,d,e,f=this;return null==a&&(a=!1),(b=(d=(e=a)!==!1&&e!==k?e:c(f.look_ahead,0))!==!1&&d!==k?d:f["$has_more_lines?"]())===k||b.$$is_boolean&&1!=b?k:f.$shift()},m.$read_lines=function(){var a,b=this,c=k;for(c=[];(a=b["$has_more_lines?"]())!==k&&(!a.$$is_boolean||1==a);)c["$<<"](b.$shift());return c},a.defn(j,"$readlines",m.$read_lines),m.$read=function(){var a=this;return d(a.$read_lines(),n.get("EOL"))},m.$advance=function(a){var b=this;return null==a&&(a=!0),b.$read_line(a)["$!"]()["$!"]()},m.$unshift_line=function(a){var b=this;return b.$unshift(a),k},a.defn(j,"$restore_line",m.$unshift_line),m.$unshift_lines=function(a){var b,c,d,e=this;return(b=(c=a).$reverse_each,b.$$p=(d=function(a){var b=d.$$s||this;return null==a&&(a=k),b.$unshift(a)},d.$$s=e,d),b).call(c),k},a.defn(j,"$restore_lines",m.$unshift_lines),m.$replace_line=function(a){var b=this;return b.$advance(),b.$unshift(a),k},m.$skip_blank_lines=function(){var a,c,d=this,e=k,f=k;if((a=d["$eof?"]())!==k&&(!a.$$is_boolean||1==a))return 0;for(e=0;(c=f=d.$peek_line())!==k&&(!c.$$is_boolean||1==c);){if((c=f["$empty?"]())===k||c.$$is_boolean&&1!=c)return e;d.$advance(),e=b(e,1)}return e},m.$skip_comment_lines=function(a){var b,c,d,e,f=this,g=k,h=k,i=k,j=k,l=k;if(null==a&&(a=p([],{})),(b=f["$eof?"]())!==k&&(!b.$$is_boolean||1==b))return[];for(g=[],h=a["$[]"]("include_blank_lines");(c=i=f.$peek_line())!==k&&(!c.$$is_boolean||1==c);)if((c=(d=h!==!1&&h!==k)?i["$empty?"]():d)===k||c.$$is_boolean&&1!=c)if(d=j=i["$start_with?"]("//"),(c=d!==!1&&d!==k?l=n.get("CommentBlockRx").$match(i):d)===k||c.$$is_boolean&&1!=c){if((d=(e=j!==!1&&j!==k)?n.get("CommentLineRx")["$=~"](i):e)===k||d.$$is_boolean&&1!=d)break;g["$<<"](f.$shift())}else g["$<<"](f.$shift()),(c=g).$push.apply(c,[].concat(f.$read_lines_until(p(["terminator","read_last_line","skip_processing"],{terminator:l["$[]"](0),read_last_line:!0,skip_processing:!0}))));else g["$<<"](f.$shift());return g},m.$skip_line_comments=function(){var a,b,c=this,d=k,e=k;if((a=c["$eof?"]())!==k&&(!a.$$is_boolean||1==a))return[];for(d=[];!((b=e=c.$peek_line())===k||b.$$is_boolean&&1!=b||(b=n.get("CommentLineRx")["$=~"](e))===k||b.$$is_boolean&&1!=b);)d["$<<"](c.$shift());return d},m.$terminate=function(){var a=this;return a.lineno=b(a.lineno,a.lines.$size()),a.lines.$clear(),a.eof=!0,a.look_ahead=0,k},m["$eof?"]=function(){var a=this;return a["$has_more_lines?"]()["$!"]()},a.defn(j,"$empty?",m["$eof?"]),m.$read_lines_until=i=function(b){var c,d,f,g,h,j=this,m=i.$$p,o=m||k,q=k,r=k,s=k,t=k,u=k,v=k,w=k,x=k,y=k,z=k;for(null==b&&(b=p([],{})),i.$$p=null,q=[],(c=b["$[]"]("skip_first_line"))===k||c.$$is_boolean&&1!=c||j.$advance(),d=j.process_lines,(c=d!==!1&&d!==k?b["$[]"]("skip_processing"):d)===k||c.$$is_boolean&&1!=c?r=!1:(j.process_lines=!1,r=!0),(c=s=b["$[]"]("terminator"))===k||c.$$is_boolean&&1!=c?(t=b["$[]"]("break_on_blank_lines"),u=b["$[]"]("break_on_list_continuation")):(t=!1,u=!1),v=b["$[]"]("skip_line_comments"),w=!1,x=!1,y=!1;f=y["$!"](),(d=f!==!1&&f!==k?z=j.$read_line():f)!==k&&(!d.$$is_boolean||1==d);)y=function(){for(;(f=!0)!==k&&(!f.$$is_boolean||1==f);)return((f=(g=s!==!1&&s!==k)?z["$=="](s):g)===k||f.$$is_boolean&&1!=f)&&((f=(g=t!==!1&&t!==k)?z["$empty?"]():g)===k||f.$$is_boolean&&1!=f)?(g=(h=u!==!1&&u!==k)?w:h,(f=g!==!1&&g!==k?z["$=="](n.get("LIST_CONTINUATION")):g)===k||f.$$is_boolean&&1!=f?(f=(g=o!==k)?(h=a.yield1(o,z))===l?l.$v:h:g)===k||f.$$is_boolean&&1!=f?!1:!0:(b["$[]="]("preserve_last_line",!0),!0)):!0;return k}(),y!==!1&&y!==k?((d=b["$[]"]("read_last_line"))===k||d.$$is_boolean&&1!=d||(q["$<<"](z),w=!0),(d=b["$[]"]("preserve_last_line"))===k||d.$$is_boolean&&1!=d||(j.$restore_line(z),x=!0)):(f=(g=v!==!1&&v!==k)?z["$start_with?"]("//"):g,((d=f!==!1&&f!==k?n.get("CommentLineRx")["$=~"](z):f)===k||d.$$is_boolean&&1!=d)&&(q["$<<"](z),w=!0));return r!==!1&&r!==k&&(j.process_lines=!0,(c=(d=x!==!1&&x!==k)?s["$!"]():d)===k||c.$$is_boolean&&1!=c||(j.look_ahead=e(j.look_ahead,1))),q},m.$shift=function(){var a=this;return a.lineno=b(a.lineno,1),a.look_ahead["$=="](0)||(a.look_ahead=e(a.look_ahead,1)),a.lines.$shift()},m.$unshift=function(a){var c=this;return c.lineno=e(c.lineno,1),c.look_ahead=b(c.look_ahead,1),c.eof=!1,c.lines.$unshift(a)},m.$cursor=function(){var a=this;return n.get("Cursor").$new(a.file,a.dir,a.path,a.lineno)},m.$line_info=function(){var a=this;return""+a.path+": line "+a.lineno},a.defn(j,"$next_line_info",m.$line_info),m.$prev_line_info=function(){var a=this;return""+a.path+": line "+e(a.lineno,1)},m.$lines=function(){var a=this;return a.lines.$dup()},m.$string=function(){var a=this;return d(a.lines,n.get("EOL"))},m.$source=function(){var a=this;return d(a.source_lines,n.get("EOL"))},m.$to_s=function(){var a=this;return a.$line_info()},k&&"to_s"}(r,null),function(j,n){function r(){}var s,t,u,v,w=r=o(j,n,"PreprocessorReader",r),x=w.$$proto,y=w.$$scope;return x.document=x.lineno=x.process_lines=x.look_ahead=x.skipping=x.include_stack=x.conditional_stack=x.path=x.include_processor_extensions=x.maxdepth=x.dir=x.lines=x.file=x.includes=x.unescape_next_line=k,w.$attr_reader("include_stack"),w.$attr_reader("includes"),x.$initialize=s=function(b,c,d){var e,g,h,i=this,j=(s.$$p,k);return null==c&&(c=k),null==d&&(d=k),s.$$p=null,i.document=b,a.find_super_dispatcher(i,"initialize",s,null).apply(i,[c,d,p(["normalize"],{normalize:!0})]),j=b.$attributes().$fetch("max-include-depth",64).$to_i(),f(j,0)&&(j=0),i.maxdepth=p(["abs","rel"],{abs:j,rel:j}),i.include_stack=[],i.includes=(e="includes",g=b.$references(),(h=g["$[]"](e))!==!1&&h!==k?h:g["$[]="](e,[])),i.skipping=!1,i.conditional_stack=[],i.include_processor_extensions=k},x.$prepare_lines=t=function(c,e){var f,g,h,i=m.call(arguments,0),j=this,l=t.$$p,n=k,o=k,q=k,r=k;if(null==e&&(e=p([],{})),t.$$p=null,n=a.find_super_dispatcher(j,"prepare_lines",t,l).apply(j,i),g=j.document,(f=g!==!1&&g!==k?j.document.$attributes()["$has_key?"]("skip-front-matter"):g)===k||f.$$is_boolean&&1!=f||(f=o=j["$skip_front_matter!"](n))===k||f.$$is_boolean&&1!=f||j.document.$attributes()["$[]="]("front-matter",d(o,y.get("EOL"))),(f=e.$fetch("condense",!0))!==k&&(!f.$$is_boolean||1==f)){for(;h=q=n["$[]"](0),(g=h!==!1&&h!==k?q["$empty?"]():h)!==k&&(!g.$$is_boolean||1==g);)g=n.$shift(),g!==!1&&g!==k?j.lineno=b(j.lineno,1):g;for(;h=r=n["$[]"](-1),(g=h!==!1&&h!==k?r["$empty?"]():h)!==k&&(!g.$$is_boolean||1==g);)n.$pop()}return(f=e["$[]"]("indent"))===k||f.$$is_boolean&&1!=f||y.get("Parser")["$adjust_indentation!"](n,e["$[]"]("indent"),j.document.$attr("tabsize")),n},x.$process_line=function(a){var c,d,e,f,g=this,h=k,i=k;return(c=g.process_lines)===k||c.$$is_boolean&&1!=c?a:(c=a["$empty?"]())===k||c.$$is_boolean&&1!=c?(e=a["$end_with?"]("]"),d=e!==!1&&e!==k?a["$start_with?"]("[")["$!"]():e,(c=d!==!1&&d!==k?a["$include?"]("::"):d)===k||c.$$is_boolean&&1!=c?(c=g.skipping)===k||c.$$is_boolean&&1!=c?(g.look_ahead=b(g.look_ahead,1),a):(g.$advance(),k):(d=a["$include?"]("if"),(c=d!==!1&&d!==k?h=y.get("ConditionalDirectiveRx").$match(a):d)===k||c.$$is_boolean&&1!=c?(c=g.skipping)===k||c.$$is_boolean&&1!=c?(e=(f=i=a["$start_with?"]("\\include::"))!==!1&&f!==k?f:a["$start_with?"]("include::"),(c=e!==!1&&e!==k?h=y.get("IncludeDirectiveRx").$match(a):e)===k||c.$$is_boolean&&1!=c?(g.look_ahead=b(g.look_ahead,1),a):i!==!1&&i!==k?(g.unescape_next_line=!0,g.look_ahead=b(g.look_ahead,1),a["$[]"](q(1,-1,!1))):(c=g.$preprocess_include(h["$[]"](1),h["$[]"](2).$strip()))===k||c.$$is_boolean&&1!=c?(g.look_ahead=b(g.look_ahead,1),a):k):(g.$advance(),k):(c=a["$start_with?"]("\\"))===k||c.$$is_boolean&&1!=c?(c=(d=g).$preprocess_conditional_inclusion.apply(d,[].concat(h.$captures())))===k||c.$$is_boolean&&1!=c?(g.look_ahead=b(g.look_ahead,1),a):(g.$advance(),k):(g.unescape_next_line=!0,g.look_ahead=b(g.look_ahead,1),a["$[]"](q(1,-1,!1))))):(g.look_ahead=b(g.look_ahead,1),"")},x.$peek_line=u=function(b){var c,d=m.call(arguments,0),e=this,f=u.$$p,g=k;return null==b&&(b=!1),u.$$p=null,(c=g=a.find_super_dispatcher(e,"peek_line",u,f).apply(e,d))===k||c.$$is_boolean&&1!=c?(c=e.include_stack["$empty?"]())===k||c.$$is_boolean&&1!=c?(e.$pop_include(),e.$peek_line(b)):k:g},x.$preprocess_conditional_inclusion=function(a,b,d,e){var f,g,h,i,j,l,m,n,o,q,r=this,s=k,t=k,u=k,v=k,w=k,x=k,z=k,A=k,B=k;if(h=(i=a["$=="]("ifdef"))!==!1&&i!==k?i:a["$=="]("ifndef"),(f=(g=h!==!1&&h!==k?b["$empty?"]():h)!==!1&&g!==k?g:(h=a["$=="]("endif"))?e:h)!==k&&(!f.$$is_boolean||1==f))return!1;if(b=b.$downcase(),a["$=="]("endif"))return s=r.conditional_stack.$size(),c(s,0)?(t=r.conditional_stack["$[]"](-1),(f=(g=b["$empty?"]())!==!1&&g!==k?g:b["$=="](t["$[]"]("target")))===k||f.$$is_boolean&&1!=f?r.$warn("asciidoctor: ERROR: "+r.$line_info()+": mismatched macro: endif::"+b+"[], expected endif::"+t["$[]"]("target")+"[]"):(r.conditional_stack.$pop(),r.skipping=function(){return(f=r.conditional_stack["$empty?"]())===k||f.$$is_boolean&&1!=f?r.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1}())):r.$warn("asciidoctor: ERROR: "+r.$line_info()+": unmatched macro: endif::"+b+"[]"),!0;if(u=!1,(f=r.skipping)===k||f.$$is_boolean&&1!=f){if(v=a,"ifdef"["$==="](v))v=d,k["$==="](v)?u=r.document.$attributes()["$has_key?"](b)["$!"]():","["$==="](v)?u=(f=(g=b.$split(",")).$detect,f.$$p=(j=function(a){var b=j.$$s||this;return null==b.document&&(b.document=k),null==a&&(a=k),b.document.$attributes()["$has_key?"](a)},j.$$s=r,j),f).call(g)["$!"]():"+"["$==="](v)&&(u=(f=(h=b.$split("+")).$detect,f.$$p=(l=function(a){var b=l.$$s||this;return null==b.document&&(b.document=k),null==a&&(a=k),b.document.$attributes()["$has_key?"](a)["$!"]()},l.$$s=r,l),f).call(h));else if("ifndef"["$==="](v))v=d,k["$==="](v)?u=r.document.$attributes()["$has_key?"](b):","["$==="](v)?u=(f=(i=b.$split(",")).$detect,f.$$p=(m=function(a){var b=m.$$s||this;return null==b.document&&(b.document=k),null==a&&(a=k),b.document.$attributes()["$has_key?"](a)["$!"]()},m.$$s=r,m),f).call(i)["$!"]():"+"["$==="](v)&&(u=(f=(n=b.$split("+")).$detect,f.$$p=(o=function(a){var b=o.$$s||this;return null==b.document&&(b.document=k),null==a&&(a=k),b.document.$attributes()["$has_key?"](a)},o.$$s=r,o),f).call(n));else if("ifeval"["$==="](v)){if((f=(q=b["$empty?"]()["$!"]())!==!1&&q!==k?q:(w=y.get("EvalExpressionRx").$match(e.$strip()))["$!"]())!==k&&(!f.$$is_boolean||1==f))return!1;x=r.$resolve_expr_val(w["$[]"](1)),z=r.$resolve_expr_val(w["$[]"](3)),u=(A=w["$[]"](2))["$=="]("!=")?x.$send("==",z):x.$send(A.$to_sym(),z)["$!"]()}}else;if((f=(q=a["$=="]("ifeval"))!==!1&&q!==k?q:e["$!"]())===k||f.$$is_boolean&&1!=f){if((f=(q=r.skipping)!==!1&&q!==k?q:u)===k||f.$$is_boolean&&1!=f)return B=r.$peek_line(!0),r.$replace_line(e.$rstrip()),r.$unshift(B),!0}else u!==!1&&u!==k&&(r.skipping=!0),r.conditional_stack["$<<"](p(["target","skip","skipping"],{
target:b,skip:u,skipping:r.skipping}));return!0},x.$preprocess_include=function(f,i){var j,m,n,o,q,r,s,t,u,v,w,x=this,z=k,A=k,B=k,C=k,D=k,E=k,F=k,G=k,H=k,I=k,J=k,K=k,L=k,M=k,N=k;if((j=(z=x.document.$sub_attributes(f,p(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===k||j.$$is_boolean&&1!=j){if(m=x["$include_processors?"](),(j=m!==!1&&m!==k?A=(n=(o=x.include_processor_extensions).$find,n.$$p=(q=function(a){q.$$s||this;return null==a&&(a=k),a.$instance()["$handles?"](z)},q.$$s=x,q),n).call(o):m)===k||j.$$is_boolean&&1!=j){if(g(x.document.$safe(),y.get("SafeMode").$$scope.get("SECURE")))return x.$replace_line("link:"+z+"[]"),!0;if((j=(m=c(B=x.maxdepth["$[]"]("abs"),0))?g(x.include_stack.$size(),B):m)===k||j.$$is_boolean&&1!=j){if(c(B,0)){if((j=a.get("RUBY_ENGINE_OPAL"))===k||j.$$is_boolean&&1!=j)if((j=y.get("Helpers")["$uriish?"](z))===k||j.$$is_boolean&&1!=j){if(C="file",D=x.document.$normalize_system_path(z,x.dir,k,p(["target_name"],{target_name:"include file"})),(j=a.get("File")["$file?"](D))===k||j.$$is_boolean&&1!=j)return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include file not found: "+D),x.$replace_line("Unresolved directive in "+x.path+" - include::"+z+"["+i+"]"),!0;E=y.get("PathResolver").$new().$relative_path(D,x.document.$base_dir())}else{if((j=x.document.$attributes()["$has_key?"]("allow-uri-read"))===k||j.$$is_boolean&&1!=j)return x.$replace_line("link:"+z+"[]"),!0;C="uri",D=E=z,(j=x.document.$attributes()["$has_key?"]("cache-uri"))===k||j.$$is_boolean&&1!=j?(j=a.get("RUBY_ENGINE_OPAL")["$!"]())===k||j.$$is_boolean&&1!=j||a.get("OpenURI"):((j=function(){try{return null!=a.get("OpenURI").$$scope.get("Cache")?"constant":k}catch(b){if(b.$$class===a.NameError)return k;throw b}}())===k||j.$$is_boolean&&1!=j)&&y.get("Helpers").$require_library("open-uri/cached","open-uri-cached")}else C="file",D=E=function(){return(j=x.include_stack["$empty?"]())===k||j.$$is_boolean&&1!=j?a.get("File").$join(x.dir,z):a.get("Dir").$pwd()["$=="](x.document.$base_dir())?z:a.get("File").$join(x.dir,z)}();if(F=k,G=k,H=p([],{}),(j=i["$empty?"]()["$!"]())===k||j.$$is_boolean&&1!=j||(H=y.get("AttributeList").$new(i).$parse(),(j=H["$has_key?"]("lines"))===k||j.$$is_boolean&&1!=j?(j=H["$has_key?"]("tag"))===k||j.$$is_boolean&&1!=j?(j=H["$has_key?"]("tags"))===k||j.$$is_boolean&&1!=j||(G=H["$[]"]("tags").$split(y.get("DataDelimiterRx")).$to_set()):G=[H["$[]"]("tag")].$to_set():(F=[],(j=(m=H["$[]"]("lines").$split(y.get("DataDelimiterRx"))).$each,j.$$p=(r=function(b){var c,d,e,f=(r.$$s||this,k),g=k;return null==b&&(b=k),(c=b["$include?"](".."))===k||c.$$is_boolean&&1!=c?F["$<<"](b.$to_i()):(c=a.to_ary((d=(e=b.$split("..")).$map,d.$$p="to_i".$to_proc(),d).call(e)),f=null==c[0]?k:c[0],g=null==c[1]?k:c[1],g["$=="](-1)?(F["$<<"](f),F["$<<"](h(1,0))):F.$concat(a.get("Range").$new(f,g).$to_a()))},r.$$s=x,r),j).call(m),F=F.$sort().$uniq())),F!==!1&&F!==k)if((j=F["$empty?"]())===k||j.$$is_boolean&&1!=j){I=[],J=0,K=0;try{(j=(n=x).$open,j.$$p=(s=function(c){var d,e,f,g=s.$$s||this;return null==c&&(c=k),(d=(e=c).$each_line,d.$$p=(f=function(d){var e,g,h=(f.$$s||this,k);return null==d&&(d=k),K=b(K,1),h=F["$[]"](0),g=h["$is_a?"](a.get("Float")),(e=g!==!1&&g!==k?h["$infinite?"]():g)===k||e.$$is_boolean&&1!=e?(c.$lineno()["$=="](h)&&(I.$push(d),J["$=="](0)&&(J=K),F.$shift()),(e=F["$empty?"]())===k||e.$$is_boolean&&1!=e?k:(l.$v=k,l)):(I.$push(d),J["$=="](0)?J=K:k)},f.$$s=g,f),d).call(e)},s.$$s=x,s),j).call(n,D,"r")}catch(O){return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+C+" not readable: "+D),x.$replace_line("Unresolved directive in "+x.path+" - include::"+z+"["+i+"]"),!0}x.$advance(),x.$push_include(I,D,E,J,H)}else;else if(G!==!1&&G!==k)if((j=G["$empty?"]())===k||j.$$is_boolean&&1!=j){I=[],J=0,K=0,L=k,M=a.get("Set").$new();try{(j=(t=x).$open,j.$$p=(u=function(c){var d,e,f,g=u.$$s||this;return null==c&&(c=k),(d=(e=c).$each_line,d.$$p=(f=function(c){var d,e,g,h=f.$$s||this,i=k;return null==c&&(c=k),K=b(K,1),(d=y.get("FORCE_ENCODING"))===k||d.$$is_boolean&&1!=d||c.$force_encoding(a.get("Encoding").$$scope.get("UTF_8")),c=c.$rstrip(),i=c.$chomp("-->").$rstrip(),L!==!1&&L!==k?(d=i["$end_with?"]("end::"+L+"[]"))===k||d.$$is_boolean&&1!=d?(e=i["$end_with?"]("[]"),((d=e!==!1&&e!==k?y.get("TagDirectiveRx")["$=~"](i):e)===k||d.$$is_boolean&&1!=d)&&I.$push(c),J["$=="](0)?J=K:k):L=k:(e=i["$end_with?"]("[]"),(d=e!==!1&&e!==k?y.get("TagDirectiveRx")["$=~"](i):e)===k||d.$$is_boolean&&1!=d?k:(d=(e=G).$each,d.$$p=(g=function(a){var b;g.$$s||this;return null==a&&(a=k),(b=i["$end_with?"]("tag::"+a+"[]"))===k||b.$$is_boolean&&1!=b?k:(L=a,M["$<<"](a),l.$v=k,l)},g.$$s=h,g),d).call(e))},f.$$s=g,f),d).call(e)},u.$$s=x,u),j).call(t,D,"r")}catch(O){return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+C+" not readable: "+D),x.$replace_line("Unresolved directive in "+x.path+" - include::"+z+"["+i+"]"),!0}((j=(N=e(G.$to_a(),M.$to_a()))["$empty?"]())===k||j.$$is_boolean&&1!=j)&&x.$warn("asciidoctor: WARNING: "+x.$line_info()+": tag"+function(){return c(N.$size(),1)?"s":k}()+" '"+d(N,",")+"' not found in include "+C+": "+D),x.$advance(),x.$push_include(I,D,E,J,H)}else;else try{x.$advance(),x.$push_include((j=(v=x).$open,j.$$p=(w=function(a){w.$$s||this;return null==a&&(a=k),a.$read()},w.$$s=x,w),j).call(v,D,"r"),D,E,1,H)}catch(O){return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+C+" not readable: "+D),x.$replace_line("Unresolved directive in "+x.path+" - include::"+z+"["+i+"]"),!0}return!0}return!1}return x.$warn("asciidoctor: ERROR: "+x.$line_info()+": maximum include depth of "+x.maxdepth["$[]"]("rel")+" exceeded"),!1}return x.$advance(),A.$process_method()["$[]"](x.document,x,z,y.get("AttributeList").$new(i).$parse()),!0}return x.document.$attributes().$fetch("attribute-missing",y.get("Compliance").$attribute_missing())["$=="]("skip")?(x.$replace_line("Unresolved directive in "+x.path+" - include::"+f+"["+i+"]"),!0):(x.$advance(),!0)},x.$push_include=function(c,d,f,g,h){var j,l=this,m=k,n=k;return null==d&&(d=k),null==f&&(f=k),null==g&&(g=1),null==h&&(h=p([],{})),l.include_stack["$<<"]([l.lines,l.file,l.dir,l.path,l.lineno,l.maxdepth,l.process_lines]),d!==!1&&d!==k?(l.file=d,l.dir=y.get("File").$dirname(d),l.process_lines=y.get("ASCIIDOC_EXTENSIONS")["$[]"](a.get("File").$extname(d))):(l.file=k,l.dir=".",l.process_lines=!0),l.path=function(){return f!==!1&&f!==k?(l.includes["$<<"](y.get("Helpers").$rootname(f)),f):"<stdin>"}(),l.lineno=g,(j=h["$has_key?"]("depth"))===k||j.$$is_boolean&&1!=j||(m=h["$[]"]("depth").$to_i(),i(m,0)&&(m=1),l.maxdepth=p(["abs","rel"],{abs:b(e(l.include_stack.$size(),1),m),rel:m})),(j=(l.lines=l.$prepare_lines(c,p(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:h["$[]"]("indent")})))["$empty?"]())===k||j.$$is_boolean&&1!=j?((j=h["$has_key?"]("leveloffset"))===k||j.$$is_boolean&&1!=j||(l.lines.$unshift(""),l.lines.$unshift(":leveloffset: "+h["$[]"]("leveloffset")),l.lines.$push(""),(j=n=l.document.$attr("leveloffset"))===k||j.$$is_boolean&&1!=j?l.lines.$push(":leveloffset!:"):l.lines.$push(":leveloffset: "+n),l.lineno=e(l.lineno,2)),l.eof=!1,l.look_ahead=0):l.$pop_include(),k},x.$pop_include=function(){var b,d=this;return c(d.include_stack.$size(),0)&&(b=a.to_ary(d.include_stack.$pop()),d.lines=null==b[0]?k:b[0],d.file=null==b[1]?k:b[1],d.dir=null==b[2]?k:b[2],d.path=null==b[3]?k:b[3],d.lineno=null==b[4]?k:b[4],d.maxdepth=null==b[5]?k:b[5],d.process_lines=null==b[6]?k:b[6],d.eof=d.lines["$empty?"](),d.look_ahead=0),k},x.$include_depth=function(){var a=this;return a.include_stack.$size()},x["$exceeded_max_depth?"]=function(){var a,b,d=this,e=k;return(a=(b=c(e=d.maxdepth["$[]"]("abs"),0))?g(d.include_stack.$size(),e):b)===k||a.$$is_boolean&&1!=a?!1:d.maxdepth["$[]"]("rel")},x.$shift=v=function(){var b,c=m.call(arguments,0),d=this,e=v.$$p;return v.$$p=null,(b=d.unescape_next_line)===k||b.$$is_boolean&&1!=b?a.find_super_dispatcher(d,"shift",v,e).apply(d,c):(d.unescape_next_line=!1,a.find_super_dispatcher(d,"shift",v,e).apply(d,c)["$[]"](q(1,-1,!1)))},x["$skip_front_matter!"]=function(a,c){var d,e,f,g=this,h=k,i=k;if(null==c&&(c=!0),h=k,a["$[]"](0)["$=="]("---")){for(i=a.$dup(),h=[],a.$shift(),c!==!1&&c!==k&&(g.lineno=b(g.lineno,1));f=a["$empty?"]()["$!"](),(e=f!==!1&&f!==k?a["$[]"](0)["$=="]("---")["$!"]():f)!==k&&(!e.$$is_boolean||1==e);)h.$push(a.$shift()),c!==!1&&c!==k&&(g.lineno=b(g.lineno,1));(d=a["$empty?"]())===k||d.$$is_boolean&&1!=d?(a.$shift(),c!==!1&&c!==k&&(g.lineno=b(g.lineno,1))):((d=a).$unshift.apply(d,[].concat(i)),c!==!1&&c!==k&&(g.lineno=0),h=k)}return h},x.$resolve_expr_val=function(a){var b,c,d,e=this,f=k;return d=a["$start_with?"]('"'),(b=(c=d!==!1&&d!==k?a["$end_with?"]('"'):d)!==!1&&c!==k?c:(d=a["$start_with?"]("'"),d!==!1&&d!==k?a["$end_with?"]("'"):d))===k||b.$$is_boolean&&1!=b?f=!1:(f=!0,a=a["$[]"](q(1,-1,!0))),(b=a["$include?"]("{"))===k||b.$$is_boolean&&1!=b||(a=e.document.$sub_attributes(a,p(["attribute_missing"],{attribute_missing:"drop"}))),f!==!1&&f!==k?a:(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?a["$=="]("true")?!0:a["$=="]("false")?!1:(b=a.$rstrip()["$empty?"]())===k||b.$$is_boolean&&1!=b?(b=a["$include?"]("."))===k||b.$$is_boolean&&1!=b?a.$to_i():a.$to_f():" ":k},x["$include_processors?"]=function(){var a,b,c=this;return(a=c.include_processor_extensions["$nil?"]())===k||a.$$is_boolean&&1!=a?c.include_processor_extensions["$=="](!1)["$!"]():(b=c.document["$extensions?"](),(a=b!==!1&&b!==k?c.document.$extensions()["$include_processors?"]():b)===k||a.$$is_boolean&&1!=a?c.include_processor_extensions=!1:(c.include_processor_extensions=c.document.$extensions().$include_processors())["$!"]()["$!"]())},x.$to_s=function(){var a,b,c,d=this;return"#<"+d.$class()+"@"+d.$object_id()+" {path: "+d.path.$inspect()+", line #: "+d.lineno+", include depth: "+d.include_stack.$size()+", include stack: ["+(a=(b=d.include_stack).$map,a.$$p=(c=function(a){c.$$s||this;return null==a&&(a=k),a.$to_s()},c.$$s=d,c),a).call(b).$join(", ")+"]}>"},k&&"to_s"}(r,s.get("Reader"))}(j)},Opal.modules["asciidoctor/section"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}a.dynamic_require_severity="ignore";var d=a.top,e=a.nil,f=(a.breaker,a.slice),g=a.module,h=a.klass,i=a.hash2,j=a.range;return function(d){var k=g(d,"Asciidoctor"),l=(k.$$proto,k.$$scope);!function(d,g){function k(){}var l,m,n,o=k=h(d,g,"Section",k),p=o.$$proto,q=o.$$scope;return p.level=p.document=p.parent=p.number=p.title=p.numbered=p.blocks=e,o.$attr_accessor("index"),o.$attr_accessor("number"),o.$attr_accessor("sectname"),o.$attr_accessor("special"),o.$attr_accessor("numbered"),p.$initialize=l=function(d,f,g,h){var j,k,m=this;l.$$p;return null==d&&(d=e),null==f&&(f=e),null==g&&(g=!0),null==h&&(h=i([],{})),l.$$p=null,a.find_super_dispatcher(m,"initialize",l,null).apply(m,[d,"section",h]),f!==!1&&f!==e?m.level=f:m.level=function(){return d!==!1&&d!==e?b(d.$level(),1):1}(),m.numbered=(j=g!==!1&&g!==e)?c(m.level,0):j,m.special=(j=(k=d!==!1&&d!==e)?d.$context()["$=="]("section"):k,j!==!1&&j!==e?d.$special():j),m.index=0,m.number=1},a.defn(o,"$name",p.$title),p.$generate_id=function(){var a,c,d=this,f=e,g=e,h=e,i=e,k=e;if((a=d.document.$attributes()["$has_key?"]("sectids"))===e||a.$$is_boolean&&1!=a)return e;if(f=(a=d.document.$attributes()["$[]"]("idseparator"))!==!1&&a!==e?a:"_",g=(a=d.document.$attributes()["$[]"]("idprefix"))!==!1&&a!==e?a:"_",h=""+g+d.$title().$downcase().$gsub(q.get("InvalidSectionIdCharsRx"),f).$tr_s(f,f).$chomp(f),c=g["$empty?"](),(a=c!==!1&&c!==e?h["$start_with?"](f):c)!==e&&(!a.$$is_boolean||1==a))for(h=h["$[]"](j(1,-1,!1));(c=h["$start_with?"](f))!==e&&(!c.$$is_boolean||1==c);)h=h["$[]"](j(1,-1,!1));for(i=h,k=q.get("Compliance").$unique_id_start_index();(c=d.document.$references()["$[]"]("ids")["$has_key?"](i))!==e&&(!c.$$is_boolean||1==c);)i=""+h+f+k,k=b(k,1);return i},p.$sectnum=function(a,b){var d,f,g,h,i=this;return null==a&&(a="."),null==b&&(b=e),(d=b)!==!1&&d!==e?d:b=function(){return b["$=="](!1)?"":a}(),h=i.level,g=h!==!1&&h!==e?c(i.level,1):h,f=g!==!1&&g!==e?i.parent:g,(d=f!==!1&&f!==e?i.parent.$context()["$=="]("section"):f)===e||d.$$is_boolean&&1!=d?""+i.number+b:""+i.parent.$sectnum(a)+i.number+b},p["$<<"]=m=function(b){var c=f.call(arguments,0),d=this,g=m.$$p;return m.$$p=null,a.find_super_dispatcher(d,"<<",m,g).apply(d,c),b.$context()["$=="]("section")?d.$assign_index(b):e},p.$to_s=n=function(){var b,c=f.call(arguments,0),d=this,g=n.$$p,h=e;return n.$$p=null,(b=d.title["$=="](e)["$!"]())===e||b.$$is_boolean&&1!=b?a.find_super_dispatcher(d,"to_s",n,g).apply(d,c):(h=function(){return(b=d.numbered)===e||b.$$is_boolean&&1!=b?d.title:""+d.$sectnum()+" "+d.title}(),"#<"+d.$class()+"@"+d.$object_id()+" {level: "+d.level+", title: "+h.$inspect()+", blocks: "+d.blocks.$size()+"}>")},e&&"to_s"}(k,l.get("AbstractBlock"))}(d)},Opal.modules["asciidoctor/stylesheets"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){var g=d(b,"Asciidoctor");g.$$proto,g.$$scope;!function(b,d){function g(){}var h=g=e(b,d,"Stylesheets",g),i=h.$$proto,j=h.$$scope;return i.primary_stylesheet_data=i.coderay_stylesheet_data=i.pygments_stylesheet_data=c,a.cdecl(j,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),a.cdecl(j,"DEFAULT_PYGMENTS_STYLE","default"),a.cdecl(j,"STYLESHEETS_DATA_PATH",a.get("File").$join(j.get("DATA_PATH"),"stylesheets")),h.__instance__=h.$new(),a.defs(h,"$instance",function(){var a=this;return null==a.__instance__&&(a.__instance__=c),a.__instance__}),i.$primary_stylesheet_name=function(){return j.get("DEFAULT_STYLESHEET_NAME")},i.$primary_stylesheet_data=function(){var b,d=this;return(b=d.primary_stylesheet_data)!==!1&&b!==c?b:d.primary_stylesheet_data=a.get("IO").$read(a.get("File").$join(j.get("STYLESHEETS_DATA_PATH"),"asciidoctor-default.css")).$chomp()},i.$embed_primary_stylesheet=function(){var a=this;return"<style>\n"+a.$primary_stylesheet_data()+"\n</style>"},i.$write_primary_stylesheet=function(b){var d,e,f,g=this;return(d=(e=a.get("File")).$open,d.$$p=(f=function(a){var b=f.$$s||this;return null==a&&(a=c),a.$write(b.$primary_stylesheet_data())},f.$$s=g,f),d).call(e,a.get("File").$join(b,g.$primary_stylesheet_name()),"w")},i.$coderay_stylesheet_name=function(){return"coderay-asciidoctor.css"},i.$coderay_stylesheet_data=function(){var b,d=this;return(b=d.coderay_stylesheet_data)!==!1&&b!==c?b:d.coderay_stylesheet_data=a.get("IO").$read(a.get("File").$join(j.get("STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},i.$embed_coderay_stylesheet=function(){var a=this;return"<style>\n"+a.$coderay_stylesheet_data()+"\n</style>"},i.$write_coderay_stylesheet=function(b){var d,e,f,g=this;return(d=(e=a.get("File")).$open,d.$$p=(f=function(a){var b=f.$$s||this;return null==a&&(a=c),a.$write(b.$coderay_stylesheet_data())},f.$$s=g,f),d).call(e,a.get("File").$join(b,g.$coderay_stylesheet_name()),"w")},i.$pygments_stylesheet_name=function(a){var b;return null==a&&(a=c),"pygments-"+((b=a)!==!1&&b!==c?b:j.get("DEFAULT_PYGMENTS_STYLE"))+".css"},i.$pygments_stylesheet_data=function(a){var b,d=this;return null==a&&(a=c),(b=d.$load_pygments())===c||b.$$is_boolean&&1!=b?"/* Pygments styles disabled. Pygments is not available. */":(b=d.pygments_stylesheet_data)!==!1&&b!==c?b:d.pygments_stylesheet_data=f([],{})},i.$embed_pygments_stylesheet=function(a){var b=this;return null==a&&(a=c),"<style>\n"+b.$pygments_stylesheet_data(a)+"\n</style>"},i.$write_pygments_stylesheet=function(b,d){var e,f,g,h=this;return null==d&&(d=c),(e=(f=a.get("File")).$open,e.$$p=(g=function(a){var b=g.$$s||this;return null==a&&(a=c),a.$write(b.$pygments_stylesheet_data(d))},g.$$s=h,g),e).call(f,a.get("File").$join(b,h.$pygments_stylesheet_name(d)),"w")},i.$load_pygments=function(){var b;return(b=null==a.Object.$$scope.Pygments?c:"constant")===c||b.$$is_boolean&&1!=b?j.get("Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]():!0},c&&"load_pygments"}(g,null)}(b)},Opal.modules["asciidoctor/table"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function f(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var g=a.top,h=a.nil,i=(a.breaker,a.slice),j=a.module,k=a.klass,l=a.hash2,m=a.range;return function(g){var n=j(g,"Asciidoctor"),o=(n.$$proto,n.$$scope);!function(g,i){function j(){}var m,n=j=k(g,i,"Table",j),o=n.$$proto,p=n.$$scope;return o.attributes=o.document=o.has_header_option=o.rows=h,function(b,c){function d(){}var e=d=k(b,c,"Rows",d),f=e.$$proto;e.$$scope;return e.$attr_accessor("head","foot","body"),f.$initialize=function(a,b,c){var d=this;return null==a&&(a=[]),null==b&&(b=[]),null==c&&(c=[]),d.head=a,d.foot=b,d.body=c},a.defn(e,"$[]",f.$send)}(n,null),a.cdecl(p,"DEFAULT_DATA_FORMAT","psv"),a.cdecl(p,"DATA_FORMATS",["psv","dsv","csv"]),a.cdecl(p,"DEFAULT_DELIMITERS",l(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","})),a.cdecl(p,"TEXT_STYLES",l(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),a.cdecl(p,"ALIGNMENTS",l(["h","v"],{h:l(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:l(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})})),n.$attr_accessor("columns"),n.$attr_accessor("rows"),n.$attr_accessor("has_header_option"),o.$initialize=m=function(e,f){var g,i,j,k=this,l=(m.$$p,h),n=h;return m.$$p=null,a.find_super_dispatcher(k,"initialize",m,null).apply(k,[e,"table"]),k.rows=p.get("Rows").$new(),k.columns=[],k.has_header_option=f["$key?"]("header-option"),l=f["$[]"]("width"),n=l.$to_i().$abs(),(g=(i=(j=n["$=="](0))?l["$=="]("0")["$!"]():j)!==!1&&i!==h?i:b(n,100))===h||g.$$is_boolean&&1!=g||(n=100),k.attributes["$[]="]("tablepcwidth",n),(g=k.document.$attributes()["$key?"]("pagewidth"))===h||g.$$is_boolean&&1!=g?h:(g="tableabswidth",i=k.attributes,(j=i["$[]"](g))!==!1&&j!==h?j:i["$[]="](g,c(d(k.attributes["$[]"]("tablepcwidth").$to_f(),100),k.document.$attributes()["$[]"]("pagewidth")).$round()))},o["$header_row?"]=function(){var a,b=this;return a=b.has_header_option,a!==!1&&a!==h?b.rows.$body()["$empty?"]():a},o.$create_columns=function(a){var b,c,f,g,i,j=this,k=h,l=h,m=h;return k=0,l=[],(b=(c=a).$each,b.$$p=(f=function(a){var b=f.$$s||this;return null==a&&(a=h),k=e(k,a["$[]"]("width")),l["$<<"](p.get("Column").$new(b,l.$size(),a))},f.$$s=j,f),b).call(c),((b=l["$empty?"]())===h||b.$$is_boolean&&1!=b)&&(j.attributes["$[]="]("colcount",l.$size()),m=d(100,l.$size()).$floor(),(b=(g=l).$each,b.$$p=(i=function(a){i.$$s||this;return null==a&&(a=h),a.$assign_width(k,m)},i.$$s=j,i),b).call(g)),j.columns=l,h},o.$partition_header_footer=function(a){var c,d,e,g,i=this,j=h,k=h;return i.attributes["$[]="]("rowcount",i.rows.$body().$size()),j=i.rows.$body().$size(),(c=(d=b(j,0))?i.has_header_option:d)===h||c.$$is_boolean&&1!=c||(k=i.rows.$body().$shift(),j=f(j,1),(c=(d=k).$each,c.$$p=(e=function(a){var b,c;e.$$s||this;return null==a&&(a=h),b=[h],c=a,c["$style="].apply(c,b),b[b.length-1]},e.$$s=i,e),c).call(d),c=[[k]],g=i.rows,g["$head="].apply(g,c),c[c.length-1]),(c=(g=b(j,0))?a["$key?"]("footer-option"):g)===h||c.$$is_boolean&&1!=c||(c=[[i.rows.$body().$pop()]],g=i.rows,g["$foot="].apply(g,c),c[c.length-1]),h},h&&"partition_header_footer"}(n,o.get("AbstractBlock")),function(f,g){function i(){}var j,m=i=k(f,g,"Column",i),n=m.$$proto;m.$$scope;return n.attributes=h,m.$attr_accessor("style"),n.$initialize=j=function(b,c,d){var f,g,i,k=this;j.$$p;return null==d&&(d=l([],{})),j.$$p=null,a.find_super_dispatcher(k,"initialize",j,null).apply(k,[b,"column"]),k.style=d["$[]"]("style"),d["$[]="]("colnumber",e(c,1)),f="width",g=d,(i=g["$[]"](f))!==!1&&i!==h?i:g["$[]="](f,1),f="halign",g=d,(i=g["$[]"](f))!==!1&&i!==h?i:g["$[]="](f,"left"),f="valign",g=d,(i=g["$[]"](f))!==!1&&i!==h?i:g["$[]="](f,"top"),k.$update_attributes(d)},a.defn(m,"$table",n.$parent),n.$assign_width=function(a,e){var f,g=this,i=h;return i=b(a,0)?c(d(g.attributes["$[]"]("width").$to_f(),a),100).$floor():e,g.attributes["$[]="]("colpcwidth",i),(f=g.$parent().$attributes()["$key?"]("tableabswidth"))===h||f.$$is_boolean&&1!=f||g.attributes["$[]="]("colabswidth",c(d(i.$to_f(),100),g.$parent().$attributes()["$[]"]("tableabswidth")).$round()),h},h&&"assign_width"}(o.get("Table"),o.get("AbstractNode")),function(b,c){function d(){}var e,f,g=d=k(b,c,"Cell",d),j=g.$$proto,m=g.$$scope;return j.style=j.document=j.text=j.inner_document=j.colspan=j.rowspan=j.attributes=h,g.$attr_accessor("style"),g.$attr_accessor("colspan"),g.$attr_accessor("rowspan"),a.defn(g,"$column",j.$parent),g.$attr_reader("inner_document"),j.$initialize=e=function(b,c,d,f){var g,i,j=this,k=(e.$$p,h),n=h,o=h,p=h;return null==d&&(d=l([],{})),null==f&&(f=h),e.$$p=null,a.find_super_dispatcher(j,"initialize",e,null).apply(j,[b,"cell"]),j.text=c,j.style=h,j.colspan=h,j.rowspan=h,b!==!1&&b!==h&&(j.style=b.$attributes()["$[]"]("style"),j.$update_attributes(b.$attributes())),d!==!1&&d!==h&&(j.colspan=d.$delete("colspan"),j.rowspan=d.$delete("rowspan"),(g=d["$key?"]("style"))===h||g.$$is_boolean&&1!=g||(j.style=d["$[]"]("style")),j.$update_attributes(d)),(g=(i=j.style["$=="]("asciidoc"))?b.$table()["$header_row?"]()["$!"]():i)===h||g.$$is_boolean&&1!=g?h:(k=j.document.$attributes().$delete("doctitle"),n=j.text.$split(m.get("EOL")),((g=(i=n["$empty?"]())!==!1&&i!==h?i:n["$[]"](0)["$include?"]("::")["$!"]())===h||g.$$is_boolean&&1!=g)&&(o=n["$[]"](0),p=m.get("PreprocessorReader").$new(j.document,o).$readlines(),(g=p["$=="](o)["$!"]())===h||g.$$is_boolean&&1!=g||(n.$shift(),(g=n).$unshift.apply(g,[].concat(p)))),j.inner_document=m.get("Document").$new(n,l(["header_footer","parent","cursor"],{header_footer:!1,parent:j.document,cursor:f})),(i=k["$nil?"]())===h||i.$$is_boolean&&1!=i?j.document.$attributes()["$[]="]("doctitle",k):h)},j.$text=function(){var a=this;return a.$apply_normal_subs(a.text).$strip()},j.$content=function(){var a,b,c,d=this;return d.style["$=="]("asciidoc")?d.inner_document.$convert():(a=(b=d.$text().$split(m.get("BlankLineRx"))).$map,a.$$p=(c=function(a){var b,d,e=c.$$s||this;return null==e.style&&(e.style=h),null==a&&(a=h),(b=(d=e.style["$!"]())!==!1&&d!==h?d:e.style["$=="]("header"))===h||b.$$is_boolean&&1!=b?m.get("Inline").$new(e.$parent(),"quoted",a,l(["type"],{type:e.style})).$convert():a},c.$$s=d,c),a).call(b)},j.$to_s=f=function(){var b,c=i.call(arguments,0),d=this,e=f.$$p;return f.$$p=null,""+a.find_super_dispatcher(d,"to_s",f,e).apply(d,c).$to_s()+" - [text: "+d.text+", colspan: "+((b=d.colspan)!==!1&&b!==h?b:1)+", rowspan: "+((b=d.rowspan)!==!1&&b!==h?b:1)+", attributes: "+d.attributes+"]"},h&&"to_s"}(o.get("Table"),o.get("AbstractNode")),function(c,d){function g(){}var i=g=k(c,d,"ParserContext",g),j=i.$$proto,n=i.$$scope;return j.format=j.delimiter=j.delimiter_re=j.buffer=j.cell_specs=j.cell_open=j.last_cursor=j.table=j.current_row=j.col_count=j.col_visits=j.active_rowspans=j.linenum=h,i.$attr_accessor("table"),i.$attr_accessor("format"),i.$attr_reader("col_count"),i.$attr_accessor("buffer"),i.$attr_reader("delimiter"),i.$attr_reader("delimiter_re"),j.$initialize=function(a,b,c){var d,e,f,g=this;return null==c&&(c=l([],{})),g.reader=a,g.table=b,g.last_cursor=a.$cursor(),(d=g.format=c["$[]"]("format"))===h||d.$$is_boolean&&1!=d?g.format=n.get("Table").$$scope.get("DEFAULT_DATA_FORMAT"):((d=n.get("Table").$$scope.get("DATA_FORMATS")["$include?"](g.format))===h||d.$$is_boolean&&1!=d)&&g.$raise("Illegal table format: "+g.format),g.delimiter=function(){return e=(f=g.format["$=="]("psv"))?c["$key?"]("separator")["$!"]():f,(d=e!==!1&&e!==h?b.$document()["$nested?"]():e)===h||d.$$is_boolean&&1!=d?(d=c["$[]"]("separator"))!==!1&&d!==h?d:n.get("Table").$$scope.get("DEFAULT_DELIMITERS")["$[]"](g.format):"!"}(),g.delimiter_re=new RegExp(""+n.get("Regexp").$escape(g.delimiter)),g.col_count=function(){return(d=b.$columns()["$empty?"]())===h||d.$$is_boolean&&1!=d?b.$columns().$size():-1}(),g.buffer="",g.cell_specs=[],g.cell_open=!1,g.active_rowspans=[0],g.col_visits=0,g.current_row=[],g.linenum=-1},j["$starts_with_delimiter?"]=function(a){var b=this;return a["$start_with?"](b.delimiter)},j.$match_delimiter=function(a){var b=this;return b.delimiter_re.$match(a)},j.$skip_matched_delimiter=function(a,b){var c=this;return null==b&&(b=!1),c.buffer=""+c.buffer+function(){return b!==!1&&b!==h?a.$pre_match().$chop():a.$pre_match()}()+c.delimiter,a.$post_match()},j["$buffer_has_unclosed_quotes?"]=function(a){var b,c,d=this,e=h;return null==a&&(a=h),e=(""+d.buffer+a).$strip(),c=e["$start_with?"]('"'),b=c!==!1&&c!==h?e["$start_with?"]('""')["$!"]():c,b!==!1&&b!==h?e["$end_with?"]('"')["$!"]():b},j["$buffer_quoted?"]=function(){var a,b=this;return b.buffer=b.buffer.$lstrip(),a=b.buffer["$start_with?"]('"'),a!==!1&&a!==h?b.buffer["$start_with?"]('""')["$!"]():a},j.$take_cell_spec=function(){var a=this;return a.cell_specs.$shift()},j.$push_cell_spec=function(a){var b,c=this;return null==a&&(a=l([],{})),c.cell_specs["$<<"]((b=a)!==!1&&b!==h?b:l([],{})),h},j.$keep_cell_open=function(){var a=this;return a.cell_open=!0,h},j.$mark_cell_closed=function(){var a=this;return a.cell_open=!1,h},j["$cell_open?"]=function(){var a=this;return a.cell_open},j["$cell_closed?"]=function(){var a=this;return a.cell_open["$!"]()},j.$close_open_cell=function(a){var b,c=this;return null==a&&(a=l([],{})),c.$push_cell_spec(a),(b=c["$cell_open?"]())===h||b.$$is_boolean&&1!=b||c.$close_cell(!0),c.$advance(),h},j.$close_cell=function(c){try{var d,g,i,j=this,k=h,o=h,p=h;return null==c&&(c=!1),k=j.buffer.$strip(),j.buffer="",j.format["$=="]("psv")?(o=j.$take_cell_spec(),o!==!1&&o!==h?(p=o.$fetch("repeatcol",1),o.$delete("repeatcol")):(j.$warn("asciidoctor: ERROR: "+j.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),o=l([],{}),p=1)):(o=h,p=1,j.format["$=="]("csv")&&(g=k["$empty?"]()["$!"](),(d=g!==!1&&g!==h?k["$include?"]('"'):g)===h||d.$$is_boolean&&1!=d||(g=k["$start_with?"]('"'),(d=g!==!1&&g!==h?k["$end_with?"]('"'):g)===h||d.$$is_boolean&&1!=d||(k=k["$[]"](m(1,-1,!0)).$strip()),k=k.$tr_s('"','"')))),(d=(g=1).$upto,d.$$p=(i=function(d){var g,j,l,m,q,r,s=i.$$s||this,t=h,u=h,v=h,w=h;return null==s.col_count&&(s.col_count=h),null==s.table&&(s.table=h),null==s.current_row&&(s.current_row=h),null==s.last_cursor&&(s.last_cursor=h),null==s.reader&&(s.reader=h),null==s.col_visits&&(s.col_visits=h),null==s.linenum&&(s.linenum=h),null==d&&(d=h),s.col_count["$=="](-1)?(s.table.$columns()["$<<"](t=n.get("Table").$$scope.get("Column").$new(s.table,f(e(s.table.$columns().$size(),d),1))),j=(l=o!==!1&&o!==h)?o["$key?"]("colspan"):l,(g=j!==!1&&j!==h?b(u=f(o["$[]"]("colspan").$to_i(),1),0):j)===h||g.$$is_boolean&&1!=g||(v=s.table.$columns().$size(),(g=(j=u).$times,g.$$p=(m=function(a){var b=m.$$s||this;return null==b.table&&(b.table=h),null==a&&(a=h),b.table.$columns()["$<<"](n.get("Table").$$scope.get("Column").$new(b.table,e(v,a)))},m.$$s=s,m),g).call(j))):((g=t=s.table.$columns()["$[]"](s.current_row.$size()))===h||g.$$is_boolean&&1!=g)&&(s.$warn("asciidoctor: ERROR: "+s.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),a.ret(h)),w=n.get("Table").$$scope.get("Cell").$new(t,k,o,s.last_cursor),s.last_cursor=s.reader.$cursor(),((g=(l=w.$rowspan()["$!"]())!==!1&&l!==h?l:w.$rowspan()["$=="](1))===h||g.$$is_boolean&&1!=g)&&s.$activate_rowspan(w.$rowspan(),(g=w.$colspan())!==!1&&g!==h?g:1),s.col_visits=e(s.col_visits,(g=w.$colspan())!==!1&&g!==h?g:1),s.current_row["$<<"](w),l=s["$end_of_row?"](),(g=l!==!1&&l!==h?(q=(r=s.col_count["$=="](-1)["$!"]())!==!1&&r!==h?r:b(s.linenum,0))!==!1&&q!==h?q:(r=c!==!1&&c!==h)?d["$=="](p):r:l)===h||g.$$is_boolean&&1!=g?h:s.$close_row()},i.$$s=j,i),d).call(g,p),j.cell_open=!1,h}catch(q){if(q===a.returner)return q.$v;throw q}},j.$close_row=function(){var a,b,c,d=this;return d.table.$rows().$body()["$<<"](d.current_row),d.col_count["$=="](-1)&&(d.col_count=d.col_visits),d.col_visits=0,d.current_row=[],d.active_rowspans.$shift(),a=0,b=d.active_rowspans,(c=b["$[]"](a))!==!1&&c!==h?c:b["$[]="](a,0),h},j.$activate_rowspan=function(a,b){var c,d,g,i=this;return(c=(d=1..$upto(f(a,1))).$each,c.$$p=(g=function(a){var c,d=g.$$s||this;return null==d.active_rowspans&&(d.active_rowspans=h),null==a&&(a=h),d.active_rowspans["$[]="](a,e((c=d.active_rowspans["$[]"](a))!==!1&&c!==h?c:0,b))},g.$$s=i,g),c).call(d),h},j["$end_of_row?"]=function(){var a,b=this;return(a=b.col_count["$=="](-1))!==!1&&a!==h?a:b.$effective_col_visits()["$=="](b.col_count)},j.$effective_col_visits=function(){var a=this;return e(a.col_visits,a.active_rowspans["$[]"](0))},j.$advance=function(){var a=this;return a.linenum=e(a.linenum,1)},h&&"advance"}(o.get("Table"),null)}(g)},Opal.modules.asciidoctor=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>=b:a["$>="](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="ignore";var e,f=a.top,g=a,h=a.nil,i=(a.breaker,a.slice,a.gvars),j=a.module,k=a.hash2,l=a.range,m=a.hash;return null==i[":"]&&(i[":"]=h),((e=null!=g.RUBY_ENGINE)===h||e.$$is_boolean&&1!=e)&&a.cdecl(g,"RUBY_ENGINE","unknown"),a.cdecl(g,"RUBY_ENGINE_OPAL",g.get("RUBY_ENGINE")["$=="]("opal")),a.cdecl(g,"RUBY_ENGINE_JRUBY",g.get("RUBY_ENGINE")["$=="]("jruby")),a.cdecl(g,"RUBY_MIN_VERSION_1_9",b(g.get("RUBY_VERSION"),"1.9")),a.cdecl(g,"RUBY_MIN_VERSION_2",b(g.get("RUBY_VERSION"),"2")),f.$require("set"),g.get("RUBY_ENGINE")["$=="]("opal")&&f.$require("asciidoctor/opal_ext"),i[":"].$unshift(g.get("File").$dirname("asciidoctor")),function(e){var f,g,i,n=j(e,"Asciidoctor"),o=(n.$$proto,n.$$scope),p=h,q=h;a.cdecl(o,"RUBY_ENGINE",a.get("RUBY_ENGINE")),function(b){var c=j(b,"SafeMode"),d=(c.$$proto,c.$$scope);a.cdecl(d,"UNSAFE",0),a.cdecl(d,"SAFE",1),a.cdecl(d,"SERVER",10),a.cdecl(d,"SECURE",20)}(n),function(b){var c=j(b,"Compliance");c.$$proto,c.$$scope;c.keys=a.get("Set").$new(),function(a){a.$$scope,a.$$proto;return a.$attr("keys")}(c.$singleton_class()),a.defs(c,"$define",function(b,c){var d,e,f=this;return null==f.keys&&(f.keys=h),(d=(e=b["$=="]("keys"))!==!1&&e!==h?e:f["$respond_to?"](b))===h||d.$$is_boolean&&1!=d||f.$raise(a.get("ArgumentError"),"illegal key name: "+b),f.$instance_variable_set("@"+b,c),function(a){a.$$scope,a.$$proto;return a}(f.$singleton_class()).$send("attr_accessor",b),f.keys["$<<"](b)}),c.$define("block_terminates_paragraph",!0),c.$define("strict_verbatim_paragraphs",!0),c.$define("underline_style_section_titles",!0),c.$define("unwrap_standalone_preamble",!0),c.$define("attribute_missing","skip"),c.$define("attribute_undefined","drop-line"),c.$define("shorthand_property_syntax",!0),c.$define("unique_id_start_index",2),c.$define("markdown_syntax",!0)}(n),a.cdecl(o,"ROOT_PATH",a.get("File").$dirname(a.get("File").$dirname(a.get("File").$expand_path("asciidoctor")))),a.cdecl(o,"LIB_PATH",a.get("File").$join(o.get("ROOT_PATH"),"lib")),a.cdecl(o,"DATA_PATH",a.get("File").$join(o.get("ROOT_PATH"),"data"));try{a.cdecl(o,"USER_HOME",a.get("Dir").$home())}catch(r){a.cdecl(o,"USER_HOME",(f=a.get("ENV")["$[]"]("HOME"))!==!1&&f!==h?f:a.get("Dir").$pwd())}a.cdecl(o,"COERCE_ENCODING",(f=a.get("RUBY_ENGINE_OPAL")["$!"](),f!==!1&&f!==h?a.get("RUBY_MIN_VERSION_1_9"):f)),a.cdecl(o,"FORCE_ENCODING",(f=o.get("COERCE_ENCODING"),f!==!1&&f!==h?a.get("Encoding").$default_external()["$=="](a.get("Encoding").$$scope.get("UTF_8"))["$!"]():f)),a.cdecl(o,"BOM_BYTES_UTF_8","".$bytes().$to_a()),a.cdecl(o,"BOM_BYTES_UTF_16LE","".$bytes().$to_a()),a.cdecl(o,"BOM_BYTES_UTF_16BE","".$bytes().$to_a()),
a.cdecl(o,"FORCE_UNICODE_LINE_LENGTH",a.get("RUBY_MIN_VERSION_1_9")["$!"]()),a.cdecl(o,"SUPPORTS_GSUB_RESULT_HASH",(f=a.get("RUBY_MIN_VERSION_1_9"),f!==!1&&f!==h?a.get("RUBY_ENGINE_OPAL")["$!"]():f)),a.cdecl(o,"EOL","\n"),a.cdecl(o,"NULL","\x00"),a.cdecl(o,"TAB","	"),a.cdecl(o,"DEFAULT_DOCTYPE","article"),a.cdecl(o,"DEFAULT_BACKEND","html5"),a.cdecl(o,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),a.cdecl(o,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),a.cdecl(o,"BACKEND_ALIASES",k(["html","docbook"],{html:"html5",docbook:"docbook5"})),a.cdecl(o,"DEFAULT_PAGE_WIDTHS",k(["docbook"],{docbook:425})),a.cdecl(o,"DEFAULT_EXTENSIONS",k(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"})),a.cdecl(o,"ASCIIDOC_EXTENSIONS",k([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),a.cdecl(o,"SECTION_LEVELS",k(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),a.cdecl(o,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),a.cdecl(o,"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),a.cdecl(o,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),a.cdecl(o,"DELIMITED_BLOCKS",k(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.get("Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.get("Set").$new()],",===":["table",a.get("Set").$new()],":===":["table",a.get("Set").$new()],"!===":["table",a.get("Set").$new()],"////":["comment",a.get("Set").$new()],"```":["fenced_code",a.get("Set").$new()]})),a.cdecl(o,"DELIMITED_BLOCK_LEADERS",(f=(g=o.get("DELIMITED_BLOCKS").$keys()).$map,f.$$p=(i=function(a){i.$$s||this;return null==a&&(a=h),a["$[]"](l(0,1,!1))},i.$$s=n,i),f).call(g).$to_set()),a.cdecl(o,"LAYOUT_BREAK_LINES",k(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"})),a.cdecl(o,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),a.cdecl(o,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),a.cdecl(o,"ORDERED_LIST_KEYWORDS",k(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),a.cdecl(o,"LIST_CONTINUATION","+"),a.cdecl(o,"LINE_BREAK"," +"),a.cdecl(o,"LINE_CONTINUATION"," \\"),a.cdecl(o,"LINE_CONTINUATION_LEGACY"," +"),a.cdecl(o,"BLOCK_MATH_DELIMITERS",k(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),a.cdecl(o,"INLINE_MATH_DELIMITERS",k(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),a.cdecl(o,"FLEXIBLE_ATTRIBUTES",["sectnums"]),o.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(o,"CC_ALPHA","a-zA-Z"),a.cdecl(o,"CG_ALPHA","[a-zA-Z]"),a.cdecl(o,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(o,"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(o,"CG_BLANK","[ \\t]"),a.cdecl(o,"CC_EOL","(?=\\n|$)"),a.cdecl(o,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(o,"CC_ALL","[\\s\\S]"),a.cdecl(o,"CC_WORD","a-zA-Z0-9_"),a.cdecl(o,"CG_WORD","[a-zA-Z0-9_]")),a.cdecl(o,"AuthorInfoLineRx",new RegExp("^("+o.get("CG_WORD")+"["+o.get("CC_WORD")+"\\-'.]*)(?: +("+o.get("CG_WORD")+"["+o.get("CC_WORD")+"\\-'.]*))?(?: +("+o.get("CG_WORD")+"["+o.get("CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),a.cdecl(o,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/),a.cdecl(o,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/),a.cdecl(o,"ManpageNamePurposeRx",new RegExp("^(.*?)"+o.get("CG_BLANK")+"+-"+o.get("CG_BLANK")+"+(.*)$")),a.cdecl(o,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/),a.cdecl(o,"EvalExpressionRx",new RegExp("^(\\S.*?)"+o.get("CG_BLANK")+"*(==|!=|<=|>=|<|>)"+o.get("CG_BLANK")+"*(\\S.*)$")),a.cdecl(o,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/),a.cdecl(o,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/),a.cdecl(o,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+o.get("CG_BLANK")+"+(.*))?$")),a.cdecl(o,"InvalidAttributeNameCharsRx",/[^\w\-]/),a.cdecl(o,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/),a.cdecl(o,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/),a.cdecl(o,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+o.get("CC_ALPHA")+":_]["+o.get("CC_WORD")+":.-]*)(?:,"+o.get("CG_BLANK")+"*(\\S.*))?)\\]\\]$")),a.cdecl(o,"BlockAttributeListRx",new RegExp("^\\[(|"+o.get("CG_BLANK")+"*["+o.get("CC_WORD")+"\\{,.#\"'%].*)\\]$")),a.cdecl(o,"BlockAttributeLineRx",new RegExp("^\\[(|"+o.get("CG_BLANK")+"*["+o.get("CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+o.get("CC_ALPHA")+":_]["+o.get("CC_WORD")+":.-]*(?:,"+o.get("CG_BLANK")+"*\\S.*)?)\\])\\]$")),a.cdecl(o,"BlockTitleRx",/^\.([^\s.].*)$/),a.cdecl(o,"AdmonitionParagraphRx",new RegExp("^("+c(o.get("ADMONITION_STYLES").$to_a(),"|")+"):"+o.get("CG_BLANK"))),a.cdecl(o,"LiteralParagraphRx",new RegExp("^("+o.get("CG_BLANK")+"+.*)$")),a.cdecl(o,"CommentBlockRx",/^\/{4,}$/),a.cdecl(o,"CommentLineRx",/^\/\/(?:[^\/]|$)/),a.cdecl(o,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+o.get("CG_BLANK")+"+(\\S.*?)(?:"+o.get("CG_BLANK")+"+\\1)?$")),a.cdecl(o,"SetextSectionTitleRx",new RegExp("^((?=.*"+o.get("CG_WORD")+"+.*)[^.].*?)$")),a.cdecl(o,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/),a.cdecl(o,"InlineSectionAnchorRx",new RegExp("^(.*?)"+o.get("CG_BLANK")+"+(\\\\)?\\[\\[(["+o.get("CC_ALPHA")+":_]["+o.get("CC_WORD")+":.-]*)(?:,"+o.get("CG_BLANK")+"*(\\S.*?))?\\]\\]$")),a.cdecl(o,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,5}|#x[a-fA-F0-9]{2,4});|[^"+o.get("CC_WORD")+"]+?")),a.cdecl(o,"FloatingTitleStyleRx",/^(?:float|discrete)\b/),a.cdecl(o,"AnyListRx",new RegExp("^(?:<?\\d+>"+o.get("CG_BLANK")+"+"+o.get("CG_GRAPH")+"|"+o.get("CG_BLANK")+"*(?:-|(?:\\*|\\.|\\u2022){1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+o.get("CG_BLANK")+"+"+o.get("CG_GRAPH")+"|"+o.get("CG_BLANK")+"*.*?(?::{2,4}|;;)(?:"+o.get("CG_BLANK")+"+"+o.get("CG_GRAPH")+"|$))")),a.cdecl(o,"UnorderedListRx",new RegExp("^"+o.get("CG_BLANK")+"*(-|\\*{1,5}|\\u2022{1,5})"+o.get("CG_BLANK")+"+(.*)$")),a.cdecl(o,"OrderedListRx",new RegExp("^"+o.get("CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+o.get("CG_BLANK")+"+(.*)$")),a.cdecl(o,"OrderedListMarkerRxMap",k(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),a.cdecl(o,"DefinitionListRx",new RegExp("^(?!\\/\\/)"+o.get("CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+o.get("CG_BLANK")+"+(.*))?$")),a.cdecl(o,"DefinitionListSiblingRx",k(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+o.get("CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+o.get("CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+o.get("CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+o.get("CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+o.get("CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+o.get("CG_BLANK")+"+(.*))?$"),";;":new RegExp("^(?!\\/\\/)"+o.get("CG_BLANK")+"*(.*)(;;)(?:"+o.get("CG_BLANK")+"+(.*))?$")})),a.cdecl(o,"CalloutListRx",new RegExp("^<?(\\d+)>"+o.get("CG_BLANK")+"+(.*)")),a.cdecl(o,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/),a.cdecl(o,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)"),a.cdecl(o,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+o.get("CC_EOL")+")")),a.cdecl(o,"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+o.get("CC_EOL")+")")),a.cdecl(o,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+o.get("CC_EOL")+")"),a.cdecl(o,"ListRxMap",k(["ulist","olist","dlist","colist"],{ulist:o.get("UnorderedListRx"),olist:o.get("OrderedListRx"),dlist:o.get("DefinitionListRx"),colist:o.get("CalloutListRx")})),a.cdecl(o,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),a.cdecl(o,"CellSpecStartRx",new RegExp("^"+o.get("CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),a.cdecl(o,"CellSpecEndRx",new RegExp(""+o.get("CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),a.cdecl(o,"GenericBlockMacroRx",new RegExp("^("+o.get("CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$")),a.cdecl(o,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/),a.cdecl(o,"TocBlockMacroRx",/^toc::\[(.*?)\]$/),a.cdecl(o,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+o.get("CC_ALPHA")+":_]["+o.get("CC_WORD")+":.-]*)(?:,"+o.get("CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])")),a.cdecl(o,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+o.get("CC_WORD")+":]["+o.get("CC_WORD")+":.-]*?)\\]\\]\\]")),a.cdecl(o,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+o.get("CG_WORD")+"["+o.get("CC_WORD")+".%+-]*@"+o.get("CG_ALNUM")+"["+o.get("CC_ALNUM")+".-]*\\."+o.get("CG_ALPHA")+"{2,4}\\b")),a.cdecl(o,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+o.get("CC_ALL")+"*?[^\\\\])\\]")),a.cdecl(o,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/),a.cdecl(o,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+o.get("CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+o.get("CC_ALL")+"+?)\\)\\)(?!\\)))")),a.cdecl(o,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/),a.cdecl(o,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+o.get("CG_BLANK")+"*[^\\1])")),a.cdecl(o,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/),a.cdecl(o,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/),a.cdecl(o,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+o.get("CC_ALL")+"*?[^\\\\])\\]")),a.cdecl(o,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+o.get("CG_WORD")+"|"+o.get("CG_WORD")+".*?\\S)\\["+o.get("CG_BLANK")+"*(.+?)?\\]")),a.cdecl(o,"MenuInlineRx",new RegExp('\\\\?"('+o.get("CG_WORD")+'[^"]*?'+o.get("CG_BLANK")+"*&gt;"+o.get("CG_BLANK")+'*[^" \\t][^"]*)"')),a.cdecl(o,"PassInlineRx",m(!1,["+","`",new RegExp("(^|[^"+o.get("CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+o.get("CC_ALL")+"*?\\S)\\4)(?!"+o.get("CG_WORD")+")")],!0,["`",h,new RegExp("(^|[^`"+o.get("CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+o.get("CC_ALL")+"*?\\S)\\4)(?![`"+o.get("CC_WORD")+"])")])),a.cdecl(o,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+o.get("CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+o.get("CC_ALL")+"*?[^\\\\])\\])")),a.cdecl(o,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+o.get("CC_WORD")+'":.\\/]'+o.get("CC_ALL")+"*?)&gt;&gt;|xref:(["+o.get("CC_WORD")+'":.\\/]'+o.get("CC_ALL")+"*?)\\[("+o.get("CC_ALL")+"*?)\\])")),o.get("RUBY_ENGINE")["$=="]("opal")&&a.cdecl(o,"LineBreakRx",/^(.*)[ \t]\+$/m),a.cdecl(o,"LayoutBreakLineRx",/^('|<){3,}$/),a.cdecl(o,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/),a.cdecl(o,"BlankLineRx",new RegExp("^"+o.get("CG_BLANK")+"*\\n")),a.cdecl(o,"DataDelimiterRx",/,|;/),a.cdecl(o,"DigitsRx",/^\d+$/),a.cdecl(o,"DoubleQuotedRx",/^("|)(.*)\1$/),a.cdecl(o,"DoubleQuotedMultiRx",new RegExp('^("|)('+o.get("CC_ALL")+"*)\\1$")),a.cdecl(o,"TrailingDigitsRx",/\d+$/),a.cdecl(o,"EscapedSpaceRx",new RegExp("\\\\("+o.get("CG_BLANK")+")")),a.cdecl(o,"SpaceDelimiterRx",new RegExp("([^\\\\])"+o.get("CG_BLANK")+"+")),a.cdecl(o,"SubModifierSniffRx",/[+-]/),a.cdecl(o,"UnicodeCharScanRx",function(){return o.get("RUBY_ENGINE")["$=="]("opal")?h:h}()),a.cdecl(o,"UriSniffRx",new RegExp("^"+o.get("CG_ALPHA")+"["+o.get("CC_ALNUM")+".+-]+:/{0,2}")),a.cdecl(o,"UriTerminator",/[);:]$/),a.cdecl(o,"XmlSanitizeRx",/<[^>]+>/),a.cdecl(o,"INTRINSIC_ATTRIBUTES",k(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"})),p=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+o.get("CC_ALL")+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+o.get("CC_ALL")+"*?\\S)\\*(?!"+o.get("CG_WORD")+")")],["double","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+o.get("CC_ALL")+'*?\\S)`"(?!'+o.get("CG_WORD")+")")],["single","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+o.get("CC_ALL")+"*?\\S)`'(?!"+o.get("CG_WORD")+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+o.get("CC_ALL")+"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+o.get("CC_ALL")+"*?\\S)`(?!["+o.get("CC_WORD")+"\"'`])")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+o.get("CC_ALL")+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+o.get("CC_ALL")+"*?\\S)_(?!"+o.get("CG_WORD")+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+o.get("CC_ALL")+"+?)##")],["mark","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+o.get("CC_ALL")+"*?\\S)#(?!"+o.get("CG_WORD")+")")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]],q=p.$dup(),q["$[]="](2,["double","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+o.get("CC_ALL")+"*?\\S)''(?!"+o.get("CG_WORD")+")")]),q["$[]="](3,["single","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+o.get("CC_ALL")+"*?\\S)'(?!"+o.get("CG_WORD")+")")]),q["$[]="](4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+o.get("CC_ALL")+"+?)\\+\\+")]),q["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+o.get("CC_ALL")+"*?\\S)\\+(?!"+o.get("CG_WORD")+")")]),q.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+o.get("CC_ALL")+"*?\\S)'(?!"+o.get("CG_WORD")+")")]),a.cdecl(o,"QUOTE_SUBS",m(!1,p,!0,q)),p=h,q=h,a.cdecl(o,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+o.get("CG_WORD")+")\\\\?--(?="+o.get("CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+o.get("CG_ALNUM")+")\\\\?'(?="+o.get("CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,5}|#x[a-fA-F0-9]{2,4});)/,"","bounding"]]),function(c){var e=c.$$scope;c.$$proto;return c.$$proto.$load=function(b,c){var d,f,g,i,j,l,m,n,o,p=this,q=h,r=h,s=h,t=h,u=h,v=h,w=h,x=h,y=h,z=h,A=h,B=h,C=h,D=h;null==c&&(c=k([],{}));try{if(c=c.$dup(),(d=q=c["$[]"]("timings"))===h||d.$$is_boolean&&1!=d||q.$start("read"),r=c["$[]="]("attributes",function(){return(d=(s=c["$[]"]("attributes"))["$!"]())===h||d.$$is_boolean&&1!=d?(d=(f=a.get("Hash")["$==="](s))!==!1&&f!==h?f:(g=a.get("RUBY_ENGINE_JRUBY"),g!==!1&&g!==h?a.get("Java").$$scope.get("JavaUtil").$$scope.get("Map")["$==="](s):g))===h||d.$$is_boolean&&1!=d?(d=a.get("Array")["$==="](s))===h||d.$$is_boolean&&1!=d?(d=a.get("String")["$==="](s))===h||d.$$is_boolean&&1!=d?(l=s["$respond_to?"]("keys"),(d=l!==!1&&l!==h?s["$respond_to?"]("[]"):l)===h||d.$$is_boolean&&1!=d?p.$raise(a.get("ArgumentError"),"illegal type for attributes option: "+s.$class().$ancestors()):(u=s,s=k([],{}),(d=(l=u.$keys()).$each,d.$$p=(m=function(a){m.$$s||this;return null==a&&(a=h),s["$[]="](a,u["$[]"](a))},m.$$s=p,m),d).call(l),s)):(t="\\1",s=s.$gsub(e.get("SpaceDelimiterRx"),""+t+e.get("NULL")).$gsub(e.get("EscapedSpaceRx"),t),(d=(g=s.$split(e.get("NULL"))).$inject,d.$$p=(j=function(b,c){var d,e=(j.$$s||this,h),f=h;return null==b&&(b=h),null==c&&(c=h),d=a.to_ary(c.$split("=",2)),e=null==d[0]?h:d[0],f=null==d[1]?h:d[1],b["$[]="](e,(d=f)!==!1&&d!==h?d:""),b},j.$$s=p,j),d).call(g,k([],{}))):(d=(f=s).$inject,d.$$p=(i=function(b,c){var d,e=(i.$$s||this,h),f=h;return null==b&&(b=h),null==c&&(c=h),d=a.to_ary(c.$split("=",2)),e=null==d[0]?h:d[0],f=null==d[1]?h:d[1],b["$[]="](e,(d=f)!==!1&&d!==h?d:""),b},i.$$s=p,i),d).call(f,k([],{})):s.$dup():k([],{})}()),v=h,(d=a.get("File")["$==="](b))===h||d.$$is_boolean&&1!=d)if((d=b["$respond_to?"]("readlines"))===h||d.$$is_boolean&&1!=d)(d=a.get("String")["$==="](b))===h||d.$$is_boolean&&1!=d?(d=a.get("Array")["$==="](b))===h||d.$$is_boolean&&1!=d?p.$raise(a.get("ArgumentError"),"unsupported input type: "+b.$class()):v=b.$dup():v=b.$lines().$entries();else{try{b.$rewind()}catch(E){}v=b.$readlines()}else w=a.get("File").$expand_path(b.$path()),x=b.$mtime(),v=b.$readlines(),r["$[]="]("docfile",w),r["$[]="]("docdir",a.get("File").$dirname(w)),r["$[]="]("docname",e.get("Helpers").$basename(w,!0)),d="docdate",n=r,y=(o=n["$[]"](d))!==!1&&o!==h?o:n["$[]="](d,x.$strftime("%Y-%m-%d")),d="doctime",n=r,z=(o=n["$[]"](d))!==!1&&o!==h?o:n["$[]="](d,x.$strftime("%H:%M:%S %Z")),r["$[]="]("docdatetime",""+y+" "+z);return q!==!1&&q!==h&&(q.$record("read"),q.$start("parse")),A=c["$[]"]("parse")["$=="](!1)?e.get("Document").$new(v,c):e.get("Document").$new(v,c).$parse(),q!==!1&&q!==h&&q.$record("parse"),A}catch(E){B=E;try{C="asciidoctor: FAILED: "+((d=r["$[]"]("docfile"))!==!1&&d!==h?d:"<stdin>")+": Failed to load AsciiDoc document",(d=B["$respond_to?"]("exception"))===h||d.$$is_boolean&&1!=d?(D=B.$class().$new(C,B),d=[B.$stack_trace()],n=D,n["$stack_trace="].apply(n,d),d[d.length-1]):(D=B.$exception(""+C+" - "+B.$message()),D.$set_backtrace(B.$backtrace()))}catch(E){D=B}return p.$raise(D)}},c.$$proto.$load_file=function(b,c){var d,e=this;return null==c&&(c=k([],{})),e.$load(a.get("File").$new((d=b)!==!1&&d!==h?d:""),c)},c.$$proto.$convert=function(c,f){var g,i,j,l,m,n,o,p=this,q=h,r=h,s=h,t=h,u=h,v=h,w=h,x=h,y=h,z=h,A=h,B=h,C=h,D=h,E=h,F=h,G=h,H=h,I=h,J=h,K=h,L=h,M=h,N=h,O=h,P=h;if(null==f&&(f=k([],{})),f=f.$dup(),f.$delete("parse"),q=f.$delete("to_file"),r=f.$delete("to_dir"),s=(g=f.$delete("mkdirs"))!==!1&&g!==h?g:!1,t=f["$[]"]("timings"),u=q,(!0)["$==="](u)||h["$==="](u))g=r["$!"](),v=g!==!1&&g!==h?a.get("File")["$==="](c):g,w=!1,x=r,q=h;else if((!1)["$==="](u))v=!1,w=!1,x=!1,q=h;else{if("/dev/null"["$==="](u))return p.$load(c,f);v=!1,w=q["$respond_to?"]("write"),x=function(){return w!==!1&&w!==h?!1:q}()}return((g=f["$key?"]("header_footer"))===h||g.$$is_boolean&&1!=g)&&((g=(i=v)!==!1&&i!==h?i:x)===h||g.$$is_boolean&&1!=g||f["$[]="]("header_footer",!0)),v!==!1&&v!==h?(y=a.get("File").$expand_path(c.$path()),f["$[]="]("to_dir",z=a.get("File").$dirname(y))):x!==!1&&x!==h?r!==!1&&r!==h?q!==!1&&q!==h?f["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(a.get("File").$join(r,q)))):f["$[]="]("to_dir",a.get("File").$expand_path(r)):q!==!1&&q!==h&&f["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(q))):f["$[]="]("to_dir",h),A=p.$load(c,f),v!==!1&&v!==h?(B=a.get("File").$join(z,""+A.$attributes()["$[]"]("docname")+A.$outfilesuffix()),B["$=="](y)&&p.$raise(a.get("IOError"),"input file and output file cannot be the same: "+B)):x!==!1&&x!==h?(C=function(){return(g=f["$has_key?"]("base_dir"))===h||g.$$is_boolean&&1!=g?a.get("File").$expand_path(a.get("Dir").$pwd()):a.get("File").$expand_path(f["$[]"]("base_dir"))}(),D=function(){return b(A.$safe(),e.get("SafeMode").$$scope.get("SAFE"))?C:h}(),r!==!1&&r!==h?(z=A.$normalize_system_path(r,C,D,k(["target_name","recover"],{target_name:"to_dir",recover:!1})),q!==!1&&q!==h?(B=A.$normalize_system_path(q,z,h,k(["target_name","recover"],{target_name:"to_dir",recover:!1})),z=a.get("File").$dirname(B)):B=a.get("File").$join(z,""+A.$attributes()["$[]"]("docname")+A.$outfilesuffix())):q!==!1&&q!==h&&(B=A.$normalize_system_path(q,C,D,k(["target_name","recover"],{target_name:"to_dir",recover:!1})),z=a.get("File").$dirname(B)),((g=a.get("File")["$directory?"](z))===h||g.$$is_boolean&&1!=g)&&(s!==!1&&s!==h?a.get("FileUtils").$mkdir_p(z):p.$raise(a.get("IOError"),"target directory does not exist: "+r))):(B=q,z=h),t!==!1&&t!==h&&t.$start("convert"),E=function(){return(g=(i=B!==!1&&B!==h)?w["$!"]():i)===h||g.$$is_boolean&&1!=g?k([],{}):k(["outfile","outdir"],{outfile:B,outdir:z})}(),F=A.$convert(E),t!==!1&&t!==h&&t.$record("convert"),B!==!1&&B!==h?(t!==!1&&t!==h&&t.$start("write"),A.$write(F,B),t!==!1&&t!==h&&t.$record("write"),n=w["$!"](),m=n!==!1&&n!==h?d(A.$safe(),e.get("SafeMode").$$scope.get("SECURE")):n,l=m!==!1&&m!==h?A["$attr?"]("linkcss"):m,j=l!==!1&&l!==h?A["$attr?"]("copycss"):l,i=j!==!1&&j!==h?A["$attr?"]("basebackend-html"):j,(g=i!==!1&&i!==h?(j=G=A.$attr("stylesdir"),j!==!1&&j!==h?e.get("Helpers")["$uriish?"](G):j)["$!"]():i)===h||g.$$is_boolean&&1!=g||(H=!1,I=!1,(g=J=A.$attr("stylesheet"))===h||g.$$is_boolean&&1!=g||((g=e.get("DEFAULT_STYLESHEET_KEYS")["$include?"](J))===h||g.$$is_boolean&&1!=g?(g=e.get("Helpers")["$uriish?"](J)["$!"]())===h||g.$$is_boolean&&1!=g||(I=!0):H=!0),g=A["$attr?"]("source-highlighter","coderay"),K=g!==!1&&g!==h?A.$attr("coderay-css","class")["$=="]("class"):g,g=A["$attr?"]("source-highlighter","pygments"),L=g!==!1&&g!==h?A.$attr("pygments-css","class")["$=="]("class"):g,(g=(i=(j=(l=H)!==!1&&l!==h?l:I)!==!1&&j!==h?j:K)!==!1&&i!==h?i:L)===h||g.$$is_boolean&&1!=g||(M=A.$normalize_system_path(G,z,function(){return b(A.$safe(),e.get("SafeMode").$$scope.get("SAFE"))?z:h}()),s!==!1&&s!==h&&e.get("Helpers").$mkdir_p(M),H!==!1&&H!==h?e.get("Stylesheets").$instance().$write_primary_stylesheet(M):I!==!1&&I!==h&&(N=(g=(N=A.$attr("copycss"))["$empty?"]())===h||g.$$is_boolean&&1!=g?A.$normalize_system_path(N):A.$normalize_system_path(J),O=A.$normalize_system_path(J,M,function(){return b(A.$safe(),e.get("SafeMode").$$scope.get("SAFE"))?z:h}()),((g=(i=N["$=="](O))!==!1&&i!==h?i:(P=A.$read_asset(N))["$nil?"]())===h||g.$$is_boolean&&1!=g)&&(g=(i=a.get("File")).$open,g.$$p=(o=function(a){o.$$s||this;return null==a&&(a=h),a.$write(P)},o.$$s=p,o),g).call(i,O,"w")),K!==!1&&K!==h?e.get("Stylesheets").$instance().$write_coderay_stylesheet(M):L!==!1&&L!==h&&e.get("Stylesheets").$instance().$write_pygments_stylesheet(M,A.$attr("pygments-style")))),A):F},c.$$proto.$render=c.$$proto.$convert,c.$$proto.$convert_file=function(b,c){var d,e=this;return null==c&&(c=k([],{})),e.$convert(a.get("File").$new((d=b)!==!1&&d!==h?d:""),c)},c.$$proto.$render_file=c.$$proto.$convert_file}(n.$singleton_class()),o.get("RUBY_ENGINE")["$=="]("opal")&&(n.$require("asciidoctor/version"),n.$require("asciidoctor/timings"))}(f),f.$require("asciidoctor/core_ext"),f.$require("asciidoctor/helpers"),f.$require("asciidoctor/substitutors"),f.$require("asciidoctor/abstract_node"),f.$require("asciidoctor/abstract_block"),f.$require("asciidoctor/attribute_list"),f.$require("asciidoctor/block"),f.$require("asciidoctor/callouts"),f.$require("asciidoctor/converter"),(e=g.get("RUBY_ENGINE_OPAL"))===h||e.$$is_boolean&&1!=e||f.$require("asciidoctor/converter/html5"),f.$require("asciidoctor/document"),f.$require("asciidoctor/inline"),f.$require("asciidoctor/list"),f.$require("asciidoctor/parser"),f.$require("asciidoctor/path_resolver"),f.$require("asciidoctor/reader"),f.$require("asciidoctor/section"),f.$require("asciidoctor/stylesheets"),f.$require("asciidoctor/table")},Opal.modules["asciidoctor/extensions"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var f=a.top,g=a.nil,h=a.breaker,i=a.slice,j=a.module,k=a.klass,l=a.hash2,m=a.range,n=a.hash;return function(f){var o=j(f,"Asciidoctor");o.$$proto,o.$$scope;!function(f){var o=j(f,"Extensions"),p=(o.$$proto,o.$$scope);!function(b,c){function d(){}var e,f,h,j=d=k(b,c,"Processor",d),m=j.$$proto,n=j.$$scope;return m.config=g,function(a){a.$$scope,a.$$proto;return a.$$proto.$config=function(){var a,b=this;return null==b.config&&(b.config=g),(a=b.config)!==!1&&a!==g?a:b.config=l([],{})},a.$$proto.$option=function(a,b){var c=this;return c.$config()["$[]="](a,b)},a.$$proto.$use_dsl=function(){var a,b=this;return(a=b.$name()["$nil_or_empty?"]())===g||a.$$is_boolean&&1!=a?(a=b.$constants().$grep("DSL"))===g||a.$$is_boolean&&1!=a?g:b.$extend(b.$const_get("DSL")):(a=b.$constants().$grep("DSL"))===g||a.$$is_boolean&&1!=a?g:b.$include(b.$const_get("DSL"))},a.$$proto.$extend_dsl=a.$$proto.$use_dsl,a.$$proto.$include_dsl=a.$$proto.$use_dsl}(j.$singleton_class()),j.$attr_reader("config"),m.$initialize=function(a){var b=this;return null==a&&(a=l([],{})),b.config=b.$class().$config().$merge(a)},m.$update_config=function(a){var b=this;return b.config.$update(a)},m.$process=function(b){var c=this;return b=i.call(arguments,0),c.$raise(a.get("NotImplementedError"))},m.$create_block=function(a,b,c,d,e){return null==e&&(e=l([],{})),n.get("Block").$new(a,b,l(["source","attributes"],{source:c,attributes:d}).$merge(e))},m.$create_image_block=function(a,b,c){var d=this;return null==c&&(c=l([],{})),d.$create_block(a,"image",g,b,c)},m.$create_inline=function(a,b,c,d){return null==d&&(d=l([],{})),n.get("Inline").$new(a,b,c,d)},m.$parse_content=function(a,b,c){var d,e,f=g,h=g;for(null==c&&(c=l([],{})),f=function(){return(d=b["$is_a?"](n.get("Reader")))===g||d.$$is_boolean&&1!=d?n.get("Reader").$new(b):b}();(e=f["$has_more_lines?"]())!==g&&(!e.$$is_boolean||1==e);)h=n.get("Parser").$next_block(f,a,c),h!==!1&&h!==g&&a["$<<"](h);return g},(e=(f=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,e.$$p=(h=function(a,b,c){var d,e,f,j=h.$$s||this;return null==a&&(a=g),null==b&&(b=g),null==c&&(c=g),(d=(e=j).$define_method,d.$$p=(f=function(a){var d,e=f.$$s||this;return a=i.call(arguments,0),(d=e).$send.apply(d,[b].concat(a.$dup().$insert(1,c)))},f.$$s=j,f),d).call(e,a)},h.$$s=j,h),e).call(f)}(o,null),function(b){var c,d=j(b,"ProcessorDsl");d.$$proto,d.$$scope;a.defn(d,"$option",function(a,b){var c=this;return c.$config()["$[]="](a,b)}),a.defn(d,"$process",c=function(b){var d,e=this,f=c.$$p,h=f||g;return null==e.process_block&&(e.process_block=g),b=i.call(arguments,0),c.$$p=null,h!==g?e.process_block=h:(d=e.process_block)===g||d.$$is_boolean&&1!=d?e.$raise(a.get("NotImplementedError")):(d=e.process_block).$call.apply(d,[].concat(b))}),a.defn(d,"$process_block_given?",function(){var a,b=this;return a=b.process_block,null!=a&&a!==g?"instance-variable":g})}(o),function(b,c){function d(){}var e=d=k(b,c,"Preprocessor",d),f=e.$$proto;e.$$scope;return f.$process=function(b,c){var d=this;return d.$raise(a.get("NotImplementedError"))},g&&"process"}(o,p.get("Processor")),a.casgn(p.get("Preprocessor"),"DSL",p.get("ProcessorDsl")),function(b,c){function d(){}var e=d=k(b,c,"Treeprocessor",d),f=e.$$proto;e.$$scope;return f.$process=function(b){var c=this;return c.$raise(a.get("NotImplementedError"))},g&&"process"}(o,p.get("Processor")),a.casgn(p.get("Treeprocessor"),"DSL",p.get("ProcessorDsl")),function(b,c){function d(){}var e=d=k(b,c,"Postprocessor",d),f=e.$$proto;e.$$scope;return f.$process=function(b,c){var d=this;return d.$raise(a.get("NotImplementedError"))},g&&"process"}(o,p.get("Processor")),a.casgn(p.get("Postprocessor"),"DSL",p.get("ProcessorDsl")),function(b,c){function d(){}var e=d=k(b,c,"IncludeProcessor",d),f=e.$$proto;e.$$scope;return f.$process=function(b,c,d,e){var f=this;return f.$raise(a.get("NotImplementedError"))},f["$handles?"]=function(a){return!0},g&&"handles?"}(o,p.get("Processor")),a.casgn(p.get("IncludeProcessor"),"DSL",p.get("ProcessorDsl")),function(b,c){function d(){}var e,f=d=k(b,c,"DocinfoProcessor",d),h=f.$$proto;f.$$scope;return h.config=g,f.$attr_accessor("location"),h.$initialize=e=function(b){var c,d,f,h=this;e.$$p;return null==b&&(b=l([],{})),e.$$p=null,a.find_super_dispatcher(h,"initialize",e,null).apply(h,[b]),c="location",d=h.config,(f=d["$[]"](c))!==!1&&f!==g?f:d["$[]="](c,"head")},h.$process=function(b){var c=this;return c.$raise(a.get("NotImplementedError"))},g&&"process"}(o,p.get("Processor")),function(b){var c=j(b,"DocinfoProcessorDsl"),d=(c.$$proto,c.$$scope);c.$include(d.get("ProcessorDsl")),a.defn(c,"$at_location",function(a){var b=this;return b.$option("location",a)})}(o),a.casgn(p.get("DocinfoProcessor"),"DSL",p.get("DocinfoProcessorDsl")),function(b,c){function d(){}var e,f=d=k(b,c,"BlockProcessor",d),h=f.$$proto;f.$$scope;return h.config=g,f.$attr_accessor("name"),h.$initialize=e=function(b,c){var d,f,h,i=this,j=(e.$$p,g);return null==b&&(b=g),null==c&&(c=l([],{})),e.$$p=null,a.find_super_dispatcher(i,"initialize",e,null).apply(i,[c]),i.name=(d=b)!==!1&&d!==g?d:i.config["$[]"]("name"),j=i.config["$[]"]("contexts"),a.get("NilClass")["$==="](j)?(d="contexts",f=i.config,(h=f["$[]"](d))!==!1&&h!==g?h:f["$[]="](d,["open","paragraph"].$to_set())):a.get("Symbol")["$==="](j)?i.config["$[]="]("contexts",[i.config["$[]"]("contexts")].$to_set()):i.config["$[]="]("contexts",i.config["$[]"]("contexts").$to_set()),d="content_model",f=i.config,(h=f["$[]"](d))!==!1&&h!==g?h:f["$[]="](d,"compound")},h.$process=function(b,c,d){var e=this;return e.$raise(a.get("NotImplementedError"))},g&&"process"}(o,p.get("Processor")),function(b){var c=j(b,"BlockProcessorDsl"),d=c.$$proto,e=c.$$scope;c.$include(e.get("ProcessorDsl")),a.defn(c,"$named",function(a){var b,c=this;return(b=c["$is_a?"](e.get("Processor")))===g||b.$$is_boolean&&1!=b?c.$option("name",a):c.name=a}),a.defn(c,"$match_name",d.$named),a.defn(c,"$bind_to",d.$named),a.defn(c,"$contexts",function(a){var b=this;return a=i.call(arguments,0),b.$option("contexts",a.$flatten())}),a.defn(c,"$on_contexts",d.$contexts),a.defn(c,"$on_context",d.$contexts),a.defn(c,"$content_model",function(a){var b=this;return b.$option("content_model",a)}),a.defn(c,"$parse_content_as",d.$content_model),a.defn(c,"$positional_attributes",function(a){var b=this;return a=i.call(arguments,0),b.$option("pos_attrs",a.$flatten())}),a.defn(c,"$pos_attrs",d.$positional_attributes),a.defn(c,"$name_attributes",d.$positional_attributes),a.defn(c,"$name_positional_attributes",d.$positional_attributes),a.defn(c,"$default_attrs",function(a){var b=this;return b.$option("default_attrs",a)}),a.defn(c,"$seed_attributes_with",d.$default_attrs)}(o),a.casgn(p.get("BlockProcessor"),"DSL",p.get("BlockProcessorDsl")),function(b,c){function d(){}var e,f=d=k(b,c,"MacroProcessor",d),h=f.$$proto;f.$$scope;return h.config=g,f.$attr_accessor("name"),
h.$initialize=e=function(b,c){var d,f,h,i=this;e.$$p;return null==b&&(b=g),null==c&&(c=l([],{})),e.$$p=null,a.find_super_dispatcher(i,"initialize",e,null).apply(i,[c]),i.name=(d=b)!==!1&&d!==g?d:i.config["$[]"]("name"),d="content_model",f=i.config,(h=f["$[]"](d))!==!1&&h!==g?h:f["$[]="](d,"attributes")},h.$process=function(b,c,d){var e=this;return e.$raise(a.get("NotImplementedError"))},g&&"process"}(o,p.get("Processor")),function(b){var c=j(b,"MacroProcessorDsl"),d=c.$$proto,e=c.$$scope;c.$include(e.get("ProcessorDsl")),a.defn(c,"$named",function(a){var b,c=this;return(b=c["$is_a?"](e.get("Processor")))===g||b.$$is_boolean&&1!=b?c.$option("name",a):c.name=a}),a.defn(c,"$match_name",d.$named),a.defn(c,"$bind_to",d.$named),a.defn(c,"$content_model",function(a){var b=this;return b.$option("content_model",a)}),a.defn(c,"$parse_content_as",d.$content_model),a.defn(c,"$positional_attributes",function(a){var b=this;return a=i.call(arguments,0),b.$option("pos_attrs",a.$flatten())}),a.defn(c,"$pos_attrs",d.$positional_attributes),a.defn(c,"$name_attributes",d.$positional_attributes),a.defn(c,"$name_positional_attributes",d.$positional_attributes),a.defn(c,"$default_attrs",function(a){var b=this;return b.$option("default_attrs",a)}),a.defn(c,"$seed_attributes_with",d.$default_attrs)}(o),function(a,b){function c(){}var d=c=k(a,b,"BlockMacroProcessor",c);d.$$proto,d.$$scope;return g}(o,p.get("MacroProcessor")),a.casgn(p.get("BlockMacroProcessor"),"DSL",p.get("MacroProcessorDsl")),function(a,b){function c(){}var d=c=k(a,b,"InlineMacroProcessor",c),e=d.$$proto;d.$$scope;return e.config=e.name=g,e.$regexp=function(){var a,b,c,d=this;return a="regexp",b=d.config,(c=b["$[]"](a))!==!1&&c!==g?c:b["$[]="](a,d.$resolve_regexp(d.name,d.config["$[]"]("format")))},e.$resolve_regexp=function(a,b){return b["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")},g&&"resolve_regexp"}(o,p.get("MacroProcessor")),function(b){var c=j(b,"InlineMacroProcessorDsl"),d=(c.$$proto,c.$$scope);c.$include(d.get("MacroProcessorDsl")),a.defn(c,"$using_format",function(a){var b=this;return b.$option("format",a)}),a.defn(c,"$match",function(a){var b=this;return b.$option("regexp",a)})}(o),a.casgn(p.get("InlineMacroProcessor"),"DSL",p.get("InlineMacroProcessorDsl")),function(a,b){function c(){}var d=c=k(a,b,"Extension",c),e=d.$$proto;d.$$scope;return d.$attr("kind"),d.$attr("config"),d.$attr("instance"),e.$initialize=function(a,b,c){var d=this;return d.kind=a,d.instance=b,d.config=c},g&&"initialize"}(o,null),function(b,c){function d(){}var e,f=d=k(b,c,"ProcessorExtension",d),h=f.$$proto;f.$$scope;return f.$attr("process_method"),h.$initialize=e=function(b,c,d){var f,h=this;e.$$p;return null==d&&(d=g),e.$$p=null,a.find_super_dispatcher(h,"initialize",e,null).apply(h,[b,c,c.$config()]),h.process_method=(f=d)!==!1&&f!==g?f:c.$method("process")},g&&"initialize"}(o,p.get("Extension")),function(b,c){function d(){}var e=d=k(b,c,"Group",d),f=e.$$proto;e.$$scope;return function(a){var b=a.$$scope;a.$$proto;return a.$$proto.$register=function(a){var c=this;return null==a&&(a=g),b.get("Extensions").$register(a,c)},g&&"register"}(e.$singleton_class()),f.$activate=function(b){var c=this;return c.$raise(a.get("NotImplementedError"))},g&&"activate"}(o,null),function(f,j){function n(){}var o,p,q,r,s,t,u,v,w,x,y=n=k(f,j,"Registry",n),z=y.$$proto,A=y.$$scope;return z.groups=z.preprocessor_extensions=z.treeprocessor_extensions=z.postprocessor_extensions=z.include_processor_extensions=z.docinfo_processor_extensions=z.block_extensions=z.block_macro_extensions=z.inline_macro_extensions=g,y.$attr_reader("document"),y.$attr_reader("groups"),z.$initialize=function(a){var b=this;return null==a&&(a=l([],{})),b.groups=a,b.preprocessor_extensions=b.treeprocessor_extensions=b.postprocessor_extensions=b.include_processor_extensions=b.docinfo_processor_extensions=g,b.block_extensions=b.block_macro_extensions=b.inline_macro_extensions=g,b.document=g},z.$activate=function(c){var d,e,f,h=this;return h.document=c,(d=(e=b(A.get("Extensions").$groups().$values(),h.groups.$values())).$each,d.$$p=(f=function(b){var c,d,e=f.$$s||this,h=g;return null==b&&(b=g),function(){return h=b,a.get("Proc")["$==="](h)?function(){return h=b.$arity(),0["$==="](h)||(-1)["$==="](h)?(c=(d=e).$instance_exec,c.$$p=b.$to_proc(),c).call(d):1["$==="](h)?b.$call(e):g}():a.get("Class")["$==="](h)?b.$new().$activate(e):b.$activate(e)}()},f.$$s=h,f),d).call(e),h},z.$preprocessor=o=function(a){var b,c,d=this,e=o.$$p,f=e||g;return a=i.call(arguments,0),o.$$p=null,(b=(c=d).$add_document_processor,b.$$p=f.$to_proc(),b).call(c,"preprocessor",a)},z["$preprocessors?"]=function(){var a=this;return a.preprocessor_extensions["$!"]()["$!"]()},z.$preprocessors=function(){var a=this;return a.preprocessor_extensions},z.$treeprocessor=p=function(a){var b,c,d=this,e=p.$$p,f=e||g;return a=i.call(arguments,0),p.$$p=null,(b=(c=d).$add_document_processor,b.$$p=f.$to_proc(),b).call(c,"treeprocessor",a)},z["$treeprocessors?"]=function(){var a=this;return a.treeprocessor_extensions["$!"]()["$!"]()},z.$treeprocessors=function(){var a=this;return a.treeprocessor_extensions},z.$postprocessor=q=function(a){var b,c,d=this,e=q.$$p,f=e||g;return a=i.call(arguments,0),q.$$p=null,(b=(c=d).$add_document_processor,b.$$p=f.$to_proc(),b).call(c,"postprocessor",a)},z["$postprocessors?"]=function(){var a=this;return a.postprocessor_extensions["$!"]()["$!"]()},z.$postprocessors=function(){var a=this;return a.postprocessor_extensions},z.$include_processor=r=function(a){var b,c,d=this,e=r.$$p,f=e||g;return a=i.call(arguments,0),r.$$p=null,(b=(c=d).$add_document_processor,b.$$p=f.$to_proc(),b).call(c,"include_processor",a)},z["$include_processors?"]=function(){var a=this;return a.include_processor_extensions["$!"]()["$!"]()},z.$include_processors=function(){var a=this;return a.include_processor_extensions},z.$docinfo_processor=s=function(a){var b,c,d=this,e=s.$$p,f=e||g;return a=i.call(arguments,0),s.$$p=null,(b=(c=d).$add_document_processor,b.$$p=f.$to_proc(),b).call(c,"docinfo_processor",a)},z["$docinfo_processors?"]=function(a){var b,c,d,e=this;return null==a&&(a=g),(b=e.docinfo_processor_extensions)===g||b.$$is_boolean&&1!=b?!1:a!==!1&&a!==g?(b=(c=e.docinfo_processor_extensions).$find,b.$$p=(d=function(b){d.$$s||this;return null==b&&(b=g),b.$config()["$[]"]("location")["$=="](a)},d.$$s=e,d),b).call(c):!0},z.$docinfo_processors=function(a){var b,c,d,e=this;return null==a&&(a=g),(b=e.docinfo_processor_extensions)===g||b.$$is_boolean&&1!=b?g:a!==!1&&a!==g?(b=(c=e.docinfo_processor_extensions).$select,b.$$p=(d=function(b){d.$$s||this;return null==b&&(b=g),b.$config()["$[]"]("location")["$=="](a)},d.$$s=e,d),b).call(c):e.docinfo_processor_extensions},z.$block=t=function(a){var b,c,d=this,e=t.$$p,f=e||g;return a=i.call(arguments,0),t.$$p=null,(b=(c=d).$add_syntax_processor,b.$$p=f.$to_proc(),b).call(c,"block",a)},z["$blocks?"]=function(){var a=this;return a.block_extensions["$!"]()["$!"]()},z["$registered_for_block?"]=function(a,b){var c,d=this,e=g;return(c=e=d.block_extensions["$[]"](a.$to_sym()))===g||c.$$is_boolean&&1!=c?!1:(c=e.$config()["$[]"]("contexts")["$include?"](b))===g||c.$$is_boolean&&1!=c?!1:e},z.$find_block_extension=function(a){var b=this;return b.block_extensions["$[]"](a.$to_sym())},z.$block_macro=u=function(a){var b,c,d=this,e=u.$$p,f=e||g;return a=i.call(arguments,0),u.$$p=null,(b=(c=d).$add_syntax_processor,b.$$p=f.$to_proc(),b).call(c,"block_macro",a)},z["$block_macros?"]=function(){var a=this;return a.block_macro_extensions["$!"]()["$!"]()},z["$registered_for_block_macro?"]=function(a){var b,c=this,d=g;return(b=d=c.block_macro_extensions["$[]"](a.$to_sym()))===g||b.$$is_boolean&&1!=b?!1:d},z.$find_block_macro_extension=function(a){var b=this;return b.block_macro_extensions["$[]"](a.$to_sym())},z.$inline_macro=v=function(a){var b,c,d=this,e=v.$$p,f=e||g;return a=i.call(arguments,0),v.$$p=null,(b=(c=d).$add_syntax_processor,b.$$p=f.$to_proc(),b).call(c,"inline_macro",a)},z["$inline_macros?"]=function(){var a=this;return a.inline_macro_extensions["$!"]()["$!"]()},z["$registered_for_inline_macro?"]=function(a){var b,c=this,d=g;return(b=d=c.inline_macro_extensions["$[]"](a.$to_sym()))===g||b.$$is_boolean&&1!=b?!1:d},z.$find_inline_macro_extension=function(a){var b=this;return b.inline_macro_extensions["$[]"](a.$to_sym())},z.$inline_macros=function(){var a=this;return a.inline_macro_extensions.$values()},y.$private(),z.$add_document_processor=w=function(b,d){var e,f,h,i,j,k,l=this,n=w.$$p,o=n||g,p=g,q=g,r=g,s=g,t=g,u=g,v=g,x=g,y=g;return w.$$p=null,p=b.$to_s().$tr("_"," "),q=(e=(f=p.$split(" ")).$map,e.$$p=(h=function(a){h.$$s||this;return null==a&&(a=g),""+a.$chr().$upcase()+a["$[]"](m(1,-1,!1))},h.$$s=l,h),e).call(f).$join().$to_sym(),r=A.get("Extensions").$const_get(q),s=function(){return(e=null==a.Object.$$scope.AsciidoctorJ?g:"constant")===g||e.$$is_boolean&&1!=e?g:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(q)}(),t=(e=l.$instance_variable_get(("@"+b+"_extensions").$to_sym()))!==!1&&e!==g?e:l.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]),u=function(){return o!==g?(v=l.$resolve_args(d,1),x=r.$new(v),(e=r.$constants().$grep("DSL"))===g||e.$$is_boolean&&1!=e||x.$extend(r.$const_get("DSL")),(e=(i=x).$instance_exec,e.$$p=o.$to_proc(),e).call(i),x.$freeze(),((e=x["$process_block_given?"]())===g||e.$$is_boolean&&1!=e)&&l.$raise(a.get("ArgumentError").$new("No block specified to process "+p+" extension at "+o.$source_location())),A.get("ProcessorExtension").$new(b,x)):(e=a.to_ary(l.$resolve_args(d,2)),x=null==e[0]?g:e[0],v=null==e[1]?g:e[1],(e=(j=x["$is_a?"](a.get("Class")))!==!1&&j!==g?j:(k=x["$is_a?"](a.get("String")),k!==!1&&k!==g?x=A.get("Extensions").$class_for_name(x):k))===g||e.$$is_boolean&&1!=e?(e=(j=x["$is_a?"](r))!==!1&&j!==g?j:(k=s!==!1&&s!==g)?x["$is_a?"](s):k)===g||e.$$is_boolean&&1!=e?l.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+p+" extension: "+d)):(x.$update_config(v),x.$freeze(),A.get("ProcessorExtension").$new(b,x)):(((e=(j=c(x,r))!==!1&&j!==g?j:(k=s!==!1&&s!==g)?c(x,s):k)===g||e.$$is_boolean&&1!=e)&&l.$raise(a.get("ArgumentError").$new("Invalid type for "+p+" extension: "+x)),y=x.$new(v),y.$freeze(),A.get("ProcessorExtension").$new(b,y)))}(),u.$config()["$[]"]("position")["$=="](">>")?t.$unshift(u):t["$<<"](u)},z.$add_syntax_processor=x=function(b,d){var e,f,i,j,k,n,o=this,p=x.$$p,q=p||g,r=g,s=g,t=g,u=g,v=g,w=g,y=g,z=g,B=g,C=g;if(x.$$p=null,r=b.$to_s().$tr("_"," "),s=(e=(f=r.$split(" ")).$map,e.$$p=(i=function(a){i.$$s||this;return null==a&&(a=g),""+a.$chr().$upcase()+a["$[]"](m(1,-1,!1))},i.$$s=o,i),e).call(f).$join(),t=(""+s+"Processor").$to_sym(),u=A.get("Extensions").$const_get(t),v=function(){return(e=null==a.Object.$$scope.AsciidoctorJ?g:"constant")===g||e.$$is_boolean&&1!=e?g:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(t)}(),w=(e=o.$instance_variable_get(("@"+b+"_extensions").$to_sym()))!==!1&&e!==g?e:o.$instance_variable_set(("@"+b+"_extensions").$to_sym(),l([],{})),q!==g){if(e=a.to_ary(o.$resolve_args(d,2)),y=null==e[0]?g:e[0],z=null==e[1]?g:e[1],B=u.$new(o.$as_symbol(y),z),(e=u.$constants().$grep("DSL"))===g||e.$$is_boolean&&1!=e||B.$extend(u.$const_get("DSL")),q.$arity()["$=="](1)){if(a.yield1(q,B)===h)return h.$v}else(e=(j=B).$instance_exec,e.$$p=q.$to_proc(),e).call(j);return((e=y=o.$as_symbol(B.$name()))===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension at "+q.$source_location())),((e=B["$process_block_given?"]())===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("NoMethodError").$new("No block specified to process "+r+" extension at "+q.$source_location())),B.$freeze(),w["$[]="](y,A.get("ProcessorExtension").$new(b,B))}return e=a.to_ary(o.$resolve_args(d,3)),B=null==e[0]?g:e[0],y=null==e[1]?g:e[1],z=null==e[2]?g:e[2],(e=(k=B["$is_a?"](a.get("Class")))!==!1&&k!==g?k:(n=B["$is_a?"](a.get("String")),n!==!1&&n!==g?B=A.get("Extensions").$class_for_name(B):n))===g||e.$$is_boolean&&1!=e?(e=(k=B["$is_a?"](u))!==!1&&k!==g?k:(n=v!==!1&&v!==g)?B["$is_a?"](v):n)===g||e.$$is_boolean&&1!=e?o.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+r+" extension: "+d)):(B.$update_config(z),((e=y=function(){return y!==!1&&y!==g?(k=[o.$as_symbol(y)],n=B,n["$name="].apply(n,k),k[k.length-1]):o.$as_symbol(B.$name())}())===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension: "+B)),B.$freeze(),w["$[]="](y,A.get("ProcessorExtension").$new(b,B))):(((e=(k=c(B,u))!==!1&&k!==g?k:(n=v!==!1&&v!==g)?c(B,v):n)===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("ArgumentError").$new("Class specified for "+r+" extension does not inherit from "+u+": "+B)),C=B.$new(o.$as_symbol(y),z),((e=y=o.$as_symbol(C.$name()))===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension: "+B)),B.$freeze(),w["$[]="](y,A.get("ProcessorExtension").$new(b,C)))},z.$resolve_args=function(b,f){var h,i=g,j=g,k=g;return i=function(){return(h=b["$[]"](-1)["$is_a?"](a.get("Hash")))===g||h.$$is_boolean&&1!=h?l([],{}):b.$pop()}(),f["$=="](1)?i:(j=b.$size(),d(k=e(e(f,1),j),0)?b.$fill(g,j,k):c(k,0)&&b.$pop(k["$-@"]()),b["$<<"](i),b)},z.$as_symbol=function(b){var c;return b!==!1&&b!==g?function(){return(c=b["$is_a?"](a.get("Symbol")))===g||c.$$is_boolean&&1!=c?b.$to_sym():b}():g},g&&"as_symbol"}(o,null),function(c){var d,e,f=c.$$scope;c.$$proto;return c.$$proto.$generate_name=function(){var a=this;return"extgrp"+a.$next_auto_id()},c.$$proto.$next_auto_id=function(){var a,c=this;return null==c.auto_id&&(c.auto_id=g),(a=c.auto_id)!==!1&&a!==g?a:c.auto_id=-1,c.auto_id=b(c.auto_id,1)},c.$$proto.$groups=function(){var a,b=this;return null==b.groups&&(b.groups=g),(a=b.groups)!==!1&&a!==g?a:b.groups=l([],{})},c.$$proto.$build_registry=d=function(a){var b,c=this,e=d.$$p,h=e||g;return null==a&&(a=g),d.$$p=null,h!==g?((b=a)!==!1&&b!==g?b:a=c.$generate_name(),f.get("Registry").$new(n(a,h))):f.get("Registry").$new()},c.$$proto.$register=e=function(b){var c,d=this,f=e.$$p,h=f||g,j=g,k=g,l=g,m=g,n=g;return b=i.call(arguments,0),e.$$p=null,j=b.$length(),k=function(){return h!==g?h:(c=(l=b.$pop())["$!"]())===g||c.$$is_boolean&&1!=c?function(){return m=l,a.get("Class")["$==="](m)?l:a.get("String")["$==="](m)?d.$class_for_name(l):a.get("Symbol")["$==="](m)?d.$class_for_name(l.$to_s()):l}():d.$raise(a.get("ArgumentError").$new("Extension group to register not specified"))}(),n=(c=b.$pop())!==!1&&c!==g?c:d.$generate_name(),((c=b["$empty?"]())===g||c.$$is_boolean&&1!=c)&&d.$raise(a.get("ArgumentError").$new("Wrong number of arguments ("+j+" for 1..2)")),d.$groups()["$[]="](n,k)},c.$$proto.$unregister_all=function(){var a=this;return a.groups=l([],{})},c.$$proto.$resolve_class=function(b){var c,d=this;return(c=b["$is_a?"](a.get("Class")))===g||c.$$is_boolean&&1!=c?d.$class_for_name(b.$to_s()):b},c.$$proto.$class_for_name=function(b){var c,d,e,f=this,h=g;return h=a.get("Object"),(c=(d=b.$split("::")).$each,c.$$p=(e=function(a){var c,d=e.$$s||this;return null==a&&(a=g),(c=a["$empty?"]())===g||c.$$is_boolean&&1!=c?(c=h["$const_defined?"](a))===g||c.$$is_boolean&&1!=c?d.$raise("Could not resolve class for name: "+b):h=h.$const_get(a):g},e.$$s=f,e),c).call(d),h},g&&"class_for_name"}(o.$singleton_class())}(o)}(f)},("undefined"==typeof AsciidoctorConfiguration||"undefined"==typeof AsciidoctorConfiguration.autoRequireModule||Boolean(AsciidoctorConfiguration.autoRequireModule))&&Opal.require("asciidoctor"),("undefined"==typeof AsciidoctorConfiguration||"undefined"==typeof AsciidoctorConfiguration.autoRequireModule||Boolean(AsciidoctorConfiguration.autoRequireModule))&&Opal.require("asciidoctor/extensions");